{
  "version": 3,
  "sources": ["../node_modules/howler/dist/howler.js", "../../../node_modules/axios/lib/helpers/bind.js", "../../../node_modules/axios/lib/utils.js", "../../../node_modules/axios/lib/helpers/buildURL.js", "../../../node_modules/axios/lib/core/InterceptorManager.js", "../../../node_modules/axios/lib/helpers/normalizeHeaderName.js", "../../../node_modules/axios/lib/core/AxiosError.js", "../../../node_modules/axios/lib/defaults/transitional.js", "../../../node_modules/axios/lib/helpers/toFormData.js", "../../../node_modules/axios/lib/core/settle.js", "../../../node_modules/axios/lib/helpers/cookies.js", "../../../node_modules/axios/lib/helpers/isAbsoluteURL.js", "../../../node_modules/axios/lib/helpers/combineURLs.js", "../../../node_modules/axios/lib/core/buildFullPath.js", "../../../node_modules/axios/lib/helpers/parseHeaders.js", "../../../node_modules/axios/lib/helpers/isURLSameOrigin.js", "../../../node_modules/axios/lib/cancel/CanceledError.js", "../../../node_modules/axios/lib/helpers/parseProtocol.js", "../../../node_modules/axios/lib/adapters/xhr.js", "../../../node_modules/axios/lib/helpers/null.js", "../../../node_modules/axios/lib/defaults/index.js", "../../../node_modules/axios/lib/core/transformData.js", "../../../node_modules/axios/lib/cancel/isCancel.js", "../../../node_modules/axios/lib/core/dispatchRequest.js", "../../../node_modules/axios/lib/core/mergeConfig.js", "../../../node_modules/axios/lib/env/data.js", "../../../node_modules/axios/lib/helpers/validator.js", "../../../node_modules/axios/lib/core/Axios.js", "../../../node_modules/axios/lib/cancel/CancelToken.js", "../../../node_modules/axios/lib/helpers/spread.js", "../../../node_modules/axios/lib/helpers/isAxiosError.js", "../../../node_modules/axios/lib/axios.js", "../../../node_modules/axios/index.js", "../../../node_modules/howler/dist/howler.js", "../node_modules/@wonderlandengine/api/dist/property.js", "../node_modules/@wonderlandengine/api/dist/decorators.js", "../node_modules/@wonderlandengine/api/dist/utils/object.js", "../node_modules/@wonderlandengine/api/dist/utils/event.js", "../node_modules/@wonderlandengine/api/dist/wonderland.js", "../node_modules/@wonderlandengine/api/dist/wasm.js", "../node_modules/@wonderlandengine/components/dist/8thwall-camera.js", "../node_modules/@wonderlandengine/components/dist/cursor-target.js", "../node_modules/gl-matrix/esm/common.js", "../node_modules/gl-matrix/esm/mat3.js", "../node_modules/gl-matrix/esm/mat4.js", "../node_modules/gl-matrix/esm/quat.js", "../node_modules/gl-matrix/esm/vec3.js", "../node_modules/gl-matrix/esm/vec4.js", "../node_modules/gl-matrix/esm/quat2.js", "../node_modules/@wonderlandengine/components/dist/cursor.js", "../node_modules/@wonderlandengine/components/dist/debug-object.js", "../node_modules/@wonderlandengine/components/dist/device-orientation-look.js", "../node_modules/@wonderlandengine/components/dist/finger-cursor.js", "../node_modules/@wonderlandengine/components/dist/fixed-foveation.js", "../node_modules/@wonderlandengine/components/dist/utils/webxr.js", "../node_modules/@wonderlandengine/components/dist/hand-tracking.js", "../node_modules/@wonderlandengine/components/dist/hit-test-location.js", "../node_modules/@wonderlandengine/components/dist/howler-audio-listener.js", "../node_modules/@wonderlandengine/components/dist/howler-audio-source.js", "../node_modules/@wonderlandengine/components/dist/image-texture.js", "../node_modules/@wonderlandengine/components/dist/mouse-look.js", "../node_modules/@wonderlandengine/components/dist/player-height.js", "../node_modules/@wonderlandengine/components/dist/target-framerate.js", "../node_modules/@wonderlandengine/components/dist/teleport.js", "../node_modules/@wonderlandengine/components/dist/trail.js", "../node_modules/@wonderlandengine/components/dist/two-joint-ik-solver.js", "../node_modules/@wonderlandengine/components/dist/video-texture.js", "../node_modules/@wonderlandengine/components/dist/vr-mode-active-switch.js", "../node_modules/@wonderlandengine/components/dist/vrm.js", "../node_modules/@wonderlandengine/components/dist/wasd-controls.js", "../js/expose-banners.js", "../../../utils/networking.js", "../../../utils/formats.js", "../../../utils/helpers.js", "../../../wonderland/package.json", "../../../node_modules/@wonderlandengine/api/dist/property.js", "../../../node_modules/@wonderlandengine/api/dist/decorators.js", "../../../node_modules/@wonderlandengine/api/dist/utils/object.js", "../../../node_modules/@wonderlandengine/api/dist/utils/event.js", "../../../node_modules/@wonderlandengine/api/dist/wonderland.js", "../../../node_modules/@wonderlandengine/api/dist/wasm.js", "../../../node_modules/@wonderlandengine/components/dist/8thwall-camera.js", "../../../node_modules/@wonderlandengine/components/dist/cursor-target.js", "../../../node_modules/gl-matrix/esm/common.js", "../../../node_modules/gl-matrix/esm/mat3.js", "../../../node_modules/gl-matrix/esm/mat4.js", "../../../node_modules/gl-matrix/esm/quat.js", "../../../node_modules/gl-matrix/esm/vec3.js", "../../../node_modules/gl-matrix/esm/vec4.js", "../../../node_modules/gl-matrix/esm/quat2.js", "../../../node_modules/@wonderlandengine/components/dist/cursor.js", "../../../node_modules/@wonderlandengine/components/dist/debug-object.js", "../../../node_modules/@wonderlandengine/components/dist/fixed-foveation.js", "../../../node_modules/@wonderlandengine/components/dist/utils/webxr.js", "../../../node_modules/@wonderlandengine/components/dist/hand-tracking.js", "../../../node_modules/@wonderlandengine/components/dist/howler-audio-listener.js", "../../../node_modules/@wonderlandengine/components/dist/howler-audio-source.js", "../../../node_modules/@wonderlandengine/components/dist/image-texture.js", "../../../node_modules/@wonderlandengine/components/dist/mouse-look.js", "../../../node_modules/@wonderlandengine/components/dist/player-height.js", "../../../node_modules/@wonderlandengine/components/dist/target-framerate.js", "../../../node_modules/@wonderlandengine/components/dist/teleport.js", "../../../node_modules/@wonderlandengine/components/dist/trail.js", "../../../node_modules/@wonderlandengine/components/dist/two-joint-ik-solver.js", "../../../node_modules/@wonderlandengine/components/dist/video-texture.js", "../../../node_modules/@wonderlandengine/components/dist/vr-mode-active-switch.js", "../../../node_modules/@wonderlandengine/components/dist/vrm.js", "../../../node_modules/@wonderlandengine/components/dist/wasd-controls.js", "../../../wonderland/src/index.js", "../js/index.js"],
  "sourcesContent": ["/*!\n *  howler.js v2.2.3\n *  howlerjs.com\n *\n *  (c) 2013-2020, James Simpson of GoldFire Studios\n *  goldfirestudios.com\n *\n *  MIT License\n */\n\n(function() {\n\n  'use strict';\n\n  /** Global Methods **/\n  /***************************************************************************/\n\n  /**\n   * Create the global controller. All contained methods and properties apply\n   * to all sounds that are currently playing or will be in the future.\n   */\n  var HowlerGlobal = function() {\n    this.init();\n  };\n  HowlerGlobal.prototype = {\n    /**\n     * Initialize the global Howler object.\n     * @return {Howler}\n     */\n    init: function() {\n      var self = this || Howler;\n\n      // Create a global ID counter.\n      self._counter = 1000;\n\n      // Pool of unlocked HTML5 Audio objects.\n      self._html5AudioPool = [];\n      self.html5PoolSize = 10;\n\n      // Internal properties.\n      self._codecs = {};\n      self._howls = [];\n      self._muted = false;\n      self._volume = 1;\n      self._canPlayEvent = 'canplaythrough';\n      self._navigator = (typeof window !== 'undefined' && window.navigator) ? window.navigator : null;\n\n      // Public properties.\n      self.masterGain = null;\n      self.noAudio = false;\n      self.usingWebAudio = true;\n      self.autoSuspend = true;\n      self.ctx = null;\n\n      // Set to false to disable the auto audio unlocker.\n      self.autoUnlock = true;\n\n      // Setup the various state values for global tracking.\n      self._setup();\n\n      return self;\n    },\n\n    /**\n     * Get/set the global volume for all sounds.\n     * @param  {Float} vol Volume from 0.0 to 1.0.\n     * @return {Howler/Float}     Returns self or current volume.\n     */\n    volume: function(vol) {\n      var self = this || Howler;\n      vol = parseFloat(vol);\n\n      // If we don't have an AudioContext created yet, run the setup.\n      if (!self.ctx) {\n        setupAudioContext();\n      }\n\n      if (typeof vol !== 'undefined' && vol >= 0 && vol <= 1) {\n        self._volume = vol;\n\n        // Don't update any of the nodes if we are muted.\n        if (self._muted) {\n          return self;\n        }\n\n        // When using Web Audio, we just need to adjust the master gain.\n        if (self.usingWebAudio) {\n          self.masterGain.gain.setValueAtTime(vol, Howler.ctx.currentTime);\n        }\n\n        // Loop through and change volume for all HTML5 audio nodes.\n        for (var i=0; i<self._howls.length; i++) {\n          if (!self._howls[i]._webAudio) {\n            // Get all of the sounds in this Howl group.\n            var ids = self._howls[i]._getSoundIds();\n\n            // Loop through all sounds and change the volumes.\n            for (var j=0; j<ids.length; j++) {\n              var sound = self._howls[i]._soundById(ids[j]);\n\n              if (sound && sound._node) {\n                sound._node.volume = sound._volume * vol;\n              }\n            }\n          }\n        }\n\n        return self;\n      }\n\n      return self._volume;\n    },\n\n    /**\n     * Handle muting and unmuting globally.\n     * @param  {Boolean} muted Is muted or not.\n     */\n    mute: function(muted) {\n      var self = this || Howler;\n\n      // If we don't have an AudioContext created yet, run the setup.\n      if (!self.ctx) {\n        setupAudioContext();\n      }\n\n      self._muted = muted;\n\n      // With Web Audio, we just need to mute the master gain.\n      if (self.usingWebAudio) {\n        self.masterGain.gain.setValueAtTime(muted ? 0 : self._volume, Howler.ctx.currentTime);\n      }\n\n      // Loop through and mute all HTML5 Audio nodes.\n      for (var i=0; i<self._howls.length; i++) {\n        if (!self._howls[i]._webAudio) {\n          // Get all of the sounds in this Howl group.\n          var ids = self._howls[i]._getSoundIds();\n\n          // Loop through all sounds and mark the audio node as muted.\n          for (var j=0; j<ids.length; j++) {\n            var sound = self._howls[i]._soundById(ids[j]);\n\n            if (sound && sound._node) {\n              sound._node.muted = (muted) ? true : sound._muted;\n            }\n          }\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Handle stopping all sounds globally.\n     */\n    stop: function() {\n      var self = this || Howler;\n\n      // Loop through all Howls and stop them.\n      for (var i=0; i<self._howls.length; i++) {\n        self._howls[i].stop();\n      }\n\n      return self;\n    },\n\n    /**\n     * Unload and destroy all currently loaded Howl objects.\n     * @return {Howler}\n     */\n    unload: function() {\n      var self = this || Howler;\n\n      for (var i=self._howls.length-1; i>=0; i--) {\n        self._howls[i].unload();\n      }\n\n      // Create a new AudioContext to make sure it is fully reset.\n      if (self.usingWebAudio && self.ctx && typeof self.ctx.close !== 'undefined') {\n        self.ctx.close();\n        self.ctx = null;\n        setupAudioContext();\n      }\n\n      return self;\n    },\n\n    /**\n     * Check for codec support of specific extension.\n     * @param  {String} ext Audio file extention.\n     * @return {Boolean}\n     */\n    codecs: function(ext) {\n      return (this || Howler)._codecs[ext.replace(/^x-/, '')];\n    },\n\n    /**\n     * Setup various state values for global tracking.\n     * @return {Howler}\n     */\n    _setup: function() {\n      var self = this || Howler;\n\n      // Keeps track of the suspend/resume state of the AudioContext.\n      self.state = self.ctx ? self.ctx.state || 'suspended' : 'suspended';\n\n      // Automatically begin the 30-second suspend process\n      self._autoSuspend();\n\n      // Check if audio is available.\n      if (!self.usingWebAudio) {\n        // No audio is available on this system if noAudio is set to true.\n        if (typeof Audio !== 'undefined') {\n          try {\n            var test = new Audio();\n\n            // Check if the canplaythrough event is available.\n            if (typeof test.oncanplaythrough === 'undefined') {\n              self._canPlayEvent = 'canplay';\n            }\n          } catch(e) {\n            self.noAudio = true;\n          }\n        } else {\n          self.noAudio = true;\n        }\n      }\n\n      // Test to make sure audio isn't disabled in Internet Explorer.\n      try {\n        var test = new Audio();\n        if (test.muted) {\n          self.noAudio = true;\n        }\n      } catch (e) {}\n\n      // Check for supported codecs.\n      if (!self.noAudio) {\n        self._setupCodecs();\n      }\n\n      return self;\n    },\n\n    /**\n     * Check for browser support for various codecs and cache the results.\n     * @return {Howler}\n     */\n    _setupCodecs: function() {\n      var self = this || Howler;\n      var audioTest = null;\n\n      // Must wrap in a try/catch because IE11 in server mode throws an error.\n      try {\n        audioTest = (typeof Audio !== 'undefined') ? new Audio() : null;\n      } catch (err) {\n        return self;\n      }\n\n      if (!audioTest || typeof audioTest.canPlayType !== 'function') {\n        return self;\n      }\n\n      var mpegTest = audioTest.canPlayType('audio/mpeg;').replace(/^no$/, '');\n\n      // Opera version <33 has mixed MP3 support, so we need to check for and block it.\n      var ua = self._navigator ? self._navigator.userAgent : '';\n      var checkOpera = ua.match(/OPR\\/([0-6].)/g);\n      var isOldOpera = (checkOpera && parseInt(checkOpera[0].split('/')[1], 10) < 33);\n      var checkSafari = ua.indexOf('Safari') !== -1 && ua.indexOf('Chrome') === -1;\n      var safariVersion = ua.match(/Version\\/(.*?) /);\n      var isOldSafari = (checkSafari && safariVersion && parseInt(safariVersion[1], 10) < 15);\n\n      self._codecs = {\n        mp3: !!(!isOldOpera && (mpegTest || audioTest.canPlayType('audio/mp3;').replace(/^no$/, ''))),\n        mpeg: !!mpegTest,\n        opus: !!audioTest.canPlayType('audio/ogg; codecs=\"opus\"').replace(/^no$/, ''),\n        ogg: !!audioTest.canPlayType('audio/ogg; codecs=\"vorbis\"').replace(/^no$/, ''),\n        oga: !!audioTest.canPlayType('audio/ogg; codecs=\"vorbis\"').replace(/^no$/, ''),\n        wav: !!(audioTest.canPlayType('audio/wav; codecs=\"1\"') || audioTest.canPlayType('audio/wav')).replace(/^no$/, ''),\n        aac: !!audioTest.canPlayType('audio/aac;').replace(/^no$/, ''),\n        caf: !!audioTest.canPlayType('audio/x-caf;').replace(/^no$/, ''),\n        m4a: !!(audioTest.canPlayType('audio/x-m4a;') || audioTest.canPlayType('audio/m4a;') || audioTest.canPlayType('audio/aac;')).replace(/^no$/, ''),\n        m4b: !!(audioTest.canPlayType('audio/x-m4b;') || audioTest.canPlayType('audio/m4b;') || audioTest.canPlayType('audio/aac;')).replace(/^no$/, ''),\n        mp4: !!(audioTest.canPlayType('audio/x-mp4;') || audioTest.canPlayType('audio/mp4;') || audioTest.canPlayType('audio/aac;')).replace(/^no$/, ''),\n        weba: !!(!isOldSafari && audioTest.canPlayType('audio/webm; codecs=\"vorbis\"').replace(/^no$/, '')),\n        webm: !!(!isOldSafari && audioTest.canPlayType('audio/webm; codecs=\"vorbis\"').replace(/^no$/, '')),\n        dolby: !!audioTest.canPlayType('audio/mp4; codecs=\"ec-3\"').replace(/^no$/, ''),\n        flac: !!(audioTest.canPlayType('audio/x-flac;') || audioTest.canPlayType('audio/flac;')).replace(/^no$/, '')\n      };\n\n      return self;\n    },\n\n    /**\n     * Some browsers/devices will only allow audio to be played after a user interaction.\n     * Attempt to automatically unlock audio on the first user interaction.\n     * Concept from: http://paulbakaus.com/tutorials/html5/web-audio-on-ios/\n     * @return {Howler}\n     */\n    _unlockAudio: function() {\n      var self = this || Howler;\n\n      // Only run this if Web Audio is supported and it hasn't already been unlocked.\n      if (self._audioUnlocked || !self.ctx) {\n        return;\n      }\n\n      self._audioUnlocked = false;\n      self.autoUnlock = false;\n\n      // Some mobile devices/platforms have distortion issues when opening/closing tabs and/or web views.\n      // Bugs in the browser (especially Mobile Safari) can cause the sampleRate to change from 44100 to 48000.\n      // By calling Howler.unload(), we create a new AudioContext with the correct sampleRate.\n      if (!self._mobileUnloaded && self.ctx.sampleRate !== 44100) {\n        self._mobileUnloaded = true;\n        self.unload();\n      }\n\n      // Scratch buffer for enabling iOS to dispose of web audio buffers correctly, as per:\n      // http://stackoverflow.com/questions/24119684\n      self._scratchBuffer = self.ctx.createBuffer(1, 1, 22050);\n\n      // Call this method on touch start to create and play a buffer,\n      // then check if the audio actually played to determine if\n      // audio has now been unlocked on iOS, Android, etc.\n      var unlock = function(e) {\n        // Create a pool of unlocked HTML5 Audio objects that can\n        // be used for playing sounds without user interaction. HTML5\n        // Audio objects must be individually unlocked, as opposed\n        // to the WebAudio API which only needs a single activation.\n        // This must occur before WebAudio setup or the source.onended\n        // event will not fire.\n        while (self._html5AudioPool.length < self.html5PoolSize) {\n          try {\n            var audioNode = new Audio();\n\n            // Mark this Audio object as unlocked to ensure it can get returned\n            // to the unlocked pool when released.\n            audioNode._unlocked = true;\n\n            // Add the audio node to the pool.\n            self._releaseHtml5Audio(audioNode);\n          } catch (e) {\n            self.noAudio = true;\n            break;\n          }\n        }\n\n        // Loop through any assigned audio nodes and unlock them.\n        for (var i=0; i<self._howls.length; i++) {\n          if (!self._howls[i]._webAudio) {\n            // Get all of the sounds in this Howl group.\n            var ids = self._howls[i]._getSoundIds();\n\n            // Loop through all sounds and unlock the audio nodes.\n            for (var j=0; j<ids.length; j++) {\n              var sound = self._howls[i]._soundById(ids[j]);\n\n              if (sound && sound._node && !sound._node._unlocked) {\n                sound._node._unlocked = true;\n                sound._node.load();\n              }\n            }\n          }\n        }\n\n        // Fix Android can not play in suspend state.\n        self._autoResume();\n\n        // Create an empty buffer.\n        var source = self.ctx.createBufferSource();\n        source.buffer = self._scratchBuffer;\n        source.connect(self.ctx.destination);\n\n        // Play the empty buffer.\n        if (typeof source.start === 'undefined') {\n          source.noteOn(0);\n        } else {\n          source.start(0);\n        }\n\n        // Calling resume() on a stack initiated by user gesture is what actually unlocks the audio on Android Chrome >= 55.\n        if (typeof self.ctx.resume === 'function') {\n          self.ctx.resume();\n        }\n\n        // Setup a timeout to check that we are unlocked on the next event loop.\n        source.onended = function() {\n          source.disconnect(0);\n\n          // Update the unlocked state and prevent this check from happening again.\n          self._audioUnlocked = true;\n\n          // Remove the touch start listener.\n          document.removeEventListener('touchstart', unlock, true);\n          document.removeEventListener('touchend', unlock, true);\n          document.removeEventListener('click', unlock, true);\n          document.removeEventListener('keydown', unlock, true);\n\n          // Let all sounds know that audio has been unlocked.\n          for (var i=0; i<self._howls.length; i++) {\n            self._howls[i]._emit('unlock');\n          }\n        };\n      };\n\n      // Setup a touch start listener to attempt an unlock in.\n      document.addEventListener('touchstart', unlock, true);\n      document.addEventListener('touchend', unlock, true);\n      document.addEventListener('click', unlock, true);\n      document.addEventListener('keydown', unlock, true);\n\n      return self;\n    },\n\n    /**\n     * Get an unlocked HTML5 Audio object from the pool. If none are left,\n     * return a new Audio object and throw a warning.\n     * @return {Audio} HTML5 Audio object.\n     */\n    _obtainHtml5Audio: function() {\n      var self = this || Howler;\n\n      // Return the next object from the pool if one exists.\n      if (self._html5AudioPool.length) {\n        return self._html5AudioPool.pop();\n      }\n\n      //.Check if the audio is locked and throw a warning.\n      var testPlay = new Audio().play();\n      if (testPlay && typeof Promise !== 'undefined' && (testPlay instanceof Promise || typeof testPlay.then === 'function')) {\n        testPlay.catch(function() {\n          console.warn('HTML5 Audio pool exhausted, returning potentially locked audio object.');\n        });\n      }\n\n      return new Audio();\n    },\n\n    /**\n     * Return an activated HTML5 Audio object to the pool.\n     * @return {Howler}\n     */\n    _releaseHtml5Audio: function(audio) {\n      var self = this || Howler;\n\n      // Don't add audio to the pool if we don't know if it has been unlocked.\n      if (audio._unlocked) {\n        self._html5AudioPool.push(audio);\n      }\n\n      return self;\n    },\n\n    /**\n     * Automatically suspend the Web Audio AudioContext after no sound has played for 30 seconds.\n     * This saves processing/energy and fixes various browser-specific bugs with audio getting stuck.\n     * @return {Howler}\n     */\n    _autoSuspend: function() {\n      var self = this;\n\n      if (!self.autoSuspend || !self.ctx || typeof self.ctx.suspend === 'undefined' || !Howler.usingWebAudio) {\n        return;\n      }\n\n      // Check if any sounds are playing.\n      for (var i=0; i<self._howls.length; i++) {\n        if (self._howls[i]._webAudio) {\n          for (var j=0; j<self._howls[i]._sounds.length; j++) {\n            if (!self._howls[i]._sounds[j]._paused) {\n              return self;\n            }\n          }\n        }\n      }\n\n      if (self._suspendTimer) {\n        clearTimeout(self._suspendTimer);\n      }\n\n      // If no sound has played after 30 seconds, suspend the context.\n      self._suspendTimer = setTimeout(function() {\n        if (!self.autoSuspend) {\n          return;\n        }\n\n        self._suspendTimer = null;\n        self.state = 'suspending';\n\n        // Handle updating the state of the audio context after suspending.\n        var handleSuspension = function() {\n          self.state = 'suspended';\n\n          if (self._resumeAfterSuspend) {\n            delete self._resumeAfterSuspend;\n            self._autoResume();\n          }\n        };\n\n        // Either the state gets suspended or it is interrupted.\n        // Either way, we need to update the state to suspended.\n        self.ctx.suspend().then(handleSuspension, handleSuspension);\n      }, 30000);\n\n      return self;\n    },\n\n    /**\n     * Automatically resume the Web Audio AudioContext when a new sound is played.\n     * @return {Howler}\n     */\n    _autoResume: function() {\n      var self = this;\n\n      if (!self.ctx || typeof self.ctx.resume === 'undefined' || !Howler.usingWebAudio) {\n        return;\n      }\n\n      if (self.state === 'running' && self.ctx.state !== 'interrupted' && self._suspendTimer) {\n        clearTimeout(self._suspendTimer);\n        self._suspendTimer = null;\n      } else if (self.state === 'suspended' || self.state === 'running' && self.ctx.state === 'interrupted') {\n        self.ctx.resume().then(function() {\n          self.state = 'running';\n\n          // Emit to all Howls that the audio has resumed.\n          for (var i=0; i<self._howls.length; i++) {\n            self._howls[i]._emit('resume');\n          }\n        });\n\n        if (self._suspendTimer) {\n          clearTimeout(self._suspendTimer);\n          self._suspendTimer = null;\n        }\n      } else if (self.state === 'suspending') {\n        self._resumeAfterSuspend = true;\n      }\n\n      return self;\n    }\n  };\n\n  // Setup the global audio controller.\n  var Howler = new HowlerGlobal();\n\n  /** Group Methods **/\n  /***************************************************************************/\n\n  /**\n   * Create an audio group controller.\n   * @param {Object} o Passed in properties for this group.\n   */\n  var Howl = function(o) {\n    var self = this;\n\n    // Throw an error if no source is provided.\n    if (!o.src || o.src.length === 0) {\n      console.error('An array of source files must be passed with any new Howl.');\n      return;\n    }\n\n    self.init(o);\n  };\n  Howl.prototype = {\n    /**\n     * Initialize a new Howl group object.\n     * @param  {Object} o Passed in properties for this group.\n     * @return {Howl}\n     */\n    init: function(o) {\n      var self = this;\n\n      // If we don't have an AudioContext created yet, run the setup.\n      if (!Howler.ctx) {\n        setupAudioContext();\n      }\n\n      // Setup user-defined default properties.\n      self._autoplay = o.autoplay || false;\n      self._format = (typeof o.format !== 'string') ? o.format : [o.format];\n      self._html5 = o.html5 || false;\n      self._muted = o.mute || false;\n      self._loop = o.loop || false;\n      self._pool = o.pool || 5;\n      self._preload = (typeof o.preload === 'boolean' || o.preload === 'metadata') ? o.preload : true;\n      self._rate = o.rate || 1;\n      self._sprite = o.sprite || {};\n      self._src = (typeof o.src !== 'string') ? o.src : [o.src];\n      self._volume = o.volume !== undefined ? o.volume : 1;\n      self._xhr = {\n        method: o.xhr && o.xhr.method ? o.xhr.method : 'GET',\n        headers: o.xhr && o.xhr.headers ? o.xhr.headers : null,\n        withCredentials: o.xhr && o.xhr.withCredentials ? o.xhr.withCredentials : false,\n      };\n\n      // Setup all other default properties.\n      self._duration = 0;\n      self._state = 'unloaded';\n      self._sounds = [];\n      self._endTimers = {};\n      self._queue = [];\n      self._playLock = false;\n\n      // Setup event listeners.\n      self._onend = o.onend ? [{fn: o.onend}] : [];\n      self._onfade = o.onfade ? [{fn: o.onfade}] : [];\n      self._onload = o.onload ? [{fn: o.onload}] : [];\n      self._onloaderror = o.onloaderror ? [{fn: o.onloaderror}] : [];\n      self._onplayerror = o.onplayerror ? [{fn: o.onplayerror}] : [];\n      self._onpause = o.onpause ? [{fn: o.onpause}] : [];\n      self._onplay = o.onplay ? [{fn: o.onplay}] : [];\n      self._onstop = o.onstop ? [{fn: o.onstop}] : [];\n      self._onmute = o.onmute ? [{fn: o.onmute}] : [];\n      self._onvolume = o.onvolume ? [{fn: o.onvolume}] : [];\n      self._onrate = o.onrate ? [{fn: o.onrate}] : [];\n      self._onseek = o.onseek ? [{fn: o.onseek}] : [];\n      self._onunlock = o.onunlock ? [{fn: o.onunlock}] : [];\n      self._onresume = [];\n\n      // Web Audio or HTML5 Audio?\n      self._webAudio = Howler.usingWebAudio && !self._html5;\n\n      // Automatically try to enable audio.\n      if (typeof Howler.ctx !== 'undefined' && Howler.ctx && Howler.autoUnlock) {\n        Howler._unlockAudio();\n      }\n\n      // Keep track of this Howl group in the global controller.\n      Howler._howls.push(self);\n\n      // If they selected autoplay, add a play event to the load queue.\n      if (self._autoplay) {\n        self._queue.push({\n          event: 'play',\n          action: function() {\n            self.play();\n          }\n        });\n      }\n\n      // Load the source file unless otherwise specified.\n      if (self._preload && self._preload !== 'none') {\n        self.load();\n      }\n\n      return self;\n    },\n\n    /**\n     * Load the audio file.\n     * @return {Howler}\n     */\n    load: function() {\n      var self = this;\n      var url = null;\n\n      // If no audio is available, quit immediately.\n      if (Howler.noAudio) {\n        self._emit('loaderror', null, 'No audio support.');\n        return;\n      }\n\n      // Make sure our source is in an array.\n      if (typeof self._src === 'string') {\n        self._src = [self._src];\n      }\n\n      // Loop through the sources and pick the first one that is compatible.\n      for (var i=0; i<self._src.length; i++) {\n        var ext, str;\n\n        if (self._format && self._format[i]) {\n          // If an extension was specified, use that instead.\n          ext = self._format[i];\n        } else {\n          // Make sure the source is a string.\n          str = self._src[i];\n          if (typeof str !== 'string') {\n            self._emit('loaderror', null, 'Non-string found in selected audio sources - ignoring.');\n            continue;\n          }\n\n          // Extract the file extension from the URL or base64 data URI.\n          ext = /^data:audio\\/([^;,]+);/i.exec(str);\n          if (!ext) {\n            ext = /\\.([^.]+)$/.exec(str.split('?', 1)[0]);\n          }\n\n          if (ext) {\n            ext = ext[1].toLowerCase();\n          }\n        }\n\n        // Log a warning if no extension was found.\n        if (!ext) {\n          console.warn('No file extension was found. Consider using the \"format\" property or specify an extension.');\n        }\n\n        // Check if this extension is available.\n        if (ext && Howler.codecs(ext)) {\n          url = self._src[i];\n          break;\n        }\n      }\n\n      if (!url) {\n        self._emit('loaderror', null, 'No codec support for selected audio sources.');\n        return;\n      }\n\n      self._src = url;\n      self._state = 'loading';\n\n      // If the hosting page is HTTPS and the source isn't,\n      // drop down to HTML5 Audio to avoid Mixed Content errors.\n      if (window.location.protocol === 'https:' && url.slice(0, 5) === 'http:') {\n        self._html5 = true;\n        self._webAudio = false;\n      }\n\n      // Create a new sound object and add it to the pool.\n      new Sound(self);\n\n      // Load and decode the audio data for playback.\n      if (self._webAudio) {\n        loadBuffer(self);\n      }\n\n      return self;\n    },\n\n    /**\n     * Play a sound or resume previous playback.\n     * @param  {String/Number} sprite   Sprite name for sprite playback or sound id to continue previous.\n     * @param  {Boolean} internal Internal Use: true prevents event firing.\n     * @return {Number}          Sound ID.\n     */\n    play: function(sprite, internal) {\n      var self = this;\n      var id = null;\n\n      // Determine if a sprite, sound id or nothing was passed\n      if (typeof sprite === 'number') {\n        id = sprite;\n        sprite = null;\n      } else if (typeof sprite === 'string' && self._state === 'loaded' && !self._sprite[sprite]) {\n        // If the passed sprite doesn't exist, do nothing.\n        return null;\n      } else if (typeof sprite === 'undefined') {\n        // Use the default sound sprite (plays the full audio length).\n        sprite = '__default';\n\n        // Check if there is a single paused sound that isn't ended.\n        // If there is, play that sound. If not, continue as usual.\n        if (!self._playLock) {\n          var num = 0;\n          for (var i=0; i<self._sounds.length; i++) {\n            if (self._sounds[i]._paused && !self._sounds[i]._ended) {\n              num++;\n              id = self._sounds[i]._id;\n            }\n          }\n\n          if (num === 1) {\n            sprite = null;\n          } else {\n            id = null;\n          }\n        }\n      }\n\n      // Get the selected node, or get one from the pool.\n      var sound = id ? self._soundById(id) : self._inactiveSound();\n\n      // If the sound doesn't exist, do nothing.\n      if (!sound) {\n        return null;\n      }\n\n      // Select the sprite definition.\n      if (id && !sprite) {\n        sprite = sound._sprite || '__default';\n      }\n\n      // If the sound hasn't loaded, we must wait to get the audio's duration.\n      // We also need to wait to make sure we don't run into race conditions with\n      // the order of function calls.\n      if (self._state !== 'loaded') {\n        // Set the sprite value on this sound.\n        sound._sprite = sprite;\n\n        // Mark this sound as not ended in case another sound is played before this one loads.\n        sound._ended = false;\n\n        // Add the sound to the queue to be played on load.\n        var soundId = sound._id;\n        self._queue.push({\n          event: 'play',\n          action: function() {\n            self.play(soundId);\n          }\n        });\n\n        return soundId;\n      }\n\n      // Don't play the sound if an id was passed and it is already playing.\n      if (id && !sound._paused) {\n        // Trigger the play event, in order to keep iterating through queue.\n        if (!internal) {\n          self._loadQueue('play');\n        }\n\n        return sound._id;\n      }\n\n      // Make sure the AudioContext isn't suspended, and resume it if it is.\n      if (self._webAudio) {\n        Howler._autoResume();\n      }\n\n      // Determine how long to play for and where to start playing.\n      var seek = Math.max(0, sound._seek > 0 ? sound._seek : self._sprite[sprite][0] / 1000);\n      var duration = Math.max(0, ((self._sprite[sprite][0] + self._sprite[sprite][1]) / 1000) - seek);\n      var timeout = (duration * 1000) / Math.abs(sound._rate);\n      var start = self._sprite[sprite][0] / 1000;\n      var stop = (self._sprite[sprite][0] + self._sprite[sprite][1]) / 1000;\n      sound._sprite = sprite;\n\n      // Mark the sound as ended instantly so that this async playback\n      // doesn't get grabbed by another call to play while this one waits to start.\n      sound._ended = false;\n\n      // Update the parameters of the sound.\n      var setParams = function() {\n        sound._paused = false;\n        sound._seek = seek;\n        sound._start = start;\n        sound._stop = stop;\n        sound._loop = !!(sound._loop || self._sprite[sprite][2]);\n      };\n\n      // End the sound instantly if seek is at the end.\n      if (seek >= stop) {\n        self._ended(sound);\n        return;\n      }\n\n      // Begin the actual playback.\n      var node = sound._node;\n      if (self._webAudio) {\n        // Fire this when the sound is ready to play to begin Web Audio playback.\n        var playWebAudio = function() {\n          self._playLock = false;\n          setParams();\n          self._refreshBuffer(sound);\n\n          // Setup the playback params.\n          var vol = (sound._muted || self._muted) ? 0 : sound._volume;\n          node.gain.setValueAtTime(vol, Howler.ctx.currentTime);\n          sound._playStart = Howler.ctx.currentTime;\n\n          // Play the sound using the supported method.\n          if (typeof node.bufferSource.start === 'undefined') {\n            sound._loop ? node.bufferSource.noteGrainOn(0, seek, 86400) : node.bufferSource.noteGrainOn(0, seek, duration);\n          } else {\n            sound._loop ? node.bufferSource.start(0, seek, 86400) : node.bufferSource.start(0, seek, duration);\n          }\n\n          // Start a new timer if none is present.\n          if (timeout !== Infinity) {\n            self._endTimers[sound._id] = setTimeout(self._ended.bind(self, sound), timeout);\n          }\n\n          if (!internal) {\n            setTimeout(function() {\n              self._emit('play', sound._id);\n              self._loadQueue();\n            }, 0);\n          }\n        };\n\n        if (Howler.state === 'running' && Howler.ctx.state !== 'interrupted') {\n          playWebAudio();\n        } else {\n          self._playLock = true;\n\n          // Wait for the audio context to resume before playing.\n          self.once('resume', playWebAudio);\n\n          // Cancel the end timer.\n          self._clearTimer(sound._id);\n        }\n      } else {\n        // Fire this when the sound is ready to play to begin HTML5 Audio playback.\n        var playHtml5 = function() {\n          node.currentTime = seek;\n          node.muted = sound._muted || self._muted || Howler._muted || node.muted;\n          node.volume = sound._volume * Howler.volume();\n          node.playbackRate = sound._rate;\n\n          // Some browsers will throw an error if this is called without user interaction.\n          try {\n            var play = node.play();\n\n            // Support older browsers that don't support promises, and thus don't have this issue.\n            if (play && typeof Promise !== 'undefined' && (play instanceof Promise || typeof play.then === 'function')) {\n              // Implements a lock to prevent DOMException: The play() request was interrupted by a call to pause().\n              self._playLock = true;\n\n              // Set param values immediately.\n              setParams();\n\n              // Releases the lock and executes queued actions.\n              play\n                .then(function() {\n                  self._playLock = false;\n                  node._unlocked = true;\n                  if (!internal) {\n                    self._emit('play', sound._id);\n                  } else {\n                    self._loadQueue();\n                  }\n                })\n                .catch(function() {\n                  self._playLock = false;\n                  self._emit('playerror', sound._id, 'Playback was unable to start. This is most commonly an issue ' +\n                    'on mobile devices and Chrome where playback was not within a user interaction.');\n\n                  // Reset the ended and paused values.\n                  sound._ended = true;\n                  sound._paused = true;\n                });\n            } else if (!internal) {\n              self._playLock = false;\n              setParams();\n              self._emit('play', sound._id);\n            }\n\n            // Setting rate before playing won't work in IE, so we set it again here.\n            node.playbackRate = sound._rate;\n\n            // If the node is still paused, then we can assume there was a playback issue.\n            if (node.paused) {\n              self._emit('playerror', sound._id, 'Playback was unable to start. This is most commonly an issue ' +\n                'on mobile devices and Chrome where playback was not within a user interaction.');\n              return;\n            }\n\n            // Setup the end timer on sprites or listen for the ended event.\n            if (sprite !== '__default' || sound._loop) {\n              self._endTimers[sound._id] = setTimeout(self._ended.bind(self, sound), timeout);\n            } else {\n              self._endTimers[sound._id] = function() {\n                // Fire ended on this audio node.\n                self._ended(sound);\n\n                // Clear this listener.\n                node.removeEventListener('ended', self._endTimers[sound._id], false);\n              };\n              node.addEventListener('ended', self._endTimers[sound._id], false);\n            }\n          } catch (err) {\n            self._emit('playerror', sound._id, err);\n          }\n        };\n\n        // If this is streaming audio, make sure the src is set and load again.\n        if (node.src === 'data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA') {\n          node.src = self._src;\n          node.load();\n        }\n\n        // Play immediately if ready, or wait for the 'canplaythrough'e vent.\n        var loadedNoReadyState = (window && window.ejecta) || (!node.readyState && Howler._navigator.isCocoonJS);\n        if (node.readyState >= 3 || loadedNoReadyState) {\n          playHtml5();\n        } else {\n          self._playLock = true;\n          self._state = 'loading';\n\n          var listener = function() {\n            self._state = 'loaded';\n            \n            // Begin playback.\n            playHtml5();\n\n            // Clear this listener.\n            node.removeEventListener(Howler._canPlayEvent, listener, false);\n          };\n          node.addEventListener(Howler._canPlayEvent, listener, false);\n\n          // Cancel the end timer.\n          self._clearTimer(sound._id);\n        }\n      }\n\n      return sound._id;\n    },\n\n    /**\n     * Pause playback and save current position.\n     * @param  {Number} id The sound ID (empty to pause all in group).\n     * @return {Howl}\n     */\n    pause: function(id) {\n      var self = this;\n\n      // If the sound hasn't loaded or a play() promise is pending, add it to the load queue to pause when capable.\n      if (self._state !== 'loaded' || self._playLock) {\n        self._queue.push({\n          event: 'pause',\n          action: function() {\n            self.pause(id);\n          }\n        });\n\n        return self;\n      }\n\n      // If no id is passed, get all ID's to be paused.\n      var ids = self._getSoundIds(id);\n\n      for (var i=0; i<ids.length; i++) {\n        // Clear the end timer.\n        self._clearTimer(ids[i]);\n\n        // Get the sound.\n        var sound = self._soundById(ids[i]);\n\n        if (sound && !sound._paused) {\n          // Reset the seek position.\n          sound._seek = self.seek(ids[i]);\n          sound._rateSeek = 0;\n          sound._paused = true;\n\n          // Stop currently running fades.\n          self._stopFade(ids[i]);\n\n          if (sound._node) {\n            if (self._webAudio) {\n              // Make sure the sound has been created.\n              if (!sound._node.bufferSource) {\n                continue;\n              }\n\n              if (typeof sound._node.bufferSource.stop === 'undefined') {\n                sound._node.bufferSource.noteOff(0);\n              } else {\n                sound._node.bufferSource.stop(0);\n              }\n\n              // Clean up the buffer source.\n              self._cleanBuffer(sound._node);\n            } else if (!isNaN(sound._node.duration) || sound._node.duration === Infinity) {\n              sound._node.pause();\n            }\n          }\n        }\n\n        // Fire the pause event, unless `true` is passed as the 2nd argument.\n        if (!arguments[1]) {\n          self._emit('pause', sound ? sound._id : null);\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Stop playback and reset to start.\n     * @param  {Number} id The sound ID (empty to stop all in group).\n     * @param  {Boolean} internal Internal Use: true prevents event firing.\n     * @return {Howl}\n     */\n    stop: function(id, internal) {\n      var self = this;\n\n      // If the sound hasn't loaded, add it to the load queue to stop when capable.\n      if (self._state !== 'loaded' || self._playLock) {\n        self._queue.push({\n          event: 'stop',\n          action: function() {\n            self.stop(id);\n          }\n        });\n\n        return self;\n      }\n\n      // If no id is passed, get all ID's to be stopped.\n      var ids = self._getSoundIds(id);\n\n      for (var i=0; i<ids.length; i++) {\n        // Clear the end timer.\n        self._clearTimer(ids[i]);\n\n        // Get the sound.\n        var sound = self._soundById(ids[i]);\n\n        if (sound) {\n          // Reset the seek position.\n          sound._seek = sound._start || 0;\n          sound._rateSeek = 0;\n          sound._paused = true;\n          sound._ended = true;\n\n          // Stop currently running fades.\n          self._stopFade(ids[i]);\n\n          if (sound._node) {\n            if (self._webAudio) {\n              // Make sure the sound's AudioBufferSourceNode has been created.\n              if (sound._node.bufferSource) {\n                if (typeof sound._node.bufferSource.stop === 'undefined') {\n                  sound._node.bufferSource.noteOff(0);\n                } else {\n                  sound._node.bufferSource.stop(0);\n                }\n\n                // Clean up the buffer source.\n                self._cleanBuffer(sound._node);\n              }\n            } else if (!isNaN(sound._node.duration) || sound._node.duration === Infinity) {\n              sound._node.currentTime = sound._start || 0;\n              sound._node.pause();\n\n              // If this is a live stream, stop download once the audio is stopped.\n              if (sound._node.duration === Infinity) {\n                self._clearSound(sound._node);\n              }\n            }\n          }\n\n          if (!internal) {\n            self._emit('stop', sound._id);\n          }\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Mute/unmute a single sound or all sounds in this Howl group.\n     * @param  {Boolean} muted Set to true to mute and false to unmute.\n     * @param  {Number} id    The sound ID to update (omit to mute/unmute all).\n     * @return {Howl}\n     */\n    mute: function(muted, id) {\n      var self = this;\n\n      // If the sound hasn't loaded, add it to the load queue to mute when capable.\n      if (self._state !== 'loaded'|| self._playLock) {\n        self._queue.push({\n          event: 'mute',\n          action: function() {\n            self.mute(muted, id);\n          }\n        });\n\n        return self;\n      }\n\n      // If applying mute/unmute to all sounds, update the group's value.\n      if (typeof id === 'undefined') {\n        if (typeof muted === 'boolean') {\n          self._muted = muted;\n        } else {\n          return self._muted;\n        }\n      }\n\n      // If no id is passed, get all ID's to be muted.\n      var ids = self._getSoundIds(id);\n\n      for (var i=0; i<ids.length; i++) {\n        // Get the sound.\n        var sound = self._soundById(ids[i]);\n\n        if (sound) {\n          sound._muted = muted;\n\n          // Cancel active fade and set the volume to the end value.\n          if (sound._interval) {\n            self._stopFade(sound._id);\n          }\n\n          if (self._webAudio && sound._node) {\n            sound._node.gain.setValueAtTime(muted ? 0 : sound._volume, Howler.ctx.currentTime);\n          } else if (sound._node) {\n            sound._node.muted = Howler._muted ? true : muted;\n          }\n\n          self._emit('mute', sound._id);\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Get/set the volume of this sound or of the Howl group. This method can optionally take 0, 1 or 2 arguments.\n     *   volume() -> Returns the group's volume value.\n     *   volume(id) -> Returns the sound id's current volume.\n     *   volume(vol) -> Sets the volume of all sounds in this Howl group.\n     *   volume(vol, id) -> Sets the volume of passed sound id.\n     * @return {Howl/Number} Returns self or current volume.\n     */\n    volume: function() {\n      var self = this;\n      var args = arguments;\n      var vol, id;\n\n      // Determine the values based on arguments.\n      if (args.length === 0) {\n        // Return the value of the groups' volume.\n        return self._volume;\n      } else if (args.length === 1 || args.length === 2 && typeof args[1] === 'undefined') {\n        // First check if this is an ID, and if not, assume it is a new volume.\n        var ids = self._getSoundIds();\n        var index = ids.indexOf(args[0]);\n        if (index >= 0) {\n          id = parseInt(args[0], 10);\n        } else {\n          vol = parseFloat(args[0]);\n        }\n      } else if (args.length >= 2) {\n        vol = parseFloat(args[0]);\n        id = parseInt(args[1], 10);\n      }\n\n      // Update the volume or return the current volume.\n      var sound;\n      if (typeof vol !== 'undefined' && vol >= 0 && vol <= 1) {\n        // If the sound hasn't loaded, add it to the load queue to change volume when capable.\n        if (self._state !== 'loaded'|| self._playLock) {\n          self._queue.push({\n            event: 'volume',\n            action: function() {\n              self.volume.apply(self, args);\n            }\n          });\n\n          return self;\n        }\n\n        // Set the group volume.\n        if (typeof id === 'undefined') {\n          self._volume = vol;\n        }\n\n        // Update one or all volumes.\n        id = self._getSoundIds(id);\n        for (var i=0; i<id.length; i++) {\n          // Get the sound.\n          sound = self._soundById(id[i]);\n\n          if (sound) {\n            sound._volume = vol;\n\n            // Stop currently running fades.\n            if (!args[2]) {\n              self._stopFade(id[i]);\n            }\n\n            if (self._webAudio && sound._node && !sound._muted) {\n              sound._node.gain.setValueAtTime(vol, Howler.ctx.currentTime);\n            } else if (sound._node && !sound._muted) {\n              sound._node.volume = vol * Howler.volume();\n            }\n\n            self._emit('volume', sound._id);\n          }\n        }\n      } else {\n        sound = id ? self._soundById(id) : self._sounds[0];\n        return sound ? sound._volume : 0;\n      }\n\n      return self;\n    },\n\n    /**\n     * Fade a currently playing sound between two volumes (if no id is passed, all sounds will fade).\n     * @param  {Number} from The value to fade from (0.0 to 1.0).\n     * @param  {Number} to   The volume to fade to (0.0 to 1.0).\n     * @param  {Number} len  Time in milliseconds to fade.\n     * @param  {Number} id   The sound id (omit to fade all sounds).\n     * @return {Howl}\n     */\n    fade: function(from, to, len, id) {\n      var self = this;\n\n      // If the sound hasn't loaded, add it to the load queue to fade when capable.\n      if (self._state !== 'loaded' || self._playLock) {\n        self._queue.push({\n          event: 'fade',\n          action: function() {\n            self.fade(from, to, len, id);\n          }\n        });\n\n        return self;\n      }\n\n      // Make sure the to/from/len values are numbers.\n      from = Math.min(Math.max(0, parseFloat(from)), 1);\n      to = Math.min(Math.max(0, parseFloat(to)), 1);\n      len = parseFloat(len);\n\n      // Set the volume to the start position.\n      self.volume(from, id);\n\n      // Fade the volume of one or all sounds.\n      var ids = self._getSoundIds(id);\n      for (var i=0; i<ids.length; i++) {\n        // Get the sound.\n        var sound = self._soundById(ids[i]);\n\n        // Create a linear fade or fall back to timeouts with HTML5 Audio.\n        if (sound) {\n          // Stop the previous fade if no sprite is being used (otherwise, volume handles this).\n          if (!id) {\n            self._stopFade(ids[i]);\n          }\n\n          // If we are using Web Audio, let the native methods do the actual fade.\n          if (self._webAudio && !sound._muted) {\n            var currentTime = Howler.ctx.currentTime;\n            var end = currentTime + (len / 1000);\n            sound._volume = from;\n            sound._node.gain.setValueAtTime(from, currentTime);\n            sound._node.gain.linearRampToValueAtTime(to, end);\n          }\n\n          self._startFadeInterval(sound, from, to, len, ids[i], typeof id === 'undefined');\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Starts the internal interval to fade a sound.\n     * @param  {Object} sound Reference to sound to fade.\n     * @param  {Number} from The value to fade from (0.0 to 1.0).\n     * @param  {Number} to   The volume to fade to (0.0 to 1.0).\n     * @param  {Number} len  Time in milliseconds to fade.\n     * @param  {Number} id   The sound id to fade.\n     * @param  {Boolean} isGroup   If true, set the volume on the group.\n     */\n    _startFadeInterval: function(sound, from, to, len, id, isGroup) {\n      var self = this;\n      var vol = from;\n      var diff = to - from;\n      var steps = Math.abs(diff / 0.01);\n      var stepLen = Math.max(4, (steps > 0) ? len / steps : len);\n      var lastTick = Date.now();\n\n      // Store the value being faded to.\n      sound._fadeTo = to;\n\n      // Update the volume value on each interval tick.\n      sound._interval = setInterval(function() {\n        // Update the volume based on the time since the last tick.\n        var tick = (Date.now() - lastTick) / len;\n        lastTick = Date.now();\n        vol += diff * tick;\n\n        // Round to within 2 decimal points.\n        vol = Math.round(vol * 100) / 100;\n\n        // Make sure the volume is in the right bounds.\n        if (diff < 0) {\n          vol = Math.max(to, vol);\n        } else {\n          vol = Math.min(to, vol);\n        }\n\n        // Change the volume.\n        if (self._webAudio) {\n          sound._volume = vol;\n        } else {\n          self.volume(vol, sound._id, true);\n        }\n\n        // Set the group's volume.\n        if (isGroup) {\n          self._volume = vol;\n        }\n\n        // When the fade is complete, stop it and fire event.\n        if ((to < from && vol <= to) || (to > from && vol >= to)) {\n          clearInterval(sound._interval);\n          sound._interval = null;\n          sound._fadeTo = null;\n          self.volume(to, sound._id);\n          self._emit('fade', sound._id);\n        }\n      }, stepLen);\n    },\n\n    /**\n     * Internal method that stops the currently playing fade when\n     * a new fade starts, volume is changed or the sound is stopped.\n     * @param  {Number} id The sound id.\n     * @return {Howl}\n     */\n    _stopFade: function(id) {\n      var self = this;\n      var sound = self._soundById(id);\n\n      if (sound && sound._interval) {\n        if (self._webAudio) {\n          sound._node.gain.cancelScheduledValues(Howler.ctx.currentTime);\n        }\n\n        clearInterval(sound._interval);\n        sound._interval = null;\n        self.volume(sound._fadeTo, id);\n        sound._fadeTo = null;\n        self._emit('fade', id);\n      }\n\n      return self;\n    },\n\n    /**\n     * Get/set the loop parameter on a sound. This method can optionally take 0, 1 or 2 arguments.\n     *   loop() -> Returns the group's loop value.\n     *   loop(id) -> Returns the sound id's loop value.\n     *   loop(loop) -> Sets the loop value for all sounds in this Howl group.\n     *   loop(loop, id) -> Sets the loop value of passed sound id.\n     * @return {Howl/Boolean} Returns self or current loop value.\n     */\n    loop: function() {\n      var self = this;\n      var args = arguments;\n      var loop, id, sound;\n\n      // Determine the values for loop and id.\n      if (args.length === 0) {\n        // Return the grou's loop value.\n        return self._loop;\n      } else if (args.length === 1) {\n        if (typeof args[0] === 'boolean') {\n          loop = args[0];\n          self._loop = loop;\n        } else {\n          // Return this sound's loop value.\n          sound = self._soundById(parseInt(args[0], 10));\n          return sound ? sound._loop : false;\n        }\n      } else if (args.length === 2) {\n        loop = args[0];\n        id = parseInt(args[1], 10);\n      }\n\n      // If no id is passed, get all ID's to be looped.\n      var ids = self._getSoundIds(id);\n      for (var i=0; i<ids.length; i++) {\n        sound = self._soundById(ids[i]);\n\n        if (sound) {\n          sound._loop = loop;\n          if (self._webAudio && sound._node && sound._node.bufferSource) {\n            sound._node.bufferSource.loop = loop;\n            if (loop) {\n              sound._node.bufferSource.loopStart = sound._start || 0;\n              sound._node.bufferSource.loopEnd = sound._stop;\n\n              // If playing, restart playback to ensure looping updates.\n              if (self.playing(ids[i])) {\n                self.pause(ids[i], true);\n                self.play(ids[i], true);\n              }\n            }\n          }\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Get/set the playback rate of a sound. This method can optionally take 0, 1 or 2 arguments.\n     *   rate() -> Returns the first sound node's current playback rate.\n     *   rate(id) -> Returns the sound id's current playback rate.\n     *   rate(rate) -> Sets the playback rate of all sounds in this Howl group.\n     *   rate(rate, id) -> Sets the playback rate of passed sound id.\n     * @return {Howl/Number} Returns self or the current playback rate.\n     */\n    rate: function() {\n      var self = this;\n      var args = arguments;\n      var rate, id;\n\n      // Determine the values based on arguments.\n      if (args.length === 0) {\n        // We will simply return the current rate of the first node.\n        id = self._sounds[0]._id;\n      } else if (args.length === 1) {\n        // First check if this is an ID, and if not, assume it is a new rate value.\n        var ids = self._getSoundIds();\n        var index = ids.indexOf(args[0]);\n        if (index >= 0) {\n          id = parseInt(args[0], 10);\n        } else {\n          rate = parseFloat(args[0]);\n        }\n      } else if (args.length === 2) {\n        rate = parseFloat(args[0]);\n        id = parseInt(args[1], 10);\n      }\n\n      // Update the playback rate or return the current value.\n      var sound;\n      if (typeof rate === 'number') {\n        // If the sound hasn't loaded, add it to the load queue to change playback rate when capable.\n        if (self._state !== 'loaded' || self._playLock) {\n          self._queue.push({\n            event: 'rate',\n            action: function() {\n              self.rate.apply(self, args);\n            }\n          });\n\n          return self;\n        }\n\n        // Set the group rate.\n        if (typeof id === 'undefined') {\n          self._rate = rate;\n        }\n\n        // Update one or all volumes.\n        id = self._getSoundIds(id);\n        for (var i=0; i<id.length; i++) {\n          // Get the sound.\n          sound = self._soundById(id[i]);\n\n          if (sound) {\n            // Keep track of our position when the rate changed and update the playback\n            // start position so we can properly adjust the seek position for time elapsed.\n            if (self.playing(id[i])) {\n              sound._rateSeek = self.seek(id[i]);\n              sound._playStart = self._webAudio ? Howler.ctx.currentTime : sound._playStart;\n            }\n            sound._rate = rate;\n\n            // Change the playback rate.\n            if (self._webAudio && sound._node && sound._node.bufferSource) {\n              sound._node.bufferSource.playbackRate.setValueAtTime(rate, Howler.ctx.currentTime);\n            } else if (sound._node) {\n              sound._node.playbackRate = rate;\n            }\n\n            // Reset the timers.\n            var seek = self.seek(id[i]);\n            var duration = ((self._sprite[sound._sprite][0] + self._sprite[sound._sprite][1]) / 1000) - seek;\n            var timeout = (duration * 1000) / Math.abs(sound._rate);\n\n            // Start a new end timer if sound is already playing.\n            if (self._endTimers[id[i]] || !sound._paused) {\n              self._clearTimer(id[i]);\n              self._endTimers[id[i]] = setTimeout(self._ended.bind(self, sound), timeout);\n            }\n\n            self._emit('rate', sound._id);\n          }\n        }\n      } else {\n        sound = self._soundById(id);\n        return sound ? sound._rate : self._rate;\n      }\n\n      return self;\n    },\n\n    /**\n     * Get/set the seek position of a sound. This method can optionally take 0, 1 or 2 arguments.\n     *   seek() -> Returns the first sound node's current seek position.\n     *   seek(id) -> Returns the sound id's current seek position.\n     *   seek(seek) -> Sets the seek position of the first sound node.\n     *   seek(seek, id) -> Sets the seek position of passed sound id.\n     * @return {Howl/Number} Returns self or the current seek position.\n     */\n    seek: function() {\n      var self = this;\n      var args = arguments;\n      var seek, id;\n\n      // Determine the values based on arguments.\n      if (args.length === 0) {\n        // We will simply return the current position of the first node.\n        if (self._sounds.length) {\n          id = self._sounds[0]._id;\n        }\n      } else if (args.length === 1) {\n        // First check if this is an ID, and if not, assume it is a new seek position.\n        var ids = self._getSoundIds();\n        var index = ids.indexOf(args[0]);\n        if (index >= 0) {\n          id = parseInt(args[0], 10);\n        } else if (self._sounds.length) {\n          id = self._sounds[0]._id;\n          seek = parseFloat(args[0]);\n        }\n      } else if (args.length === 2) {\n        seek = parseFloat(args[0]);\n        id = parseInt(args[1], 10);\n      }\n\n      // If there is no ID, bail out.\n      if (typeof id === 'undefined') {\n        return 0;\n      }\n\n      // If the sound hasn't loaded, add it to the load queue to seek when capable.\n      if (typeof seek === 'number' && (self._state !== 'loaded' || self._playLock)) {\n        self._queue.push({\n          event: 'seek',\n          action: function() {\n            self.seek.apply(self, args);\n          }\n        });\n\n        return self;\n      }\n\n      // Get the sound.\n      var sound = self._soundById(id);\n\n      if (sound) {\n        if (typeof seek === 'number' && seek >= 0) {\n          // Pause the sound and update position for restarting playback.\n          var playing = self.playing(id);\n          if (playing) {\n            self.pause(id, true);\n          }\n\n          // Move the position of the track and cancel timer.\n          sound._seek = seek;\n          sound._ended = false;\n          self._clearTimer(id);\n\n          // Update the seek position for HTML5 Audio.\n          if (!self._webAudio && sound._node && !isNaN(sound._node.duration)) {\n            sound._node.currentTime = seek;\n          }\n\n          // Seek and emit when ready.\n          var seekAndEmit = function() {\n            // Restart the playback if the sound was playing.\n            if (playing) {\n              self.play(id, true);\n            }\n\n            self._emit('seek', id);\n          };\n\n          // Wait for the play lock to be unset before emitting (HTML5 Audio).\n          if (playing && !self._webAudio) {\n            var emitSeek = function() {\n              if (!self._playLock) {\n                seekAndEmit();\n              } else {\n                setTimeout(emitSeek, 0);\n              }\n            };\n            setTimeout(emitSeek, 0);\n          } else {\n            seekAndEmit();\n          }\n        } else {\n          if (self._webAudio) {\n            var realTime = self.playing(id) ? Howler.ctx.currentTime - sound._playStart : 0;\n            var rateSeek = sound._rateSeek ? sound._rateSeek - sound._seek : 0;\n            return sound._seek + (rateSeek + realTime * Math.abs(sound._rate));\n          } else {\n            return sound._node.currentTime;\n          }\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Check if a specific sound is currently playing or not (if id is provided), or check if at least one of the sounds in the group is playing or not.\n     * @param  {Number}  id The sound id to check. If none is passed, the whole sound group is checked.\n     * @return {Boolean} True if playing and false if not.\n     */\n    playing: function(id) {\n      var self = this;\n\n      // Check the passed sound ID (if any).\n      if (typeof id === 'number') {\n        var sound = self._soundById(id);\n        return sound ? !sound._paused : false;\n      }\n\n      // Otherwise, loop through all sounds and check if any are playing.\n      for (var i=0; i<self._sounds.length; i++) {\n        if (!self._sounds[i]._paused) {\n          return true;\n        }\n      }\n\n      return false;\n    },\n\n    /**\n     * Get the duration of this sound. Passing a sound id will return the sprite duration.\n     * @param  {Number} id The sound id to check. If none is passed, return full source duration.\n     * @return {Number} Audio duration in seconds.\n     */\n    duration: function(id) {\n      var self = this;\n      var duration = self._duration;\n\n      // If we pass an ID, get the sound and return the sprite length.\n      var sound = self._soundById(id);\n      if (sound) {\n        duration = self._sprite[sound._sprite][1] / 1000;\n      }\n\n      return duration;\n    },\n\n    /**\n     * Returns the current loaded state of this Howl.\n     * @return {String} 'unloaded', 'loading', 'loaded'\n     */\n    state: function() {\n      return this._state;\n    },\n\n    /**\n     * Unload and destroy the current Howl object.\n     * This will immediately stop all sound instances attached to this group.\n     */\n    unload: function() {\n      var self = this;\n\n      // Stop playing any active sounds.\n      var sounds = self._sounds;\n      for (var i=0; i<sounds.length; i++) {\n        // Stop the sound if it is currently playing.\n        if (!sounds[i]._paused) {\n          self.stop(sounds[i]._id);\n        }\n\n        // Remove the source or disconnect.\n        if (!self._webAudio) {\n          // Set the source to 0-second silence to stop any downloading (except in IE).\n          self._clearSound(sounds[i]._node);\n\n          // Remove any event listeners.\n          sounds[i]._node.removeEventListener('error', sounds[i]._errorFn, false);\n          sounds[i]._node.removeEventListener(Howler._canPlayEvent, sounds[i]._loadFn, false);\n          sounds[i]._node.removeEventListener('ended', sounds[i]._endFn, false);\n\n          // Release the Audio object back to the pool.\n          Howler._releaseHtml5Audio(sounds[i]._node);\n        }\n\n        // Empty out all of the nodes.\n        delete sounds[i]._node;\n\n        // Make sure all timers are cleared out.\n        self._clearTimer(sounds[i]._id);\n      }\n\n      // Remove the references in the global Howler object.\n      var index = Howler._howls.indexOf(self);\n      if (index >= 0) {\n        Howler._howls.splice(index, 1);\n      }\n\n      // Delete this sound from the cache (if no other Howl is using it).\n      var remCache = true;\n      for (i=0; i<Howler._howls.length; i++) {\n        if (Howler._howls[i]._src === self._src || self._src.indexOf(Howler._howls[i]._src) >= 0) {\n          remCache = false;\n          break;\n        }\n      }\n\n      if (cache && remCache) {\n        delete cache[self._src];\n      }\n\n      // Clear global errors.\n      Howler.noAudio = false;\n\n      // Clear out `self`.\n      self._state = 'unloaded';\n      self._sounds = [];\n      self = null;\n\n      return null;\n    },\n\n    /**\n     * Listen to a custom event.\n     * @param  {String}   event Event name.\n     * @param  {Function} fn    Listener to call.\n     * @param  {Number}   id    (optional) Only listen to events for this sound.\n     * @param  {Number}   once  (INTERNAL) Marks event to fire only once.\n     * @return {Howl}\n     */\n    on: function(event, fn, id, once) {\n      var self = this;\n      var events = self['_on' + event];\n\n      if (typeof fn === 'function') {\n        events.push(once ? {id: id, fn: fn, once: once} : {id: id, fn: fn});\n      }\n\n      return self;\n    },\n\n    /**\n     * Remove a custom event. Call without parameters to remove all events.\n     * @param  {String}   event Event name.\n     * @param  {Function} fn    Listener to remove. Leave empty to remove all.\n     * @param  {Number}   id    (optional) Only remove events for this sound.\n     * @return {Howl}\n     */\n    off: function(event, fn, id) {\n      var self = this;\n      var events = self['_on' + event];\n      var i = 0;\n\n      // Allow passing just an event and ID.\n      if (typeof fn === 'number') {\n        id = fn;\n        fn = null;\n      }\n\n      if (fn || id) {\n        // Loop through event store and remove the passed function.\n        for (i=0; i<events.length; i++) {\n          var isId = (id === events[i].id);\n          if (fn === events[i].fn && isId || !fn && isId) {\n            events.splice(i, 1);\n            break;\n          }\n        }\n      } else if (event) {\n        // Clear out all events of this type.\n        self['_on' + event] = [];\n      } else {\n        // Clear out all events of every type.\n        var keys = Object.keys(self);\n        for (i=0; i<keys.length; i++) {\n          if ((keys[i].indexOf('_on') === 0) && Array.isArray(self[keys[i]])) {\n            self[keys[i]] = [];\n          }\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Listen to a custom event and remove it once fired.\n     * @param  {String}   event Event name.\n     * @param  {Function} fn    Listener to call.\n     * @param  {Number}   id    (optional) Only listen to events for this sound.\n     * @return {Howl}\n     */\n    once: function(event, fn, id) {\n      var self = this;\n\n      // Setup the event listener.\n      self.on(event, fn, id, 1);\n\n      return self;\n    },\n\n    /**\n     * Emit all events of a specific type and pass the sound id.\n     * @param  {String} event Event name.\n     * @param  {Number} id    Sound ID.\n     * @param  {Number} msg   Message to go with event.\n     * @return {Howl}\n     */\n    _emit: function(event, id, msg) {\n      var self = this;\n      var events = self['_on' + event];\n\n      // Loop through event store and fire all functions.\n      for (var i=events.length-1; i>=0; i--) {\n        // Only fire the listener if the correct ID is used.\n        if (!events[i].id || events[i].id === id || event === 'load') {\n          setTimeout(function(fn) {\n            fn.call(this, id, msg);\n          }.bind(self, events[i].fn), 0);\n\n          // If this event was setup with `once`, remove it.\n          if (events[i].once) {\n            self.off(event, events[i].fn, events[i].id);\n          }\n        }\n      }\n\n      // Pass the event type into load queue so that it can continue stepping.\n      self._loadQueue(event);\n\n      return self;\n    },\n\n    /**\n     * Queue of actions initiated before the sound has loaded.\n     * These will be called in sequence, with the next only firing\n     * after the previous has finished executing (even if async like play).\n     * @return {Howl}\n     */\n    _loadQueue: function(event) {\n      var self = this;\n\n      if (self._queue.length > 0) {\n        var task = self._queue[0];\n\n        // Remove this task if a matching event was passed.\n        if (task.event === event) {\n          self._queue.shift();\n          self._loadQueue();\n        }\n\n        // Run the task if no event type is passed.\n        if (!event) {\n          task.action();\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Fired when playback ends at the end of the duration.\n     * @param  {Sound} sound The sound object to work with.\n     * @return {Howl}\n     */\n    _ended: function(sound) {\n      var self = this;\n      var sprite = sound._sprite;\n\n      // If we are using IE and there was network latency we may be clipping\n      // audio before it completes playing. Lets check the node to make sure it\n      // believes it has completed, before ending the playback.\n      if (!self._webAudio && sound._node && !sound._node.paused && !sound._node.ended && sound._node.currentTime < sound._stop) {\n        setTimeout(self._ended.bind(self, sound), 100);\n        return self;\n      }\n\n      // Should this sound loop?\n      var loop = !!(sound._loop || self._sprite[sprite][2]);\n\n      // Fire the ended event.\n      self._emit('end', sound._id);\n\n      // Restart the playback for HTML5 Audio loop.\n      if (!self._webAudio && loop) {\n        self.stop(sound._id, true).play(sound._id);\n      }\n\n      // Restart this timer if on a Web Audio loop.\n      if (self._webAudio && loop) {\n        self._emit('play', sound._id);\n        sound._seek = sound._start || 0;\n        sound._rateSeek = 0;\n        sound._playStart = Howler.ctx.currentTime;\n\n        var timeout = ((sound._stop - sound._start) * 1000) / Math.abs(sound._rate);\n        self._endTimers[sound._id] = setTimeout(self._ended.bind(self, sound), timeout);\n      }\n\n      // Mark the node as paused.\n      if (self._webAudio && !loop) {\n        sound._paused = true;\n        sound._ended = true;\n        sound._seek = sound._start || 0;\n        sound._rateSeek = 0;\n        self._clearTimer(sound._id);\n\n        // Clean up the buffer source.\n        self._cleanBuffer(sound._node);\n\n        // Attempt to auto-suspend AudioContext if no sounds are still playing.\n        Howler._autoSuspend();\n      }\n\n      // When using a sprite, end the track.\n      if (!self._webAudio && !loop) {\n        self.stop(sound._id, true);\n      }\n\n      return self;\n    },\n\n    /**\n     * Clear the end timer for a sound playback.\n     * @param  {Number} id The sound ID.\n     * @return {Howl}\n     */\n    _clearTimer: function(id) {\n      var self = this;\n\n      if (self._endTimers[id]) {\n        // Clear the timeout or remove the ended listener.\n        if (typeof self._endTimers[id] !== 'function') {\n          clearTimeout(self._endTimers[id]);\n        } else {\n          var sound = self._soundById(id);\n          if (sound && sound._node) {\n            sound._node.removeEventListener('ended', self._endTimers[id], false);\n          }\n        }\n\n        delete self._endTimers[id];\n      }\n\n      return self;\n    },\n\n    /**\n     * Return the sound identified by this ID, or return null.\n     * @param  {Number} id Sound ID\n     * @return {Object}    Sound object or null.\n     */\n    _soundById: function(id) {\n      var self = this;\n\n      // Loop through all sounds and find the one with this ID.\n      for (var i=0; i<self._sounds.length; i++) {\n        if (id === self._sounds[i]._id) {\n          return self._sounds[i];\n        }\n      }\n\n      return null;\n    },\n\n    /**\n     * Return an inactive sound from the pool or create a new one.\n     * @return {Sound} Sound playback object.\n     */\n    _inactiveSound: function() {\n      var self = this;\n\n      self._drain();\n\n      // Find the first inactive node to recycle.\n      for (var i=0; i<self._sounds.length; i++) {\n        if (self._sounds[i]._ended) {\n          return self._sounds[i].reset();\n        }\n      }\n\n      // If no inactive node was found, create a new one.\n      return new Sound(self);\n    },\n\n    /**\n     * Drain excess inactive sounds from the pool.\n     */\n    _drain: function() {\n      var self = this;\n      var limit = self._pool;\n      var cnt = 0;\n      var i = 0;\n\n      // If there are less sounds than the max pool size, we are done.\n      if (self._sounds.length < limit) {\n        return;\n      }\n\n      // Count the number of inactive sounds.\n      for (i=0; i<self._sounds.length; i++) {\n        if (self._sounds[i]._ended) {\n          cnt++;\n        }\n      }\n\n      // Remove excess inactive sounds, going in reverse order.\n      for (i=self._sounds.length - 1; i>=0; i--) {\n        if (cnt <= limit) {\n          return;\n        }\n\n        if (self._sounds[i]._ended) {\n          // Disconnect the audio source when using Web Audio.\n          if (self._webAudio && self._sounds[i]._node) {\n            self._sounds[i]._node.disconnect(0);\n          }\n\n          // Remove sounds until we have the pool size.\n          self._sounds.splice(i, 1);\n          cnt--;\n        }\n      }\n    },\n\n    /**\n     * Get all ID's from the sounds pool.\n     * @param  {Number} id Only return one ID if one is passed.\n     * @return {Array}    Array of IDs.\n     */\n    _getSoundIds: function(id) {\n      var self = this;\n\n      if (typeof id === 'undefined') {\n        var ids = [];\n        for (var i=0; i<self._sounds.length; i++) {\n          ids.push(self._sounds[i]._id);\n        }\n\n        return ids;\n      } else {\n        return [id];\n      }\n    },\n\n    /**\n     * Load the sound back into the buffer source.\n     * @param  {Sound} sound The sound object to work with.\n     * @return {Howl}\n     */\n    _refreshBuffer: function(sound) {\n      var self = this;\n\n      // Setup the buffer source for playback.\n      sound._node.bufferSource = Howler.ctx.createBufferSource();\n      sound._node.bufferSource.buffer = cache[self._src];\n\n      // Connect to the correct node.\n      if (sound._panner) {\n        sound._node.bufferSource.connect(sound._panner);\n      } else {\n        sound._node.bufferSource.connect(sound._node);\n      }\n\n      // Setup looping and playback rate.\n      sound._node.bufferSource.loop = sound._loop;\n      if (sound._loop) {\n        sound._node.bufferSource.loopStart = sound._start || 0;\n        sound._node.bufferSource.loopEnd = sound._stop || 0;\n      }\n      sound._node.bufferSource.playbackRate.setValueAtTime(sound._rate, Howler.ctx.currentTime);\n\n      return self;\n    },\n\n    /**\n     * Prevent memory leaks by cleaning up the buffer source after playback.\n     * @param  {Object} node Sound's audio node containing the buffer source.\n     * @return {Howl}\n     */\n    _cleanBuffer: function(node) {\n      var self = this;\n      var isIOS = Howler._navigator && Howler._navigator.vendor.indexOf('Apple') >= 0;\n\n      if (Howler._scratchBuffer && node.bufferSource) {\n        node.bufferSource.onended = null;\n        node.bufferSource.disconnect(0);\n        if (isIOS) {\n          try { node.bufferSource.buffer = Howler._scratchBuffer; } catch(e) {}\n        }\n      }\n      node.bufferSource = null;\n\n      return self;\n    },\n\n    /**\n     * Set the source to a 0-second silence to stop any downloading (except in IE).\n     * @param  {Object} node Audio node to clear.\n     */\n    _clearSound: function(node) {\n      var checkIE = /MSIE |Trident\\//.test(Howler._navigator && Howler._navigator.userAgent);\n      if (!checkIE) {\n        node.src = 'data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA';\n      }\n    }\n  };\n\n  /** Single Sound Methods **/\n  /***************************************************************************/\n\n  /**\n   * Setup the sound object, which each node attached to a Howl group is contained in.\n   * @param {Object} howl The Howl parent group.\n   */\n  var Sound = function(howl) {\n    this._parent = howl;\n    this.init();\n  };\n  Sound.prototype = {\n    /**\n     * Initialize a new Sound object.\n     * @return {Sound}\n     */\n    init: function() {\n      var self = this;\n      var parent = self._parent;\n\n      // Setup the default parameters.\n      self._muted = parent._muted;\n      self._loop = parent._loop;\n      self._volume = parent._volume;\n      self._rate = parent._rate;\n      self._seek = 0;\n      self._paused = true;\n      self._ended = true;\n      self._sprite = '__default';\n\n      // Generate a unique ID for this sound.\n      self._id = ++Howler._counter;\n\n      // Add itself to the parent's pool.\n      parent._sounds.push(self);\n\n      // Create the new node.\n      self.create();\n\n      return self;\n    },\n\n    /**\n     * Create and setup a new sound object, whether HTML5 Audio or Web Audio.\n     * @return {Sound}\n     */\n    create: function() {\n      var self = this;\n      var parent = self._parent;\n      var volume = (Howler._muted || self._muted || self._parent._muted) ? 0 : self._volume;\n\n      if (parent._webAudio) {\n        // Create the gain node for controlling volume (the source will connect to this).\n        self._node = (typeof Howler.ctx.createGain === 'undefined') ? Howler.ctx.createGainNode() : Howler.ctx.createGain();\n        self._node.gain.setValueAtTime(volume, Howler.ctx.currentTime);\n        self._node.paused = true;\n        self._node.connect(Howler.masterGain);\n      } else if (!Howler.noAudio) {\n        // Get an unlocked Audio object from the pool.\n        self._node = Howler._obtainHtml5Audio();\n\n        // Listen for errors (http://dev.w3.org/html5/spec-author-view/spec.html#mediaerror).\n        self._errorFn = self._errorListener.bind(self);\n        self._node.addEventListener('error', self._errorFn, false);\n\n        // Listen for 'canplaythrough' event to let us know the sound is ready.\n        self._loadFn = self._loadListener.bind(self);\n        self._node.addEventListener(Howler._canPlayEvent, self._loadFn, false);\n\n        // Listen for the 'ended' event on the sound to account for edge-case where\n        // a finite sound has a duration of Infinity.\n        self._endFn = self._endListener.bind(self);\n        self._node.addEventListener('ended', self._endFn, false);\n\n        // Setup the new audio node.\n        self._node.src = parent._src;\n        self._node.preload = parent._preload === true ? 'auto' : parent._preload;\n        self._node.volume = volume * Howler.volume();\n\n        // Begin loading the source.\n        self._node.load();\n      }\n\n      return self;\n    },\n\n    /**\n     * Reset the parameters of this sound to the original state (for recycle).\n     * @return {Sound}\n     */\n    reset: function() {\n      var self = this;\n      var parent = self._parent;\n\n      // Reset all of the parameters of this sound.\n      self._muted = parent._muted;\n      self._loop = parent._loop;\n      self._volume = parent._volume;\n      self._rate = parent._rate;\n      self._seek = 0;\n      self._rateSeek = 0;\n      self._paused = true;\n      self._ended = true;\n      self._sprite = '__default';\n\n      // Generate a new ID so that it isn't confused with the previous sound.\n      self._id = ++Howler._counter;\n\n      return self;\n    },\n\n    /**\n     * HTML5 Audio error listener callback.\n     */\n    _errorListener: function() {\n      var self = this;\n\n      // Fire an error event and pass back the code.\n      self._parent._emit('loaderror', self._id, self._node.error ? self._node.error.code : 0);\n\n      // Clear the event listener.\n      self._node.removeEventListener('error', self._errorFn, false);\n    },\n\n    /**\n     * HTML5 Audio canplaythrough listener callback.\n     */\n    _loadListener: function() {\n      var self = this;\n      var parent = self._parent;\n\n      // Round up the duration to account for the lower precision in HTML5 Audio.\n      parent._duration = Math.ceil(self._node.duration * 10) / 10;\n\n      // Setup a sprite if none is defined.\n      if (Object.keys(parent._sprite).length === 0) {\n        parent._sprite = {__default: [0, parent._duration * 1000]};\n      }\n\n      if (parent._state !== 'loaded') {\n        parent._state = 'loaded';\n        parent._emit('load');\n        parent._loadQueue();\n      }\n\n      // Clear the event listener.\n      self._node.removeEventListener(Howler._canPlayEvent, self._loadFn, false);\n    },\n\n    /**\n     * HTML5 Audio ended listener callback.\n     */\n    _endListener: function() {\n      var self = this;\n      var parent = self._parent;\n\n      // Only handle the `ended`` event if the duration is Infinity.\n      if (parent._duration === Infinity) {\n        // Update the parent duration to match the real audio duration.\n        // Round up the duration to account for the lower precision in HTML5 Audio.\n        parent._duration = Math.ceil(self._node.duration * 10) / 10;\n\n        // Update the sprite that corresponds to the real duration.\n        if (parent._sprite.__default[1] === Infinity) {\n          parent._sprite.__default[1] = parent._duration * 1000;\n        }\n\n        // Run the regular ended method.\n        parent._ended(self);\n      }\n\n      // Clear the event listener since the duration is now correct.\n      self._node.removeEventListener('ended', self._endFn, false);\n    }\n  };\n\n  /** Helper Methods **/\n  /***************************************************************************/\n\n  var cache = {};\n\n  /**\n   * Buffer a sound from URL, Data URI or cache and decode to audio source (Web Audio API).\n   * @param  {Howl} self\n   */\n  var loadBuffer = function(self) {\n    var url = self._src;\n\n    // Check if the buffer has already been cached and use it instead.\n    if (cache[url]) {\n      // Set the duration from the cache.\n      self._duration = cache[url].duration;\n\n      // Load the sound into this Howl.\n      loadSound(self);\n\n      return;\n    }\n\n    if (/^data:[^;]+;base64,/.test(url)) {\n      // Decode the base64 data URI without XHR, since some browsers don't support it.\n      var data = atob(url.split(',')[1]);\n      var dataView = new Uint8Array(data.length);\n      for (var i=0; i<data.length; ++i) {\n        dataView[i] = data.charCodeAt(i);\n      }\n\n      decodeAudioData(dataView.buffer, self);\n    } else {\n      // Load the buffer from the URL.\n      var xhr = new XMLHttpRequest();\n      xhr.open(self._xhr.method, url, true);\n      xhr.withCredentials = self._xhr.withCredentials;\n      xhr.responseType = 'arraybuffer';\n\n      // Apply any custom headers to the request.\n      if (self._xhr.headers) {\n        Object.keys(self._xhr.headers).forEach(function(key) {\n          xhr.setRequestHeader(key, self._xhr.headers[key]);\n        });\n      }\n\n      xhr.onload = function() {\n        // Make sure we get a successful response back.\n        var code = (xhr.status + '')[0];\n        if (code !== '0' && code !== '2' && code !== '3') {\n          self._emit('loaderror', null, 'Failed loading audio file with status: ' + xhr.status + '.');\n          return;\n        }\n\n        decodeAudioData(xhr.response, self);\n      };\n      xhr.onerror = function() {\n        // If there is an error, switch to HTML5 Audio.\n        if (self._webAudio) {\n          self._html5 = true;\n          self._webAudio = false;\n          self._sounds = [];\n          delete cache[url];\n          self.load();\n        }\n      };\n      safeXhrSend(xhr);\n    }\n  };\n\n  /**\n   * Send the XHR request wrapped in a try/catch.\n   * @param  {Object} xhr XHR to send.\n   */\n  var safeXhrSend = function(xhr) {\n    try {\n      xhr.send();\n    } catch (e) {\n      xhr.onerror();\n    }\n  };\n\n  /**\n   * Decode audio data from an array buffer.\n   * @param  {ArrayBuffer} arraybuffer The audio data.\n   * @param  {Howl}        self\n   */\n  var decodeAudioData = function(arraybuffer, self) {\n    // Fire a load error if something broke.\n    var error = function() {\n      self._emit('loaderror', null, 'Decoding audio data failed.');\n    };\n\n    // Load the sound on success.\n    var success = function(buffer) {\n      if (buffer && self._sounds.length > 0) {\n        cache[self._src] = buffer;\n        loadSound(self, buffer);\n      } else {\n        error();\n      }\n    };\n\n    // Decode the buffer into an audio source.\n    if (typeof Promise !== 'undefined' && Howler.ctx.decodeAudioData.length === 1) {\n      Howler.ctx.decodeAudioData(arraybuffer).then(success).catch(error);\n    } else {\n      Howler.ctx.decodeAudioData(arraybuffer, success, error);\n    }\n  }\n\n  /**\n   * Sound is now loaded, so finish setting everything up and fire the loaded event.\n   * @param  {Howl} self\n   * @param  {Object} buffer The decoded buffer sound source.\n   */\n  var loadSound = function(self, buffer) {\n    // Set the duration.\n    if (buffer && !self._duration) {\n      self._duration = buffer.duration;\n    }\n\n    // Setup a sprite if none is defined.\n    if (Object.keys(self._sprite).length === 0) {\n      self._sprite = {__default: [0, self._duration * 1000]};\n    }\n\n    // Fire the loaded event.\n    if (self._state !== 'loaded') {\n      self._state = 'loaded';\n      self._emit('load');\n      self._loadQueue();\n    }\n  };\n\n  /**\n   * Setup the audio context when available, or switch to HTML5 Audio mode.\n   */\n  var setupAudioContext = function() {\n    // If we have already detected that Web Audio isn't supported, don't run this step again.\n    if (!Howler.usingWebAudio) {\n      return;\n    }\n\n    // Check if we are using Web Audio and setup the AudioContext if we are.\n    try {\n      if (typeof AudioContext !== 'undefined') {\n        Howler.ctx = new AudioContext();\n      } else if (typeof webkitAudioContext !== 'undefined') {\n        Howler.ctx = new webkitAudioContext();\n      } else {\n        Howler.usingWebAudio = false;\n      }\n    } catch(e) {\n      Howler.usingWebAudio = false;\n    }\n\n    // If the audio context creation still failed, set using web audio to false.\n    if (!Howler.ctx) {\n      Howler.usingWebAudio = false;\n    }\n\n    // Check if a webview is being used on iOS8 or earlier (rather than the browser).\n    // If it is, disable Web Audio as it causes crashing.\n    var iOS = (/iP(hone|od|ad)/.test(Howler._navigator && Howler._navigator.platform));\n    var appVersion = Howler._navigator && Howler._navigator.appVersion.match(/OS (\\d+)_(\\d+)_?(\\d+)?/);\n    var version = appVersion ? parseInt(appVersion[1], 10) : null;\n    if (iOS && version && version < 9) {\n      var safari = /safari/.test(Howler._navigator && Howler._navigator.userAgent.toLowerCase());\n      if (Howler._navigator && !safari) {\n        Howler.usingWebAudio = false;\n      }\n    }\n\n    // Create and expose the master GainNode when using Web Audio (useful for plugins or advanced usage).\n    if (Howler.usingWebAudio) {\n      Howler.masterGain = (typeof Howler.ctx.createGain === 'undefined') ? Howler.ctx.createGainNode() : Howler.ctx.createGain();\n      Howler.masterGain.gain.setValueAtTime(Howler._muted ? 0 : Howler._volume, Howler.ctx.currentTime);\n      Howler.masterGain.connect(Howler.ctx.destination);\n    }\n\n    // Re-run the setup on Howler.\n    Howler._setup();\n  };\n\n  // Add support for AMD (Asynchronous Module Definition) libraries such as require.js.\n  if (typeof define === 'function' && define.amd) {\n    define([], function() {\n      return {\n        Howler: Howler,\n        Howl: Howl\n      };\n    });\n  }\n\n  // Add support for CommonJS libraries such as browserify.\n  if (typeof exports !== 'undefined') {\n    exports.Howler = Howler;\n    exports.Howl = Howl;\n  }\n\n  // Add to global in Node.js (for testing, etc).\n  if (typeof global !== 'undefined') {\n    global.HowlerGlobal = HowlerGlobal;\n    global.Howler = Howler;\n    global.Howl = Howl;\n    global.Sound = Sound;\n  } else if (typeof window !== 'undefined') {  // Define globally in case AMD is not available or unused.\n    window.HowlerGlobal = HowlerGlobal;\n    window.Howler = Howler;\n    window.Howl = Howl;\n    window.Sound = Sound;\n  }\n})();\n\n\n/*!\n *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.\n *  \n *  howler.js v2.2.3\n *  howlerjs.com\n *\n *  (c) 2013-2020, James Simpson of GoldFire Studios\n *  goldfirestudios.com\n *\n *  MIT License\n */\n\n(function() {\n\n  'use strict';\n\n  // Setup default properties.\n  HowlerGlobal.prototype._pos = [0, 0, 0];\n  HowlerGlobal.prototype._orientation = [0, 0, -1, 0, 1, 0];\n\n  /** Global Methods **/\n  /***************************************************************************/\n\n  /**\n   * Helper method to update the stereo panning position of all current Howls.\n   * Future Howls will not use this value unless explicitly set.\n   * @param  {Number} pan A value of -1.0 is all the way left and 1.0 is all the way right.\n   * @return {Howler/Number}     Self or current stereo panning value.\n   */\n  HowlerGlobal.prototype.stereo = function(pan) {\n    var self = this;\n\n    // Stop right here if not using Web Audio.\n    if (!self.ctx || !self.ctx.listener) {\n      return self;\n    }\n\n    // Loop through all Howls and update their stereo panning.\n    for (var i=self._howls.length-1; i>=0; i--) {\n      self._howls[i].stereo(pan);\n    }\n\n    return self;\n  };\n\n  /**\n   * Get/set the position of the listener in 3D cartesian space. Sounds using\n   * 3D position will be relative to the listener's position.\n   * @param  {Number} x The x-position of the listener.\n   * @param  {Number} y The y-position of the listener.\n   * @param  {Number} z The z-position of the listener.\n   * @return {Howler/Array}   Self or current listener position.\n   */\n  HowlerGlobal.prototype.pos = function(x, y, z) {\n    var self = this;\n\n    // Stop right here if not using Web Audio.\n    if (!self.ctx || !self.ctx.listener) {\n      return self;\n    }\n\n    // Set the defaults for optional 'y' & 'z'.\n    y = (typeof y !== 'number') ? self._pos[1] : y;\n    z = (typeof z !== 'number') ? self._pos[2] : z;\n\n    if (typeof x === 'number') {\n      self._pos = [x, y, z];\n\n      if (typeof self.ctx.listener.positionX !== 'undefined') {\n        self.ctx.listener.positionX.setTargetAtTime(self._pos[0], Howler.ctx.currentTime, 0.1);\n        self.ctx.listener.positionY.setTargetAtTime(self._pos[1], Howler.ctx.currentTime, 0.1);\n        self.ctx.listener.positionZ.setTargetAtTime(self._pos[2], Howler.ctx.currentTime, 0.1);\n      } else {\n        self.ctx.listener.setPosition(self._pos[0], self._pos[1], self._pos[2]);\n      }\n    } else {\n      return self._pos;\n    }\n\n    return self;\n  };\n\n  /**\n   * Get/set the direction the listener is pointing in the 3D cartesian space.\n   * A front and up vector must be provided. The front is the direction the\n   * face of the listener is pointing, and up is the direction the top of the\n   * listener is pointing. Thus, these values are expected to be at right angles\n   * from each other.\n   * @param  {Number} x   The x-orientation of the listener.\n   * @param  {Number} y   The y-orientation of the listener.\n   * @param  {Number} z   The z-orientation of the listener.\n   * @param  {Number} xUp The x-orientation of the top of the listener.\n   * @param  {Number} yUp The y-orientation of the top of the listener.\n   * @param  {Number} zUp The z-orientation of the top of the listener.\n   * @return {Howler/Array}     Returns self or the current orientation vectors.\n   */\n  HowlerGlobal.prototype.orientation = function(x, y, z, xUp, yUp, zUp) {\n    var self = this;\n\n    // Stop right here if not using Web Audio.\n    if (!self.ctx || !self.ctx.listener) {\n      return self;\n    }\n\n    // Set the defaults for optional 'y' & 'z'.\n    var or = self._orientation;\n    y = (typeof y !== 'number') ? or[1] : y;\n    z = (typeof z !== 'number') ? or[2] : z;\n    xUp = (typeof xUp !== 'number') ? or[3] : xUp;\n    yUp = (typeof yUp !== 'number') ? or[4] : yUp;\n    zUp = (typeof zUp !== 'number') ? or[5] : zUp;\n\n    if (typeof x === 'number') {\n      self._orientation = [x, y, z, xUp, yUp, zUp];\n\n      if (typeof self.ctx.listener.forwardX !== 'undefined') {\n        self.ctx.listener.forwardX.setTargetAtTime(x, Howler.ctx.currentTime, 0.1);\n        self.ctx.listener.forwardY.setTargetAtTime(y, Howler.ctx.currentTime, 0.1);\n        self.ctx.listener.forwardZ.setTargetAtTime(z, Howler.ctx.currentTime, 0.1);\n        self.ctx.listener.upX.setTargetAtTime(xUp, Howler.ctx.currentTime, 0.1);\n        self.ctx.listener.upY.setTargetAtTime(yUp, Howler.ctx.currentTime, 0.1);\n        self.ctx.listener.upZ.setTargetAtTime(zUp, Howler.ctx.currentTime, 0.1);\n      } else {\n        self.ctx.listener.setOrientation(x, y, z, xUp, yUp, zUp);\n      }\n    } else {\n      return or;\n    }\n\n    return self;\n  };\n\n  /** Group Methods **/\n  /***************************************************************************/\n\n  /**\n   * Add new properties to the core init.\n   * @param  {Function} _super Core init method.\n   * @return {Howl}\n   */\n  Howl.prototype.init = (function(_super) {\n    return function(o) {\n      var self = this;\n\n      // Setup user-defined default properties.\n      self._orientation = o.orientation || [1, 0, 0];\n      self._stereo = o.stereo || null;\n      self._pos = o.pos || null;\n      self._pannerAttr = {\n        coneInnerAngle: typeof o.coneInnerAngle !== 'undefined' ? o.coneInnerAngle : 360,\n        coneOuterAngle: typeof o.coneOuterAngle !== 'undefined' ? o.coneOuterAngle : 360,\n        coneOuterGain: typeof o.coneOuterGain !== 'undefined' ? o.coneOuterGain : 0,\n        distanceModel: typeof o.distanceModel !== 'undefined' ? o.distanceModel : 'inverse',\n        maxDistance: typeof o.maxDistance !== 'undefined' ? o.maxDistance : 10000,\n        panningModel: typeof o.panningModel !== 'undefined' ? o.panningModel : 'HRTF',\n        refDistance: typeof o.refDistance !== 'undefined' ? o.refDistance : 1,\n        rolloffFactor: typeof o.rolloffFactor !== 'undefined' ? o.rolloffFactor : 1\n      };\n\n      // Setup event listeners.\n      self._onstereo = o.onstereo ? [{fn: o.onstereo}] : [];\n      self._onpos = o.onpos ? [{fn: o.onpos}] : [];\n      self._onorientation = o.onorientation ? [{fn: o.onorientation}] : [];\n\n      // Complete initilization with howler.js core's init function.\n      return _super.call(this, o);\n    };\n  })(Howl.prototype.init);\n\n  /**\n   * Get/set the stereo panning of the audio source for this sound or all in the group.\n   * @param  {Number} pan  A value of -1.0 is all the way left and 1.0 is all the way right.\n   * @param  {Number} id (optional) The sound ID. If none is passed, all in group will be updated.\n   * @return {Howl/Number}    Returns self or the current stereo panning value.\n   */\n  Howl.prototype.stereo = function(pan, id) {\n    var self = this;\n\n    // Stop right here if not using Web Audio.\n    if (!self._webAudio) {\n      return self;\n    }\n\n    // If the sound hasn't loaded, add it to the load queue to change stereo pan when capable.\n    if (self._state !== 'loaded') {\n      self._queue.push({\n        event: 'stereo',\n        action: function() {\n          self.stereo(pan, id);\n        }\n      });\n\n      return self;\n    }\n\n    // Check for PannerStereoNode support and fallback to PannerNode if it doesn't exist.\n    var pannerType = (typeof Howler.ctx.createStereoPanner === 'undefined') ? 'spatial' : 'stereo';\n\n    // Setup the group's stereo panning if no ID is passed.\n    if (typeof id === 'undefined') {\n      // Return the group's stereo panning if no parameters are passed.\n      if (typeof pan === 'number') {\n        self._stereo = pan;\n        self._pos = [pan, 0, 0];\n      } else {\n        return self._stereo;\n      }\n    }\n\n    // Change the streo panning of one or all sounds in group.\n    var ids = self._getSoundIds(id);\n    for (var i=0; i<ids.length; i++) {\n      // Get the sound.\n      var sound = self._soundById(ids[i]);\n\n      if (sound) {\n        if (typeof pan === 'number') {\n          sound._stereo = pan;\n          sound._pos = [pan, 0, 0];\n\n          if (sound._node) {\n            // If we are falling back, make sure the panningModel is equalpower.\n            sound._pannerAttr.panningModel = 'equalpower';\n\n            // Check if there is a panner setup and create a new one if not.\n            if (!sound._panner || !sound._panner.pan) {\n              setupPanner(sound, pannerType);\n            }\n\n            if (pannerType === 'spatial') {\n              if (typeof sound._panner.positionX !== 'undefined') {\n                sound._panner.positionX.setValueAtTime(pan, Howler.ctx.currentTime);\n                sound._panner.positionY.setValueAtTime(0, Howler.ctx.currentTime);\n                sound._panner.positionZ.setValueAtTime(0, Howler.ctx.currentTime);\n              } else {\n                sound._panner.setPosition(pan, 0, 0);\n              }\n            } else {\n              sound._panner.pan.setValueAtTime(pan, Howler.ctx.currentTime);\n            }\n          }\n\n          self._emit('stereo', sound._id);\n        } else {\n          return sound._stereo;\n        }\n      }\n    }\n\n    return self;\n  };\n\n  /**\n   * Get/set the 3D spatial position of the audio source for this sound or group relative to the global listener.\n   * @param  {Number} x  The x-position of the audio source.\n   * @param  {Number} y  The y-position of the audio source.\n   * @param  {Number} z  The z-position of the audio source.\n   * @param  {Number} id (optional) The sound ID. If none is passed, all in group will be updated.\n   * @return {Howl/Array}    Returns self or the current 3D spatial position: [x, y, z].\n   */\n  Howl.prototype.pos = function(x, y, z, id) {\n    var self = this;\n\n    // Stop right here if not using Web Audio.\n    if (!self._webAudio) {\n      return self;\n    }\n\n    // If the sound hasn't loaded, add it to the load queue to change position when capable.\n    if (self._state !== 'loaded') {\n      self._queue.push({\n        event: 'pos',\n        action: function() {\n          self.pos(x, y, z, id);\n        }\n      });\n\n      return self;\n    }\n\n    // Set the defaults for optional 'y' & 'z'.\n    y = (typeof y !== 'number') ? 0 : y;\n    z = (typeof z !== 'number') ? -0.5 : z;\n\n    // Setup the group's spatial position if no ID is passed.\n    if (typeof id === 'undefined') {\n      // Return the group's spatial position if no parameters are passed.\n      if (typeof x === 'number') {\n        self._pos = [x, y, z];\n      } else {\n        return self._pos;\n      }\n    }\n\n    // Change the spatial position of one or all sounds in group.\n    var ids = self._getSoundIds(id);\n    for (var i=0; i<ids.length; i++) {\n      // Get the sound.\n      var sound = self._soundById(ids[i]);\n\n      if (sound) {\n        if (typeof x === 'number') {\n          sound._pos = [x, y, z];\n\n          if (sound._node) {\n            // Check if there is a panner setup and create a new one if not.\n            if (!sound._panner || sound._panner.pan) {\n              setupPanner(sound, 'spatial');\n            }\n\n            if (typeof sound._panner.positionX !== 'undefined') {\n              sound._panner.positionX.setValueAtTime(x, Howler.ctx.currentTime);\n              sound._panner.positionY.setValueAtTime(y, Howler.ctx.currentTime);\n              sound._panner.positionZ.setValueAtTime(z, Howler.ctx.currentTime);\n            } else {\n              sound._panner.setPosition(x, y, z);\n            }\n          }\n\n          self._emit('pos', sound._id);\n        } else {\n          return sound._pos;\n        }\n      }\n    }\n\n    return self;\n  };\n\n  /**\n   * Get/set the direction the audio source is pointing in the 3D cartesian coordinate\n   * space. Depending on how direction the sound is, based on the `cone` attributes,\n   * a sound pointing away from the listener can be quiet or silent.\n   * @param  {Number} x  The x-orientation of the source.\n   * @param  {Number} y  The y-orientation of the source.\n   * @param  {Number} z  The z-orientation of the source.\n   * @param  {Number} id (optional) The sound ID. If none is passed, all in group will be updated.\n   * @return {Howl/Array}    Returns self or the current 3D spatial orientation: [x, y, z].\n   */\n  Howl.prototype.orientation = function(x, y, z, id) {\n    var self = this;\n\n    // Stop right here if not using Web Audio.\n    if (!self._webAudio) {\n      return self;\n    }\n\n    // If the sound hasn't loaded, add it to the load queue to change orientation when capable.\n    if (self._state !== 'loaded') {\n      self._queue.push({\n        event: 'orientation',\n        action: function() {\n          self.orientation(x, y, z, id);\n        }\n      });\n\n      return self;\n    }\n\n    // Set the defaults for optional 'y' & 'z'.\n    y = (typeof y !== 'number') ? self._orientation[1] : y;\n    z = (typeof z !== 'number') ? self._orientation[2] : z;\n\n    // Setup the group's spatial orientation if no ID is passed.\n    if (typeof id === 'undefined') {\n      // Return the group's spatial orientation if no parameters are passed.\n      if (typeof x === 'number') {\n        self._orientation = [x, y, z];\n      } else {\n        return self._orientation;\n      }\n    }\n\n    // Change the spatial orientation of one or all sounds in group.\n    var ids = self._getSoundIds(id);\n    for (var i=0; i<ids.length; i++) {\n      // Get the sound.\n      var sound = self._soundById(ids[i]);\n\n      if (sound) {\n        if (typeof x === 'number') {\n          sound._orientation = [x, y, z];\n\n          if (sound._node) {\n            // Check if there is a panner setup and create a new one if not.\n            if (!sound._panner) {\n              // Make sure we have a position to setup the node with.\n              if (!sound._pos) {\n                sound._pos = self._pos || [0, 0, -0.5];\n              }\n\n              setupPanner(sound, 'spatial');\n            }\n\n            if (typeof sound._panner.orientationX !== 'undefined') {\n              sound._panner.orientationX.setValueAtTime(x, Howler.ctx.currentTime);\n              sound._panner.orientationY.setValueAtTime(y, Howler.ctx.currentTime);\n              sound._panner.orientationZ.setValueAtTime(z, Howler.ctx.currentTime);\n            } else {\n              sound._panner.setOrientation(x, y, z);\n            }\n          }\n\n          self._emit('orientation', sound._id);\n        } else {\n          return sound._orientation;\n        }\n      }\n    }\n\n    return self;\n  };\n\n  /**\n   * Get/set the panner node's attributes for a sound or group of sounds.\n   * This method can optionall take 0, 1 or 2 arguments.\n   *   pannerAttr() -> Returns the group's values.\n   *   pannerAttr(id) -> Returns the sound id's values.\n   *   pannerAttr(o) -> Set's the values of all sounds in this Howl group.\n   *   pannerAttr(o, id) -> Set's the values of passed sound id.\n   *\n   *   Attributes:\n   *     coneInnerAngle - (360 by default) A parameter for directional audio sources, this is an angle, in degrees,\n   *                      inside of which there will be no volume reduction.\n   *     coneOuterAngle - (360 by default) A parameter for directional audio sources, this is an angle, in degrees,\n   *                      outside of which the volume will be reduced to a constant value of `coneOuterGain`.\n   *     coneOuterGain - (0 by default) A parameter for directional audio sources, this is the gain outside of the\n   *                     `coneOuterAngle`. It is a linear value in the range `[0, 1]`.\n   *     distanceModel - ('inverse' by default) Determines algorithm used to reduce volume as audio moves away from\n   *                     listener. Can be `linear`, `inverse` or `exponential.\n   *     maxDistance - (10000 by default) The maximum distance between source and listener, after which the volume\n   *                   will not be reduced any further.\n   *     refDistance - (1 by default) A reference distance for reducing volume as source moves further from the listener.\n   *                   This is simply a variable of the distance model and has a different effect depending on which model\n   *                   is used and the scale of your coordinates. Generally, volume will be equal to 1 at this distance.\n   *     rolloffFactor - (1 by default) How quickly the volume reduces as source moves from listener. This is simply a\n   *                     variable of the distance model and can be in the range of `[0, 1]` with `linear` and `[0, \u221E]`\n   *                     with `inverse` and `exponential`.\n   *     panningModel - ('HRTF' by default) Determines which spatialization algorithm is used to position audio.\n   *                     Can be `HRTF` or `equalpower`.\n   *\n   * @return {Howl/Object} Returns self or current panner attributes.\n   */\n  Howl.prototype.pannerAttr = function() {\n    var self = this;\n    var args = arguments;\n    var o, id, sound;\n\n    // Stop right here if not using Web Audio.\n    if (!self._webAudio) {\n      return self;\n    }\n\n    // Determine the values based on arguments.\n    if (args.length === 0) {\n      // Return the group's panner attribute values.\n      return self._pannerAttr;\n    } else if (args.length === 1) {\n      if (typeof args[0] === 'object') {\n        o = args[0];\n\n        // Set the grou's panner attribute values.\n        if (typeof id === 'undefined') {\n          if (!o.pannerAttr) {\n            o.pannerAttr = {\n              coneInnerAngle: o.coneInnerAngle,\n              coneOuterAngle: o.coneOuterAngle,\n              coneOuterGain: o.coneOuterGain,\n              distanceModel: o.distanceModel,\n              maxDistance: o.maxDistance,\n              refDistance: o.refDistance,\n              rolloffFactor: o.rolloffFactor,\n              panningModel: o.panningModel\n            };\n          }\n\n          self._pannerAttr = {\n            coneInnerAngle: typeof o.pannerAttr.coneInnerAngle !== 'undefined' ? o.pannerAttr.coneInnerAngle : self._coneInnerAngle,\n            coneOuterAngle: typeof o.pannerAttr.coneOuterAngle !== 'undefined' ? o.pannerAttr.coneOuterAngle : self._coneOuterAngle,\n            coneOuterGain: typeof o.pannerAttr.coneOuterGain !== 'undefined' ? o.pannerAttr.coneOuterGain : self._coneOuterGain,\n            distanceModel: typeof o.pannerAttr.distanceModel !== 'undefined' ? o.pannerAttr.distanceModel : self._distanceModel,\n            maxDistance: typeof o.pannerAttr.maxDistance !== 'undefined' ? o.pannerAttr.maxDistance : self._maxDistance,\n            refDistance: typeof o.pannerAttr.refDistance !== 'undefined' ? o.pannerAttr.refDistance : self._refDistance,\n            rolloffFactor: typeof o.pannerAttr.rolloffFactor !== 'undefined' ? o.pannerAttr.rolloffFactor : self._rolloffFactor,\n            panningModel: typeof o.pannerAttr.panningModel !== 'undefined' ? o.pannerAttr.panningModel : self._panningModel\n          };\n        }\n      } else {\n        // Return this sound's panner attribute values.\n        sound = self._soundById(parseInt(args[0], 10));\n        return sound ? sound._pannerAttr : self._pannerAttr;\n      }\n    } else if (args.length === 2) {\n      o = args[0];\n      id = parseInt(args[1], 10);\n    }\n\n    // Update the values of the specified sounds.\n    var ids = self._getSoundIds(id);\n    for (var i=0; i<ids.length; i++) {\n      sound = self._soundById(ids[i]);\n\n      if (sound) {\n        // Merge the new values into the sound.\n        var pa = sound._pannerAttr;\n        pa = {\n          coneInnerAngle: typeof o.coneInnerAngle !== 'undefined' ? o.coneInnerAngle : pa.coneInnerAngle,\n          coneOuterAngle: typeof o.coneOuterAngle !== 'undefined' ? o.coneOuterAngle : pa.coneOuterAngle,\n          coneOuterGain: typeof o.coneOuterGain !== 'undefined' ? o.coneOuterGain : pa.coneOuterGain,\n          distanceModel: typeof o.distanceModel !== 'undefined' ? o.distanceModel : pa.distanceModel,\n          maxDistance: typeof o.maxDistance !== 'undefined' ? o.maxDistance : pa.maxDistance,\n          refDistance: typeof o.refDistance !== 'undefined' ? o.refDistance : pa.refDistance,\n          rolloffFactor: typeof o.rolloffFactor !== 'undefined' ? o.rolloffFactor : pa.rolloffFactor,\n          panningModel: typeof o.panningModel !== 'undefined' ? o.panningModel : pa.panningModel\n        };\n\n        // Update the panner values or create a new panner if none exists.\n        var panner = sound._panner;\n        if (panner) {\n          panner.coneInnerAngle = pa.coneInnerAngle;\n          panner.coneOuterAngle = pa.coneOuterAngle;\n          panner.coneOuterGain = pa.coneOuterGain;\n          panner.distanceModel = pa.distanceModel;\n          panner.maxDistance = pa.maxDistance;\n          panner.refDistance = pa.refDistance;\n          panner.rolloffFactor = pa.rolloffFactor;\n          panner.panningModel = pa.panningModel;\n        } else {\n          // Make sure we have a position to setup the node with.\n          if (!sound._pos) {\n            sound._pos = self._pos || [0, 0, -0.5];\n          }\n\n          // Create a new panner node.\n          setupPanner(sound, 'spatial');\n        }\n      }\n    }\n\n    return self;\n  };\n\n  /** Single Sound Methods **/\n  /***************************************************************************/\n\n  /**\n   * Add new properties to the core Sound init.\n   * @param  {Function} _super Core Sound init method.\n   * @return {Sound}\n   */\n  Sound.prototype.init = (function(_super) {\n    return function() {\n      var self = this;\n      var parent = self._parent;\n\n      // Setup user-defined default properties.\n      self._orientation = parent._orientation;\n      self._stereo = parent._stereo;\n      self._pos = parent._pos;\n      self._pannerAttr = parent._pannerAttr;\n\n      // Complete initilization with howler.js core Sound's init function.\n      _super.call(this);\n\n      // If a stereo or position was specified, set it up.\n      if (self._stereo) {\n        parent.stereo(self._stereo);\n      } else if (self._pos) {\n        parent.pos(self._pos[0], self._pos[1], self._pos[2], self._id);\n      }\n    };\n  })(Sound.prototype.init);\n\n  /**\n   * Override the Sound.reset method to clean up properties from the spatial plugin.\n   * @param  {Function} _super Sound reset method.\n   * @return {Sound}\n   */\n  Sound.prototype.reset = (function(_super) {\n    return function() {\n      var self = this;\n      var parent = self._parent;\n\n      // Reset all spatial plugin properties on this sound.\n      self._orientation = parent._orientation;\n      self._stereo = parent._stereo;\n      self._pos = parent._pos;\n      self._pannerAttr = parent._pannerAttr;\n\n      // If a stereo or position was specified, set it up.\n      if (self._stereo) {\n        parent.stereo(self._stereo);\n      } else if (self._pos) {\n        parent.pos(self._pos[0], self._pos[1], self._pos[2], self._id);\n      } else if (self._panner) {\n        // Disconnect the panner.\n        self._panner.disconnect(0);\n        self._panner = undefined;\n        parent._refreshBuffer(self);\n      }\n\n      // Complete resetting of the sound.\n      return _super.call(this);\n    };\n  })(Sound.prototype.reset);\n\n  /** Helper Methods **/\n  /***************************************************************************/\n\n  /**\n   * Create a new panner node and save it on the sound.\n   * @param  {Sound} sound Specific sound to setup panning on.\n   * @param {String} type Type of panner to create: 'stereo' or 'spatial'.\n   */\n  var setupPanner = function(sound, type) {\n    type = type || 'spatial';\n\n    // Create the new panner node.\n    if (type === 'spatial') {\n      sound._panner = Howler.ctx.createPanner();\n      sound._panner.coneInnerAngle = sound._pannerAttr.coneInnerAngle;\n      sound._panner.coneOuterAngle = sound._pannerAttr.coneOuterAngle;\n      sound._panner.coneOuterGain = sound._pannerAttr.coneOuterGain;\n      sound._panner.distanceModel = sound._pannerAttr.distanceModel;\n      sound._panner.maxDistance = sound._pannerAttr.maxDistance;\n      sound._panner.refDistance = sound._pannerAttr.refDistance;\n      sound._panner.rolloffFactor = sound._pannerAttr.rolloffFactor;\n      sound._panner.panningModel = sound._pannerAttr.panningModel;\n\n      if (typeof sound._panner.positionX !== 'undefined') {\n        sound._panner.positionX.setValueAtTime(sound._pos[0], Howler.ctx.currentTime);\n        sound._panner.positionY.setValueAtTime(sound._pos[1], Howler.ctx.currentTime);\n        sound._panner.positionZ.setValueAtTime(sound._pos[2], Howler.ctx.currentTime);\n      } else {\n        sound._panner.setPosition(sound._pos[0], sound._pos[1], sound._pos[2]);\n      }\n\n      if (typeof sound._panner.orientationX !== 'undefined') {\n        sound._panner.orientationX.setValueAtTime(sound._orientation[0], Howler.ctx.currentTime);\n        sound._panner.orientationY.setValueAtTime(sound._orientation[1], Howler.ctx.currentTime);\n        sound._panner.orientationZ.setValueAtTime(sound._orientation[2], Howler.ctx.currentTime);\n      } else {\n        sound._panner.setOrientation(sound._orientation[0], sound._orientation[1], sound._orientation[2]);\n      }\n    } else {\n      sound._panner = Howler.ctx.createStereoPanner();\n      sound._panner.pan.setValueAtTime(sound._stereo, Howler.ctx.currentTime);\n    }\n\n    sound._panner.connect(sound._node);\n\n    // Update the connections.\n    if (!sound._paused) {\n      sound._parent.pause(sound._id, true).play(sound._id, true);\n    }\n  };\n})();\n", "'use strict';\n\nmodule.exports = function bind(fn, thisArg) {\n  return function wrap() {\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n    return fn.apply(thisArg, args);\n  };\n};\n", "'use strict';\n\nvar bind = require('./helpers/bind');\n\n// utils is a library of generic helper functions non-specific to axios\n\nvar toString = Object.prototype.toString;\n\n// eslint-disable-next-line func-names\nvar kindOf = (function(cache) {\n  // eslint-disable-next-line func-names\n  return function(thing) {\n    var str = toString.call(thing);\n    return cache[str] || (cache[str] = str.slice(8, -1).toLowerCase());\n  };\n})(Object.create(null));\n\nfunction kindOfTest(type) {\n  type = type.toLowerCase();\n  return function isKindOf(thing) {\n    return kindOf(thing) === type;\n  };\n}\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Array, otherwise false\n */\nfunction isArray(val) {\n  return Array.isArray(val);\n}\n\n/**\n * Determine if a value is undefined\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n\n/**\n * Determine if a value is a Buffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Buffer, otherwise false\n */\nfunction isBuffer(val) {\n  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)\n    && typeof val.constructor.isBuffer === 'function' && val.constructor.isBuffer(val);\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @function\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nvar isArrayBuffer = kindOfTest('ArrayBuffer');\n\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  var result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (isArrayBuffer(val.buffer));\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a String, otherwise false\n */\nfunction isString(val) {\n  return typeof val === 'string';\n}\n\n/**\n * Determine if a value is a Number\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Number, otherwise false\n */\nfunction isNumber(val) {\n  return typeof val === 'number';\n}\n\n/**\n * Determine if a value is an Object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Object, otherwise false\n */\nfunction isObject(val) {\n  return val !== null && typeof val === 'object';\n}\n\n/**\n * Determine if a value is a plain Object\n *\n * @param {Object} val The value to test\n * @return {boolean} True if value is a plain Object, otherwise false\n */\nfunction isPlainObject(val) {\n  if (kindOf(val) !== 'object') {\n    return false;\n  }\n\n  var prototype = Object.getPrototypeOf(val);\n  return prototype === null || prototype === Object.prototype;\n}\n\n/**\n * Determine if a value is a Date\n *\n * @function\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Date, otherwise false\n */\nvar isDate = kindOfTest('Date');\n\n/**\n * Determine if a value is a File\n *\n * @function\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a File, otherwise false\n */\nvar isFile = kindOfTest('File');\n\n/**\n * Determine if a value is a Blob\n *\n * @function\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nvar isBlob = kindOfTest('Blob');\n\n/**\n * Determine if a value is a FileList\n *\n * @function\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a File, otherwise false\n */\nvar isFileList = kindOfTest('FileList');\n\n/**\n * Determine if a value is a Function\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nfunction isFunction(val) {\n  return toString.call(val) === '[object Function]';\n}\n\n/**\n * Determine if a value is a Stream\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nfunction isStream(val) {\n  return isObject(val) && isFunction(val.pipe);\n}\n\n/**\n * Determine if a value is a FormData\n *\n * @param {Object} thing The value to test\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nfunction isFormData(thing) {\n  var pattern = '[object FormData]';\n  return thing && (\n    (typeof FormData === 'function' && thing instanceof FormData) ||\n    toString.call(thing) === pattern ||\n    (isFunction(thing.toString) && thing.toString() === pattern)\n  );\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n * @function\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nvar isURLSearchParams = kindOfTest('URLSearchParams');\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n * @returns {String} The String freed of excess whitespace\n */\nfunction trim(str) {\n  return str.trim ? str.trim() : str.replace(/^\\s+|\\s+$/g, '');\n}\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n * nativescript\n *  navigator.product -> 'NativeScript' or 'NS'\n */\nfunction isStandardBrowserEnv() {\n  if (typeof navigator !== 'undefined' && (navigator.product === 'ReactNative' ||\n                                           navigator.product === 'NativeScript' ||\n                                           navigator.product === 'NS')) {\n    return false;\n  }\n  return (\n    typeof window !== 'undefined' &&\n    typeof document !== 'undefined'\n  );\n}\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n */\nfunction forEach(obj, fn) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (var i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        fn.call(null, obj[key], key, obj);\n      }\n    }\n  }\n}\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (isPlainObject(result[key]) && isPlainObject(val)) {\n      result[key] = merge(result[key], val);\n    } else if (isPlainObject(val)) {\n      result[key] = merge({}, val);\n    } else if (isArray(val)) {\n      result[key] = val.slice();\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n * @return {Object} The resulting value of object a\n */\nfunction extend(a, b, thisArg) {\n  forEach(b, function assignValue(val, key) {\n    if (thisArg && typeof val === 'function') {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  });\n  return a;\n}\n\n/**\n * Remove byte order marker. This catches EF BB BF (the UTF-8 BOM)\n *\n * @param {string} content with BOM\n * @return {string} content value without BOM\n */\nfunction stripBOM(content) {\n  if (content.charCodeAt(0) === 0xFEFF) {\n    content = content.slice(1);\n  }\n  return content;\n}\n\n/**\n * Inherit the prototype methods from one constructor into another\n * @param {function} constructor\n * @param {function} superConstructor\n * @param {object} [props]\n * @param {object} [descriptors]\n */\n\nfunction inherits(constructor, superConstructor, props, descriptors) {\n  constructor.prototype = Object.create(superConstructor.prototype, descriptors);\n  constructor.prototype.constructor = constructor;\n  props && Object.assign(constructor.prototype, props);\n}\n\n/**\n * Resolve object with deep prototype chain to a flat object\n * @param {Object} sourceObj source object\n * @param {Object} [destObj]\n * @param {Function} [filter]\n * @returns {Object}\n */\n\nfunction toFlatObject(sourceObj, destObj, filter) {\n  var props;\n  var i;\n  var prop;\n  var merged = {};\n\n  destObj = destObj || {};\n\n  do {\n    props = Object.getOwnPropertyNames(sourceObj);\n    i = props.length;\n    while (i-- > 0) {\n      prop = props[i];\n      if (!merged[prop]) {\n        destObj[prop] = sourceObj[prop];\n        merged[prop] = true;\n      }\n    }\n    sourceObj = Object.getPrototypeOf(sourceObj);\n  } while (sourceObj && (!filter || filter(sourceObj, destObj)) && sourceObj !== Object.prototype);\n\n  return destObj;\n}\n\n/*\n * determines whether a string ends with the characters of a specified string\n * @param {String} str\n * @param {String} searchString\n * @param {Number} [position= 0]\n * @returns {boolean}\n */\nfunction endsWith(str, searchString, position) {\n  str = String(str);\n  if (position === undefined || position > str.length) {\n    position = str.length;\n  }\n  position -= searchString.length;\n  var lastIndex = str.indexOf(searchString, position);\n  return lastIndex !== -1 && lastIndex === position;\n}\n\n\n/**\n * Returns new array from array like object\n * @param {*} [thing]\n * @returns {Array}\n */\nfunction toArray(thing) {\n  if (!thing) return null;\n  var i = thing.length;\n  if (isUndefined(i)) return null;\n  var arr = new Array(i);\n  while (i-- > 0) {\n    arr[i] = thing[i];\n  }\n  return arr;\n}\n\n// eslint-disable-next-line func-names\nvar isTypedArray = (function(TypedArray) {\n  // eslint-disable-next-line func-names\n  return function(thing) {\n    return TypedArray && thing instanceof TypedArray;\n  };\n})(typeof Uint8Array !== 'undefined' && Object.getPrototypeOf(Uint8Array));\n\nmodule.exports = {\n  isArray: isArray,\n  isArrayBuffer: isArrayBuffer,\n  isBuffer: isBuffer,\n  isFormData: isFormData,\n  isArrayBufferView: isArrayBufferView,\n  isString: isString,\n  isNumber: isNumber,\n  isObject: isObject,\n  isPlainObject: isPlainObject,\n  isUndefined: isUndefined,\n  isDate: isDate,\n  isFile: isFile,\n  isBlob: isBlob,\n  isFunction: isFunction,\n  isStream: isStream,\n  isURLSearchParams: isURLSearchParams,\n  isStandardBrowserEnv: isStandardBrowserEnv,\n  forEach: forEach,\n  merge: merge,\n  extend: extend,\n  trim: trim,\n  stripBOM: stripBOM,\n  inherits: inherits,\n  toFlatObject: toFlatObject,\n  kindOf: kindOf,\n  kindOfTest: kindOfTest,\n  endsWith: endsWith,\n  toArray: toArray,\n  isTypedArray: isTypedArray,\n  isFileList: isFileList\n};\n", "'use strict';\n\nvar utils = require('./../utils');\n\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @returns {string} The formatted url\n */\nmodule.exports = function buildURL(url, params, paramsSerializer) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n\n  var serializedParams;\n  if (paramsSerializer) {\n    serializedParams = paramsSerializer(params);\n  } else if (utils.isURLSearchParams(params)) {\n    serializedParams = params.toString();\n  } else {\n    var parts = [];\n\n    utils.forEach(params, function serialize(val, key) {\n      if (val === null || typeof val === 'undefined') {\n        return;\n      }\n\n      if (utils.isArray(val)) {\n        key = key + '[]';\n      } else {\n        val = [val];\n      }\n\n      utils.forEach(val, function parseValue(v) {\n        if (utils.isDate(v)) {\n          v = v.toISOString();\n        } else if (utils.isObject(v)) {\n          v = JSON.stringify(v);\n        }\n        parts.push(encode(key) + '=' + encode(v));\n      });\n    });\n\n    serializedParams = parts.join('&');\n  }\n\n  if (serializedParams) {\n    var hashmarkIndex = url.indexOf('#');\n    if (hashmarkIndex !== -1) {\n      url = url.slice(0, hashmarkIndex);\n    }\n\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n};\n", "'use strict';\n\nvar utils = require('./../utils');\n\nfunction InterceptorManager() {\n  this.handlers = [];\n}\n\n/**\n * Add a new interceptor to the stack\n *\n * @param {Function} fulfilled The function to handle `then` for a `Promise`\n * @param {Function} rejected The function to handle `reject` for a `Promise`\n *\n * @return {Number} An ID used to remove interceptor later\n */\nInterceptorManager.prototype.use = function use(fulfilled, rejected, options) {\n  this.handlers.push({\n    fulfilled: fulfilled,\n    rejected: rejected,\n    synchronous: options ? options.synchronous : false,\n    runWhen: options ? options.runWhen : null\n  });\n  return this.handlers.length - 1;\n};\n\n/**\n * Remove an interceptor from the stack\n *\n * @param {Number} id The ID that was returned by `use`\n */\nInterceptorManager.prototype.eject = function eject(id) {\n  if (this.handlers[id]) {\n    this.handlers[id] = null;\n  }\n};\n\n/**\n * Iterate over all the registered interceptors\n *\n * This method is particularly useful for skipping over any\n * interceptors that may have become `null` calling `eject`.\n *\n * @param {Function} fn The function to call for each interceptor\n */\nInterceptorManager.prototype.forEach = function forEach(fn) {\n  utils.forEach(this.handlers, function forEachHandler(h) {\n    if (h !== null) {\n      fn(h);\n    }\n  });\n};\n\nmodule.exports = InterceptorManager;\n", "'use strict';\n\nvar utils = require('../utils');\n\nmodule.exports = function normalizeHeaderName(headers, normalizedName) {\n  utils.forEach(headers, function processHeader(value, name) {\n    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\n      headers[normalizedName] = value;\n      delete headers[name];\n    }\n  });\n};\n", "'use strict';\n\nvar utils = require('../utils');\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [config] The config.\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The created error.\n */\nfunction AxiosError(message, code, config, request, response) {\n  Error.call(this);\n  this.message = message;\n  this.name = 'AxiosError';\n  code && (this.code = code);\n  config && (this.config = config);\n  request && (this.request = request);\n  response && (this.response = response);\n}\n\nutils.inherits(AxiosError, Error, {\n  toJSON: function toJSON() {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: this.config,\n      code: this.code,\n      status: this.response && this.response.status ? this.response.status : null\n    };\n  }\n});\n\nvar prototype = AxiosError.prototype;\nvar descriptors = {};\n\n[\n  'ERR_BAD_OPTION_VALUE',\n  'ERR_BAD_OPTION',\n  'ECONNABORTED',\n  'ETIMEDOUT',\n  'ERR_NETWORK',\n  'ERR_FR_TOO_MANY_REDIRECTS',\n  'ERR_DEPRECATED',\n  'ERR_BAD_RESPONSE',\n  'ERR_BAD_REQUEST',\n  'ERR_CANCELED'\n// eslint-disable-next-line func-names\n].forEach(function(code) {\n  descriptors[code] = {value: code};\n});\n\nObject.defineProperties(AxiosError, descriptors);\nObject.defineProperty(prototype, 'isAxiosError', {value: true});\n\n// eslint-disable-next-line func-names\nAxiosError.from = function(error, code, config, request, response, customProps) {\n  var axiosError = Object.create(prototype);\n\n  utils.toFlatObject(error, axiosError, function filter(obj) {\n    return obj !== Error.prototype;\n  });\n\n  AxiosError.call(axiosError, error.message, code, config, request, response);\n\n  axiosError.name = error.name;\n\n  customProps && Object.assign(axiosError, customProps);\n\n  return axiosError;\n};\n\nmodule.exports = AxiosError;\n", "'use strict';\n\nmodule.exports = {\n  silentJSONParsing: true,\n  forcedJSONParsing: true,\n  clarifyTimeoutError: false\n};\n", "'use strict';\n\nvar utils = require('../utils');\n\n/**\n * Convert a data object to FormData\n * @param {Object} obj\n * @param {?Object} [formData]\n * @returns {Object}\n **/\n\nfunction toFormData(obj, formData) {\n  // eslint-disable-next-line no-param-reassign\n  formData = formData || new FormData();\n\n  var stack = [];\n\n  function convertValue(value) {\n    if (value === null) return '';\n\n    if (utils.isDate(value)) {\n      return value.toISOString();\n    }\n\n    if (utils.isArrayBuffer(value) || utils.isTypedArray(value)) {\n      return typeof Blob === 'function' ? new Blob([value]) : Buffer.from(value);\n    }\n\n    return value;\n  }\n\n  function build(data, parentKey) {\n    if (utils.isPlainObject(data) || utils.isArray(data)) {\n      if (stack.indexOf(data) !== -1) {\n        throw Error('Circular reference detected in ' + parentKey);\n      }\n\n      stack.push(data);\n\n      utils.forEach(data, function each(value, key) {\n        if (utils.isUndefined(value)) return;\n        var fullKey = parentKey ? parentKey + '.' + key : key;\n        var arr;\n\n        if (value && !parentKey && typeof value === 'object') {\n          if (utils.endsWith(key, '{}')) {\n            // eslint-disable-next-line no-param-reassign\n            value = JSON.stringify(value);\n          } else if (utils.endsWith(key, '[]') && (arr = utils.toArray(value))) {\n            // eslint-disable-next-line func-names\n            arr.forEach(function(el) {\n              !utils.isUndefined(el) && formData.append(fullKey, convertValue(el));\n            });\n            return;\n          }\n        }\n\n        build(value, fullKey);\n      });\n\n      stack.pop();\n    } else {\n      formData.append(parentKey, convertValue(data));\n    }\n  }\n\n  build(obj);\n\n  return formData;\n}\n\nmodule.exports = toFormData;\n", "'use strict';\n\nvar AxiosError = require('./AxiosError');\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n */\nmodule.exports = function settle(resolve, reject, response) {\n  var validateStatus = response.config.validateStatus;\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(new AxiosError(\n      'Request failed with status code ' + response.status,\n      [AxiosError.ERR_BAD_REQUEST, AxiosError.ERR_BAD_RESPONSE][Math.floor(response.status / 100) - 4],\n      response.config,\n      response.request,\n      response\n    ));\n  }\n};\n", "'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs support document.cookie\n    (function standardBrowserEnv() {\n      return {\n        write: function write(name, value, expires, path, domain, secure) {\n          var cookie = [];\n          cookie.push(name + '=' + encodeURIComponent(value));\n\n          if (utils.isNumber(expires)) {\n            cookie.push('expires=' + new Date(expires).toGMTString());\n          }\n\n          if (utils.isString(path)) {\n            cookie.push('path=' + path);\n          }\n\n          if (utils.isString(domain)) {\n            cookie.push('domain=' + domain);\n          }\n\n          if (secure === true) {\n            cookie.push('secure');\n          }\n\n          document.cookie = cookie.join('; ');\n        },\n\n        read: function read(name) {\n          var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n          return (match ? decodeURIComponent(match[3]) : null);\n        },\n\n        remove: function remove(name) {\n          this.write(name, '', Date.now() - 86400000);\n        }\n      };\n    })() :\n\n  // Non standard browser env (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return {\n        write: function write() {},\n        read: function read() { return null; },\n        remove: function remove() {}\n      };\n    })()\n);\n", "'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nmodule.exports = function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d+\\-.]*:)?\\/\\//i.test(url);\n};\n", "'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n * @returns {string} The combined URL\n */\nmodule.exports = function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n};\n", "'use strict';\n\nvar isAbsoluteURL = require('../helpers/isAbsoluteURL');\nvar combineURLs = require('../helpers/combineURLs');\n\n/**\n * Creates a new URL by combining the baseURL with the requestedURL,\n * only when the requestedURL is not already an absolute URL.\n * If the requestURL is absolute, this function returns the requestedURL untouched.\n *\n * @param {string} baseURL The base URL\n * @param {string} requestedURL Absolute or relative URL to combine\n * @returns {string} The combined full path\n */\nmodule.exports = function buildFullPath(baseURL, requestedURL) {\n  if (baseURL && !isAbsoluteURL(requestedURL)) {\n    return combineURLs(baseURL, requestedURL);\n  }\n  return requestedURL;\n};\n", "'use strict';\n\nvar utils = require('./../utils');\n\n// Headers whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nvar ignoreDuplicateOf = [\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n];\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} headers Headers needing to be parsed\n * @returns {Object} Headers parsed into an object\n */\nmodule.exports = function parseHeaders(headers) {\n  var parsed = {};\n  var key;\n  var val;\n  var i;\n\n  if (!headers) { return parsed; }\n\n  utils.forEach(headers.split('\\n'), function parser(line) {\n    i = line.indexOf(':');\n    key = utils.trim(line.substr(0, i)).toLowerCase();\n    val = utils.trim(line.substr(i + 1));\n\n    if (key) {\n      if (parsed[key] && ignoreDuplicateOf.indexOf(key) >= 0) {\n        return;\n      }\n      if (key === 'set-cookie') {\n        parsed[key] = (parsed[key] ? parsed[key] : []).concat([val]);\n      } else {\n        parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n      }\n    }\n  });\n\n  return parsed;\n};\n", "'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs have full support of the APIs needed to test\n  // whether the request URL is of the same origin as current location.\n    (function standardBrowserEnv() {\n      var msie = /(msie|trident)/i.test(navigator.userAgent);\n      var urlParsingNode = document.createElement('a');\n      var originURL;\n\n      /**\n    * Parse a URL to discover it's components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n      function resolveURL(url) {\n        var href = url;\n\n        if (msie) {\n        // IE needs attribute set twice to normalize properties\n          urlParsingNode.setAttribute('href', href);\n          href = urlParsingNode.href;\n        }\n\n        urlParsingNode.setAttribute('href', href);\n\n        // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n        return {\n          href: urlParsingNode.href,\n          protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n          host: urlParsingNode.host,\n          search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n          hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n          hostname: urlParsingNode.hostname,\n          port: urlParsingNode.port,\n          pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n            urlParsingNode.pathname :\n            '/' + urlParsingNode.pathname\n        };\n      }\n\n      originURL = resolveURL(window.location.href);\n\n      /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n      return function isURLSameOrigin(requestURL) {\n        var parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n        return (parsed.protocol === originURL.protocol &&\n            parsed.host === originURL.host);\n      };\n    })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return function isURLSameOrigin() {\n        return true;\n      };\n    })()\n);\n", "'use strict';\n\nvar AxiosError = require('../core/AxiosError');\nvar utils = require('../utils');\n\n/**\n * A `CanceledError` is an object that is thrown when an operation is canceled.\n *\n * @class\n * @param {string=} message The message.\n */\nfunction CanceledError(message) {\n  // eslint-disable-next-line no-eq-null,eqeqeq\n  AxiosError.call(this, message == null ? 'canceled' : message, AxiosError.ERR_CANCELED);\n  this.name = 'CanceledError';\n}\n\nutils.inherits(CanceledError, AxiosError, {\n  __CANCEL__: true\n});\n\nmodule.exports = CanceledError;\n", "'use strict';\n\nmodule.exports = function parseProtocol(url) {\n  var match = /^([-+\\w]{1,25})(:?\\/\\/|:)/.exec(url);\n  return match && match[1] || '';\n};\n", "'use strict';\n\nvar utils = require('./../utils');\nvar settle = require('./../core/settle');\nvar cookies = require('./../helpers/cookies');\nvar buildURL = require('./../helpers/buildURL');\nvar buildFullPath = require('../core/buildFullPath');\nvar parseHeaders = require('./../helpers/parseHeaders');\nvar isURLSameOrigin = require('./../helpers/isURLSameOrigin');\nvar transitionalDefaults = require('../defaults/transitional');\nvar AxiosError = require('../core/AxiosError');\nvar CanceledError = require('../cancel/CanceledError');\nvar parseProtocol = require('../helpers/parseProtocol');\n\nmodule.exports = function xhrAdapter(config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    var requestData = config.data;\n    var requestHeaders = config.headers;\n    var responseType = config.responseType;\n    var onCanceled;\n    function done() {\n      if (config.cancelToken) {\n        config.cancelToken.unsubscribe(onCanceled);\n      }\n\n      if (config.signal) {\n        config.signal.removeEventListener('abort', onCanceled);\n      }\n    }\n\n    if (utils.isFormData(requestData) && utils.isStandardBrowserEnv()) {\n      delete requestHeaders['Content-Type']; // Let the browser set it\n    }\n\n    var request = new XMLHttpRequest();\n\n    // HTTP basic authentication\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password ? unescape(encodeURIComponent(config.auth.password)) : '';\n      requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);\n    }\n\n    var fullPath = buildFullPath(config.baseURL, config.url);\n\n    request.open(config.method.toUpperCase(), buildURL(fullPath, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    function onloadend() {\n      if (!request) {\n        return;\n      }\n      // Prepare the response\n      var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;\n      var responseData = !responseType || responseType === 'text' ||  responseType === 'json' ?\n        request.responseText : request.response;\n      var response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config: config,\n        request: request\n      };\n\n      settle(function _resolve(value) {\n        resolve(value);\n        done();\n      }, function _reject(err) {\n        reject(err);\n        done();\n      }, response);\n\n      // Clean up request\n      request = null;\n    }\n\n    if ('onloadend' in request) {\n      // Use onloadend if available\n      request.onloadend = onloadend;\n    } else {\n      // Listen for ready state to emulate onloadend\n      request.onreadystatechange = function handleLoad() {\n        if (!request || request.readyState !== 4) {\n          return;\n        }\n\n        // The request errored out and we didn't get a response, this will be\n        // handled by onerror instead\n        // With one exception: request that using file: protocol, most browsers\n        // will return status as 0 even though it's a successful request\n        if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n          return;\n        }\n        // readystate handler is calling before onerror or ontimeout handlers,\n        // so we should call onloadend on the next 'tick'\n        setTimeout(onloadend);\n      };\n    }\n\n    // Handle browser request cancellation (as opposed to a manual cancellation)\n    request.onabort = function handleAbort() {\n      if (!request) {\n        return;\n      }\n\n      reject(new AxiosError('Request aborted', AxiosError.ECONNABORTED, config, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(new AxiosError('Network Error', AxiosError.ERR_NETWORK, config, request, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      var timeoutErrorMessage = config.timeout ? 'timeout of ' + config.timeout + 'ms exceeded' : 'timeout exceeded';\n      var transitional = config.transitional || transitionalDefaults;\n      if (config.timeoutErrorMessage) {\n        timeoutErrorMessage = config.timeoutErrorMessage;\n      }\n      reject(new AxiosError(\n        timeoutErrorMessage,\n        transitional.clarifyTimeoutError ? AxiosError.ETIMEDOUT : AxiosError.ECONNABORTED,\n        config,\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n    if (utils.isStandardBrowserEnv()) {\n      // Add xsrf header\n      var xsrfValue = (config.withCredentials || isURLSameOrigin(fullPath)) && config.xsrfCookieName ?\n        cookies.read(config.xsrfCookieName) :\n        undefined;\n\n      if (xsrfValue) {\n        requestHeaders[config.xsrfHeaderName] = xsrfValue;\n      }\n    }\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders, function setRequestHeader(val, key) {\n        if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {\n          // Remove Content-Type if data is undefined\n          delete requestHeaders[key];\n        } else {\n          // Otherwise add header to the request\n          request.setRequestHeader(key, val);\n        }\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (!utils.isUndefined(config.withCredentials)) {\n      request.withCredentials = !!config.withCredentials;\n    }\n\n    // Add responseType to request if needed\n    if (responseType && responseType !== 'json') {\n      request.responseType = config.responseType;\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', config.onDownloadProgress);\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', config.onUploadProgress);\n    }\n\n    if (config.cancelToken || config.signal) {\n      // Handle cancellation\n      // eslint-disable-next-line func-names\n      onCanceled = function(cancel) {\n        if (!request) {\n          return;\n        }\n        reject(!cancel || (cancel && cancel.type) ? new CanceledError() : cancel);\n        request.abort();\n        request = null;\n      };\n\n      config.cancelToken && config.cancelToken.subscribe(onCanceled);\n      if (config.signal) {\n        config.signal.aborted ? onCanceled() : config.signal.addEventListener('abort', onCanceled);\n      }\n    }\n\n    if (!requestData) {\n      requestData = null;\n    }\n\n    var protocol = parseProtocol(fullPath);\n\n    if (protocol && [ 'http', 'https', 'file' ].indexOf(protocol) === -1) {\n      reject(new AxiosError('Unsupported protocol ' + protocol + ':', AxiosError.ERR_BAD_REQUEST, config));\n      return;\n    }\n\n\n    // Send the request\n    request.send(requestData);\n  });\n};\n", "// eslint-disable-next-line strict\nmodule.exports = null;\n", "'use strict';\n\nvar utils = require('../utils');\nvar normalizeHeaderName = require('../helpers/normalizeHeaderName');\nvar AxiosError = require('../core/AxiosError');\nvar transitionalDefaults = require('./transitional');\nvar toFormData = require('../helpers/toFormData');\n\nvar DEFAULT_CONTENT_TYPE = {\n  'Content-Type': 'application/x-www-form-urlencoded'\n};\n\nfunction setContentTypeIfUnset(headers, value) {\n  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {\n    headers['Content-Type'] = value;\n  }\n}\n\nfunction getDefaultAdapter() {\n  var adapter;\n  if (typeof XMLHttpRequest !== 'undefined') {\n    // For browsers use XHR adapter\n    adapter = require('../adapters/xhr');\n  } else if (typeof process !== 'undefined' && Object.prototype.toString.call(process) === '[object process]') {\n    // For node use HTTP adapter\n    adapter = require('../adapters/http');\n  }\n  return adapter;\n}\n\nfunction stringifySafely(rawValue, parser, encoder) {\n  if (utils.isString(rawValue)) {\n    try {\n      (parser || JSON.parse)(rawValue);\n      return utils.trim(rawValue);\n    } catch (e) {\n      if (e.name !== 'SyntaxError') {\n        throw e;\n      }\n    }\n  }\n\n  return (encoder || JSON.stringify)(rawValue);\n}\n\nvar defaults = {\n\n  transitional: transitionalDefaults,\n\n  adapter: getDefaultAdapter(),\n\n  transformRequest: [function transformRequest(data, headers) {\n    normalizeHeaderName(headers, 'Accept');\n    normalizeHeaderName(headers, 'Content-Type');\n\n    if (utils.isFormData(data) ||\n      utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');\n      return data.toString();\n    }\n\n    var isObjectPayload = utils.isObject(data);\n    var contentType = headers && headers['Content-Type'];\n\n    var isFileList;\n\n    if ((isFileList = utils.isFileList(data)) || (isObjectPayload && contentType === 'multipart/form-data')) {\n      var _FormData = this.env && this.env.FormData;\n      return toFormData(isFileList ? {'files[]': data} : data, _FormData && new _FormData());\n    } else if (isObjectPayload || contentType === 'application/json') {\n      setContentTypeIfUnset(headers, 'application/json');\n      return stringifySafely(data);\n    }\n\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    var transitional = this.transitional || defaults.transitional;\n    var silentJSONParsing = transitional && transitional.silentJSONParsing;\n    var forcedJSONParsing = transitional && transitional.forcedJSONParsing;\n    var strictJSONParsing = !silentJSONParsing && this.responseType === 'json';\n\n    if (strictJSONParsing || (forcedJSONParsing && utils.isString(data) && data.length)) {\n      try {\n        return JSON.parse(data);\n      } catch (e) {\n        if (strictJSONParsing) {\n          if (e.name === 'SyntaxError') {\n            throw AxiosError.from(e, AxiosError.ERR_BAD_RESPONSE, this, null, this.response);\n          }\n          throw e;\n        }\n      }\n    }\n\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n  maxBodyLength: -1,\n\n  env: {\n    FormData: require('./env/FormData')\n  },\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  },\n\n  headers: {\n    common: {\n      'Accept': 'application/json, text/plain, */*'\n    }\n  }\n};\n\nutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\n  defaults.headers[method] = {};\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);\n});\n\nmodule.exports = defaults;\n", "'use strict';\n\nvar utils = require('./../utils');\nvar defaults = require('../defaults');\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Object|String} data The data to be transformed\n * @param {Array} headers The headers for the request or response\n * @param {Array|Function} fns A single function or Array of functions\n * @returns {*} The resulting transformed data\n */\nmodule.exports = function transformData(data, headers, fns) {\n  var context = this || defaults;\n  /*eslint no-param-reassign:0*/\n  utils.forEach(fns, function transform(fn) {\n    data = fn.call(context, data, headers);\n  });\n\n  return data;\n};\n", "'use strict';\n\nmodule.exports = function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n};\n", "'use strict';\n\nvar utils = require('./../utils');\nvar transformData = require('./transformData');\nvar isCancel = require('../cancel/isCancel');\nvar defaults = require('../defaults');\nvar CanceledError = require('../cancel/CanceledError');\n\n/**\n * Throws a `CanceledError` if cancellation has been requested.\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n\n  if (config.signal && config.signal.aborted) {\n    throw new CanceledError();\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n * @returns {Promise} The Promise to be fulfilled\n */\nmodule.exports = function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  // Ensure headers exist\n  config.headers = config.headers || {};\n\n  // Transform request data\n  config.data = transformData.call(\n    config,\n    config.data,\n    config.headers,\n    config.transformRequest\n  );\n\n  // Flatten headers\n  config.headers = utils.merge(\n    config.headers.common || {},\n    config.headers[config.method] || {},\n    config.headers\n  );\n\n  utils.forEach(\n    ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n    function cleanHeaderConfig(method) {\n      delete config.headers[method];\n    }\n  );\n\n  var adapter = config.adapter || defaults.adapter;\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData.call(\n      config,\n      response.data,\n      response.headers,\n      config.transformResponse\n    );\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData.call(\n          config,\n          reason.response.data,\n          reason.response.headers,\n          config.transformResponse\n        );\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n};\n", "'use strict';\n\nvar utils = require('../utils');\n\n/**\n * Config-specific merge-function which creates a new config-object\n * by merging two configuration objects together.\n *\n * @param {Object} config1\n * @param {Object} config2\n * @returns {Object} New object resulting from merging config2 to config1\n */\nmodule.exports = function mergeConfig(config1, config2) {\n  // eslint-disable-next-line no-param-reassign\n  config2 = config2 || {};\n  var config = {};\n\n  function getMergedValue(target, source) {\n    if (utils.isPlainObject(target) && utils.isPlainObject(source)) {\n      return utils.merge(target, source);\n    } else if (utils.isPlainObject(source)) {\n      return utils.merge({}, source);\n    } else if (utils.isArray(source)) {\n      return source.slice();\n    }\n    return source;\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDeepProperties(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      return getMergedValue(config1[prop], config2[prop]);\n    } else if (!utils.isUndefined(config1[prop])) {\n      return getMergedValue(undefined, config1[prop]);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function valueFromConfig2(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      return getMergedValue(undefined, config2[prop]);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function defaultToConfig2(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      return getMergedValue(undefined, config2[prop]);\n    } else if (!utils.isUndefined(config1[prop])) {\n      return getMergedValue(undefined, config1[prop]);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDirectKeys(prop) {\n    if (prop in config2) {\n      return getMergedValue(config1[prop], config2[prop]);\n    } else if (prop in config1) {\n      return getMergedValue(undefined, config1[prop]);\n    }\n  }\n\n  var mergeMap = {\n    'url': valueFromConfig2,\n    'method': valueFromConfig2,\n    'data': valueFromConfig2,\n    'baseURL': defaultToConfig2,\n    'transformRequest': defaultToConfig2,\n    'transformResponse': defaultToConfig2,\n    'paramsSerializer': defaultToConfig2,\n    'timeout': defaultToConfig2,\n    'timeoutMessage': defaultToConfig2,\n    'withCredentials': defaultToConfig2,\n    'adapter': defaultToConfig2,\n    'responseType': defaultToConfig2,\n    'xsrfCookieName': defaultToConfig2,\n    'xsrfHeaderName': defaultToConfig2,\n    'onUploadProgress': defaultToConfig2,\n    'onDownloadProgress': defaultToConfig2,\n    'decompress': defaultToConfig2,\n    'maxContentLength': defaultToConfig2,\n    'maxBodyLength': defaultToConfig2,\n    'beforeRedirect': defaultToConfig2,\n    'transport': defaultToConfig2,\n    'httpAgent': defaultToConfig2,\n    'httpsAgent': defaultToConfig2,\n    'cancelToken': defaultToConfig2,\n    'socketPath': defaultToConfig2,\n    'responseEncoding': defaultToConfig2,\n    'validateStatus': mergeDirectKeys\n  };\n\n  utils.forEach(Object.keys(config1).concat(Object.keys(config2)), function computeConfigValue(prop) {\n    var merge = mergeMap[prop] || mergeDeepProperties;\n    var configValue = merge(prop);\n    (utils.isUndefined(configValue) && merge !== mergeDirectKeys) || (config[prop] = configValue);\n  });\n\n  return config;\n};\n", "module.exports = {\n  \"version\": \"0.27.2\"\n};", "'use strict';\n\nvar VERSION = require('../env/data').version;\nvar AxiosError = require('../core/AxiosError');\n\nvar validators = {};\n\n// eslint-disable-next-line func-names\n['object', 'boolean', 'number', 'function', 'string', 'symbol'].forEach(function(type, i) {\n  validators[type] = function validator(thing) {\n    return typeof thing === type || 'a' + (i < 1 ? 'n ' : ' ') + type;\n  };\n});\n\nvar deprecatedWarnings = {};\n\n/**\n * Transitional option validator\n * @param {function|boolean?} validator - set to false if the transitional option has been removed\n * @param {string?} version - deprecated version / removed since version\n * @param {string?} message - some message with additional info\n * @returns {function}\n */\nvalidators.transitional = function transitional(validator, version, message) {\n  function formatMessage(opt, desc) {\n    return '[Axios v' + VERSION + '] Transitional option \\'' + opt + '\\'' + desc + (message ? '. ' + message : '');\n  }\n\n  // eslint-disable-next-line func-names\n  return function(value, opt, opts) {\n    if (validator === false) {\n      throw new AxiosError(\n        formatMessage(opt, ' has been removed' + (version ? ' in ' + version : '')),\n        AxiosError.ERR_DEPRECATED\n      );\n    }\n\n    if (version && !deprecatedWarnings[opt]) {\n      deprecatedWarnings[opt] = true;\n      // eslint-disable-next-line no-console\n      console.warn(\n        formatMessage(\n          opt,\n          ' has been deprecated since v' + version + ' and will be removed in the near future'\n        )\n      );\n    }\n\n    return validator ? validator(value, opt, opts) : true;\n  };\n};\n\n/**\n * Assert object's properties type\n * @param {object} options\n * @param {object} schema\n * @param {boolean?} allowUnknown\n */\n\nfunction assertOptions(options, schema, allowUnknown) {\n  if (typeof options !== 'object') {\n    throw new AxiosError('options must be an object', AxiosError.ERR_BAD_OPTION_VALUE);\n  }\n  var keys = Object.keys(options);\n  var i = keys.length;\n  while (i-- > 0) {\n    var opt = keys[i];\n    var validator = schema[opt];\n    if (validator) {\n      var value = options[opt];\n      var result = value === undefined || validator(value, opt, options);\n      if (result !== true) {\n        throw new AxiosError('option ' + opt + ' must be ' + result, AxiosError.ERR_BAD_OPTION_VALUE);\n      }\n      continue;\n    }\n    if (allowUnknown !== true) {\n      throw new AxiosError('Unknown option ' + opt, AxiosError.ERR_BAD_OPTION);\n    }\n  }\n}\n\nmodule.exports = {\n  assertOptions: assertOptions,\n  validators: validators\n};\n", "'use strict';\n\nvar utils = require('./../utils');\nvar buildURL = require('../helpers/buildURL');\nvar InterceptorManager = require('./InterceptorManager');\nvar dispatchRequest = require('./dispatchRequest');\nvar mergeConfig = require('./mergeConfig');\nvar buildFullPath = require('./buildFullPath');\nvar validator = require('../helpers/validator');\n\nvar validators = validator.validators;\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n */\nfunction Axios(instanceConfig) {\n  this.defaults = instanceConfig;\n  this.interceptors = {\n    request: new InterceptorManager(),\n    response: new InterceptorManager()\n  };\n}\n\n/**\n * Dispatch a request\n *\n * @param {Object} config The config specific for this request (merged with this.defaults)\n */\nAxios.prototype.request = function request(configOrUrl, config) {\n  /*eslint no-param-reassign:0*/\n  // Allow for axios('example/url'[, config]) a la fetch API\n  if (typeof configOrUrl === 'string') {\n    config = config || {};\n    config.url = configOrUrl;\n  } else {\n    config = configOrUrl || {};\n  }\n\n  config = mergeConfig(this.defaults, config);\n\n  // Set config.method\n  if (config.method) {\n    config.method = config.method.toLowerCase();\n  } else if (this.defaults.method) {\n    config.method = this.defaults.method.toLowerCase();\n  } else {\n    config.method = 'get';\n  }\n\n  var transitional = config.transitional;\n\n  if (transitional !== undefined) {\n    validator.assertOptions(transitional, {\n      silentJSONParsing: validators.transitional(validators.boolean),\n      forcedJSONParsing: validators.transitional(validators.boolean),\n      clarifyTimeoutError: validators.transitional(validators.boolean)\n    }, false);\n  }\n\n  // filter out skipped interceptors\n  var requestInterceptorChain = [];\n  var synchronousRequestInterceptors = true;\n  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n    if (typeof interceptor.runWhen === 'function' && interceptor.runWhen(config) === false) {\n      return;\n    }\n\n    synchronousRequestInterceptors = synchronousRequestInterceptors && interceptor.synchronous;\n\n    requestInterceptorChain.unshift(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  var responseInterceptorChain = [];\n  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n    responseInterceptorChain.push(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  var promise;\n\n  if (!synchronousRequestInterceptors) {\n    var chain = [dispatchRequest, undefined];\n\n    Array.prototype.unshift.apply(chain, requestInterceptorChain);\n    chain = chain.concat(responseInterceptorChain);\n\n    promise = Promise.resolve(config);\n    while (chain.length) {\n      promise = promise.then(chain.shift(), chain.shift());\n    }\n\n    return promise;\n  }\n\n\n  var newConfig = config;\n  while (requestInterceptorChain.length) {\n    var onFulfilled = requestInterceptorChain.shift();\n    var onRejected = requestInterceptorChain.shift();\n    try {\n      newConfig = onFulfilled(newConfig);\n    } catch (error) {\n      onRejected(error);\n      break;\n    }\n  }\n\n  try {\n    promise = dispatchRequest(newConfig);\n  } catch (error) {\n    return Promise.reject(error);\n  }\n\n  while (responseInterceptorChain.length) {\n    promise = promise.then(responseInterceptorChain.shift(), responseInterceptorChain.shift());\n  }\n\n  return promise;\n};\n\nAxios.prototype.getUri = function getUri(config) {\n  config = mergeConfig(this.defaults, config);\n  var fullPath = buildFullPath(config.baseURL, config.url);\n  return buildURL(fullPath, config.params, config.paramsSerializer);\n};\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(mergeConfig(config || {}, {\n      method: method,\n      url: url,\n      data: (config || {}).data\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n\n  function generateHTTPMethod(isForm) {\n    return function httpMethod(url, data, config) {\n      return this.request(mergeConfig(config || {}, {\n        method: method,\n        headers: isForm ? {\n          'Content-Type': 'multipart/form-data'\n        } : {},\n        url: url,\n        data: data\n      }));\n    };\n  }\n\n  Axios.prototype[method] = generateHTTPMethod();\n\n  Axios.prototype[method + 'Form'] = generateHTTPMethod(true);\n});\n\nmodule.exports = Axios;\n", "'use strict';\n\nvar CanceledError = require('./CanceledError');\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @class\n * @param {Function} executor The executor function.\n */\nfunction CancelToken(executor) {\n  if (typeof executor !== 'function') {\n    throw new TypeError('executor must be a function.');\n  }\n\n  var resolvePromise;\n\n  this.promise = new Promise(function promiseExecutor(resolve) {\n    resolvePromise = resolve;\n  });\n\n  var token = this;\n\n  // eslint-disable-next-line func-names\n  this.promise.then(function(cancel) {\n    if (!token._listeners) return;\n\n    var i;\n    var l = token._listeners.length;\n\n    for (i = 0; i < l; i++) {\n      token._listeners[i](cancel);\n    }\n    token._listeners = null;\n  });\n\n  // eslint-disable-next-line func-names\n  this.promise.then = function(onfulfilled) {\n    var _resolve;\n    // eslint-disable-next-line func-names\n    var promise = new Promise(function(resolve) {\n      token.subscribe(resolve);\n      _resolve = resolve;\n    }).then(onfulfilled);\n\n    promise.cancel = function reject() {\n      token.unsubscribe(_resolve);\n    };\n\n    return promise;\n  };\n\n  executor(function cancel(message) {\n    if (token.reason) {\n      // Cancellation has already been requested\n      return;\n    }\n\n    token.reason = new CanceledError(message);\n    resolvePromise(token.reason);\n  });\n}\n\n/**\n * Throws a `CanceledError` if cancellation has been requested.\n */\nCancelToken.prototype.throwIfRequested = function throwIfRequested() {\n  if (this.reason) {\n    throw this.reason;\n  }\n};\n\n/**\n * Subscribe to the cancel signal\n */\n\nCancelToken.prototype.subscribe = function subscribe(listener) {\n  if (this.reason) {\n    listener(this.reason);\n    return;\n  }\n\n  if (this._listeners) {\n    this._listeners.push(listener);\n  } else {\n    this._listeners = [listener];\n  }\n};\n\n/**\n * Unsubscribe from the cancel signal\n */\n\nCancelToken.prototype.unsubscribe = function unsubscribe(listener) {\n  if (!this._listeners) {\n    return;\n  }\n  var index = this._listeners.indexOf(listener);\n  if (index !== -1) {\n    this._listeners.splice(index, 1);\n  }\n};\n\n/**\n * Returns an object that contains a new `CancelToken` and a function that, when called,\n * cancels the `CancelToken`.\n */\nCancelToken.source = function source() {\n  var cancel;\n  var token = new CancelToken(function executor(c) {\n    cancel = c;\n  });\n  return {\n    token: token,\n    cancel: cancel\n  };\n};\n\nmodule.exports = CancelToken;\n", "'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n * @returns {Function}\n */\nmodule.exports = function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n};\n", "'use strict';\n\nvar utils = require('./../utils');\n\n/**\n * Determines whether the payload is an error thrown by Axios\n *\n * @param {*} payload The value to test\n * @returns {boolean} True if the payload is an error thrown by Axios, otherwise false\n */\nmodule.exports = function isAxiosError(payload) {\n  return utils.isObject(payload) && (payload.isAxiosError === true);\n};\n", "'use strict';\n\nvar utils = require('./utils');\nvar bind = require('./helpers/bind');\nvar Axios = require('./core/Axios');\nvar mergeConfig = require('./core/mergeConfig');\nvar defaults = require('./defaults');\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n * @return {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  var context = new Axios(defaultConfig);\n  var instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context);\n\n  // Copy context to instance\n  utils.extend(instance, context);\n\n  // Factory for creating new instances\n  instance.create = function create(instanceConfig) {\n    return createInstance(mergeConfig(defaultConfig, instanceConfig));\n  };\n\n  return instance;\n}\n\n// Create the default instance to be exported\nvar axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Expose Cancel & CancelToken\naxios.CanceledError = require('./cancel/CanceledError');\naxios.CancelToken = require('./cancel/CancelToken');\naxios.isCancel = require('./cancel/isCancel');\naxios.VERSION = require('./env/data').version;\naxios.toFormData = require('./helpers/toFormData');\n\n// Expose AxiosError class\naxios.AxiosError = require('../lib/core/AxiosError');\n\n// alias for CanceledError for backward compatibility\naxios.Cancel = axios.CanceledError;\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\naxios.spread = require('./helpers/spread');\n\n// Expose isAxiosError\naxios.isAxiosError = require('./helpers/isAxiosError');\n\nmodule.exports = axios;\n\n// Allow use of default import syntax in TypeScript\nmodule.exports.default = axios;\n", "module.exports = require('./lib/axios');", "/*!\n *  howler.js v2.2.3\n *  howlerjs.com\n *\n *  (c) 2013-2020, James Simpson of GoldFire Studios\n *  goldfirestudios.com\n *\n *  MIT License\n */\n\n(function() {\n\n  'use strict';\n\n  /** Global Methods **/\n  /***************************************************************************/\n\n  /**\n   * Create the global controller. All contained methods and properties apply\n   * to all sounds that are currently playing or will be in the future.\n   */\n  var HowlerGlobal = function() {\n    this.init();\n  };\n  HowlerGlobal.prototype = {\n    /**\n     * Initialize the global Howler object.\n     * @return {Howler}\n     */\n    init: function() {\n      var self = this || Howler;\n\n      // Create a global ID counter.\n      self._counter = 1000;\n\n      // Pool of unlocked HTML5 Audio objects.\n      self._html5AudioPool = [];\n      self.html5PoolSize = 10;\n\n      // Internal properties.\n      self._codecs = {};\n      self._howls = [];\n      self._muted = false;\n      self._volume = 1;\n      self._canPlayEvent = 'canplaythrough';\n      self._navigator = (typeof window !== 'undefined' && window.navigator) ? window.navigator : null;\n\n      // Public properties.\n      self.masterGain = null;\n      self.noAudio = false;\n      self.usingWebAudio = true;\n      self.autoSuspend = true;\n      self.ctx = null;\n\n      // Set to false to disable the auto audio unlocker.\n      self.autoUnlock = true;\n\n      // Setup the various state values for global tracking.\n      self._setup();\n\n      return self;\n    },\n\n    /**\n     * Get/set the global volume for all sounds.\n     * @param  {Float} vol Volume from 0.0 to 1.0.\n     * @return {Howler/Float}     Returns self or current volume.\n     */\n    volume: function(vol) {\n      var self = this || Howler;\n      vol = parseFloat(vol);\n\n      // If we don't have an AudioContext created yet, run the setup.\n      if (!self.ctx) {\n        setupAudioContext();\n      }\n\n      if (typeof vol !== 'undefined' && vol >= 0 && vol <= 1) {\n        self._volume = vol;\n\n        // Don't update any of the nodes if we are muted.\n        if (self._muted) {\n          return self;\n        }\n\n        // When using Web Audio, we just need to adjust the master gain.\n        if (self.usingWebAudio) {\n          self.masterGain.gain.setValueAtTime(vol, Howler.ctx.currentTime);\n        }\n\n        // Loop through and change volume for all HTML5 audio nodes.\n        for (var i=0; i<self._howls.length; i++) {\n          if (!self._howls[i]._webAudio) {\n            // Get all of the sounds in this Howl group.\n            var ids = self._howls[i]._getSoundIds();\n\n            // Loop through all sounds and change the volumes.\n            for (var j=0; j<ids.length; j++) {\n              var sound = self._howls[i]._soundById(ids[j]);\n\n              if (sound && sound._node) {\n                sound._node.volume = sound._volume * vol;\n              }\n            }\n          }\n        }\n\n        return self;\n      }\n\n      return self._volume;\n    },\n\n    /**\n     * Handle muting and unmuting globally.\n     * @param  {Boolean} muted Is muted or not.\n     */\n    mute: function(muted) {\n      var self = this || Howler;\n\n      // If we don't have an AudioContext created yet, run the setup.\n      if (!self.ctx) {\n        setupAudioContext();\n      }\n\n      self._muted = muted;\n\n      // With Web Audio, we just need to mute the master gain.\n      if (self.usingWebAudio) {\n        self.masterGain.gain.setValueAtTime(muted ? 0 : self._volume, Howler.ctx.currentTime);\n      }\n\n      // Loop through and mute all HTML5 Audio nodes.\n      for (var i=0; i<self._howls.length; i++) {\n        if (!self._howls[i]._webAudio) {\n          // Get all of the sounds in this Howl group.\n          var ids = self._howls[i]._getSoundIds();\n\n          // Loop through all sounds and mark the audio node as muted.\n          for (var j=0; j<ids.length; j++) {\n            var sound = self._howls[i]._soundById(ids[j]);\n\n            if (sound && sound._node) {\n              sound._node.muted = (muted) ? true : sound._muted;\n            }\n          }\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Handle stopping all sounds globally.\n     */\n    stop: function() {\n      var self = this || Howler;\n\n      // Loop through all Howls and stop them.\n      for (var i=0; i<self._howls.length; i++) {\n        self._howls[i].stop();\n      }\n\n      return self;\n    },\n\n    /**\n     * Unload and destroy all currently loaded Howl objects.\n     * @return {Howler}\n     */\n    unload: function() {\n      var self = this || Howler;\n\n      for (var i=self._howls.length-1; i>=0; i--) {\n        self._howls[i].unload();\n      }\n\n      // Create a new AudioContext to make sure it is fully reset.\n      if (self.usingWebAudio && self.ctx && typeof self.ctx.close !== 'undefined') {\n        self.ctx.close();\n        self.ctx = null;\n        setupAudioContext();\n      }\n\n      return self;\n    },\n\n    /**\n     * Check for codec support of specific extension.\n     * @param  {String} ext Audio file extention.\n     * @return {Boolean}\n     */\n    codecs: function(ext) {\n      return (this || Howler)._codecs[ext.replace(/^x-/, '')];\n    },\n\n    /**\n     * Setup various state values for global tracking.\n     * @return {Howler}\n     */\n    _setup: function() {\n      var self = this || Howler;\n\n      // Keeps track of the suspend/resume state of the AudioContext.\n      self.state = self.ctx ? self.ctx.state || 'suspended' : 'suspended';\n\n      // Automatically begin the 30-second suspend process\n      self._autoSuspend();\n\n      // Check if audio is available.\n      if (!self.usingWebAudio) {\n        // No audio is available on this system if noAudio is set to true.\n        if (typeof Audio !== 'undefined') {\n          try {\n            var test = new Audio();\n\n            // Check if the canplaythrough event is available.\n            if (typeof test.oncanplaythrough === 'undefined') {\n              self._canPlayEvent = 'canplay';\n            }\n          } catch(e) {\n            self.noAudio = true;\n          }\n        } else {\n          self.noAudio = true;\n        }\n      }\n\n      // Test to make sure audio isn't disabled in Internet Explorer.\n      try {\n        var test = new Audio();\n        if (test.muted) {\n          self.noAudio = true;\n        }\n      } catch (e) {}\n\n      // Check for supported codecs.\n      if (!self.noAudio) {\n        self._setupCodecs();\n      }\n\n      return self;\n    },\n\n    /**\n     * Check for browser support for various codecs and cache the results.\n     * @return {Howler}\n     */\n    _setupCodecs: function() {\n      var self = this || Howler;\n      var audioTest = null;\n\n      // Must wrap in a try/catch because IE11 in server mode throws an error.\n      try {\n        audioTest = (typeof Audio !== 'undefined') ? new Audio() : null;\n      } catch (err) {\n        return self;\n      }\n\n      if (!audioTest || typeof audioTest.canPlayType !== 'function') {\n        return self;\n      }\n\n      var mpegTest = audioTest.canPlayType('audio/mpeg;').replace(/^no$/, '');\n\n      // Opera version <33 has mixed MP3 support, so we need to check for and block it.\n      var ua = self._navigator ? self._navigator.userAgent : '';\n      var checkOpera = ua.match(/OPR\\/([0-6].)/g);\n      var isOldOpera = (checkOpera && parseInt(checkOpera[0].split('/')[1], 10) < 33);\n      var checkSafari = ua.indexOf('Safari') !== -1 && ua.indexOf('Chrome') === -1;\n      var safariVersion = ua.match(/Version\\/(.*?) /);\n      var isOldSafari = (checkSafari && safariVersion && parseInt(safariVersion[1], 10) < 15);\n\n      self._codecs = {\n        mp3: !!(!isOldOpera && (mpegTest || audioTest.canPlayType('audio/mp3;').replace(/^no$/, ''))),\n        mpeg: !!mpegTest,\n        opus: !!audioTest.canPlayType('audio/ogg; codecs=\"opus\"').replace(/^no$/, ''),\n        ogg: !!audioTest.canPlayType('audio/ogg; codecs=\"vorbis\"').replace(/^no$/, ''),\n        oga: !!audioTest.canPlayType('audio/ogg; codecs=\"vorbis\"').replace(/^no$/, ''),\n        wav: !!(audioTest.canPlayType('audio/wav; codecs=\"1\"') || audioTest.canPlayType('audio/wav')).replace(/^no$/, ''),\n        aac: !!audioTest.canPlayType('audio/aac;').replace(/^no$/, ''),\n        caf: !!audioTest.canPlayType('audio/x-caf;').replace(/^no$/, ''),\n        m4a: !!(audioTest.canPlayType('audio/x-m4a;') || audioTest.canPlayType('audio/m4a;') || audioTest.canPlayType('audio/aac;')).replace(/^no$/, ''),\n        m4b: !!(audioTest.canPlayType('audio/x-m4b;') || audioTest.canPlayType('audio/m4b;') || audioTest.canPlayType('audio/aac;')).replace(/^no$/, ''),\n        mp4: !!(audioTest.canPlayType('audio/x-mp4;') || audioTest.canPlayType('audio/mp4;') || audioTest.canPlayType('audio/aac;')).replace(/^no$/, ''),\n        weba: !!(!isOldSafari && audioTest.canPlayType('audio/webm; codecs=\"vorbis\"').replace(/^no$/, '')),\n        webm: !!(!isOldSafari && audioTest.canPlayType('audio/webm; codecs=\"vorbis\"').replace(/^no$/, '')),\n        dolby: !!audioTest.canPlayType('audio/mp4; codecs=\"ec-3\"').replace(/^no$/, ''),\n        flac: !!(audioTest.canPlayType('audio/x-flac;') || audioTest.canPlayType('audio/flac;')).replace(/^no$/, '')\n      };\n\n      return self;\n    },\n\n    /**\n     * Some browsers/devices will only allow audio to be played after a user interaction.\n     * Attempt to automatically unlock audio on the first user interaction.\n     * Concept from: http://paulbakaus.com/tutorials/html5/web-audio-on-ios/\n     * @return {Howler}\n     */\n    _unlockAudio: function() {\n      var self = this || Howler;\n\n      // Only run this if Web Audio is supported and it hasn't already been unlocked.\n      if (self._audioUnlocked || !self.ctx) {\n        return;\n      }\n\n      self._audioUnlocked = false;\n      self.autoUnlock = false;\n\n      // Some mobile devices/platforms have distortion issues when opening/closing tabs and/or web views.\n      // Bugs in the browser (especially Mobile Safari) can cause the sampleRate to change from 44100 to 48000.\n      // By calling Howler.unload(), we create a new AudioContext with the correct sampleRate.\n      if (!self._mobileUnloaded && self.ctx.sampleRate !== 44100) {\n        self._mobileUnloaded = true;\n        self.unload();\n      }\n\n      // Scratch buffer for enabling iOS to dispose of web audio buffers correctly, as per:\n      // http://stackoverflow.com/questions/24119684\n      self._scratchBuffer = self.ctx.createBuffer(1, 1, 22050);\n\n      // Call this method on touch start to create and play a buffer,\n      // then check if the audio actually played to determine if\n      // audio has now been unlocked on iOS, Android, etc.\n      var unlock = function(e) {\n        // Create a pool of unlocked HTML5 Audio objects that can\n        // be used for playing sounds without user interaction. HTML5\n        // Audio objects must be individually unlocked, as opposed\n        // to the WebAudio API which only needs a single activation.\n        // This must occur before WebAudio setup or the source.onended\n        // event will not fire.\n        while (self._html5AudioPool.length < self.html5PoolSize) {\n          try {\n            var audioNode = new Audio();\n\n            // Mark this Audio object as unlocked to ensure it can get returned\n            // to the unlocked pool when released.\n            audioNode._unlocked = true;\n\n            // Add the audio node to the pool.\n            self._releaseHtml5Audio(audioNode);\n          } catch (e) {\n            self.noAudio = true;\n            break;\n          }\n        }\n\n        // Loop through any assigned audio nodes and unlock them.\n        for (var i=0; i<self._howls.length; i++) {\n          if (!self._howls[i]._webAudio) {\n            // Get all of the sounds in this Howl group.\n            var ids = self._howls[i]._getSoundIds();\n\n            // Loop through all sounds and unlock the audio nodes.\n            for (var j=0; j<ids.length; j++) {\n              var sound = self._howls[i]._soundById(ids[j]);\n\n              if (sound && sound._node && !sound._node._unlocked) {\n                sound._node._unlocked = true;\n                sound._node.load();\n              }\n            }\n          }\n        }\n\n        // Fix Android can not play in suspend state.\n        self._autoResume();\n\n        // Create an empty buffer.\n        var source = self.ctx.createBufferSource();\n        source.buffer = self._scratchBuffer;\n        source.connect(self.ctx.destination);\n\n        // Play the empty buffer.\n        if (typeof source.start === 'undefined') {\n          source.noteOn(0);\n        } else {\n          source.start(0);\n        }\n\n        // Calling resume() on a stack initiated by user gesture is what actually unlocks the audio on Android Chrome >= 55.\n        if (typeof self.ctx.resume === 'function') {\n          self.ctx.resume();\n        }\n\n        // Setup a timeout to check that we are unlocked on the next event loop.\n        source.onended = function() {\n          source.disconnect(0);\n\n          // Update the unlocked state and prevent this check from happening again.\n          self._audioUnlocked = true;\n\n          // Remove the touch start listener.\n          document.removeEventListener('touchstart', unlock, true);\n          document.removeEventListener('touchend', unlock, true);\n          document.removeEventListener('click', unlock, true);\n          document.removeEventListener('keydown', unlock, true);\n\n          // Let all sounds know that audio has been unlocked.\n          for (var i=0; i<self._howls.length; i++) {\n            self._howls[i]._emit('unlock');\n          }\n        };\n      };\n\n      // Setup a touch start listener to attempt an unlock in.\n      document.addEventListener('touchstart', unlock, true);\n      document.addEventListener('touchend', unlock, true);\n      document.addEventListener('click', unlock, true);\n      document.addEventListener('keydown', unlock, true);\n\n      return self;\n    },\n\n    /**\n     * Get an unlocked HTML5 Audio object from the pool. If none are left,\n     * return a new Audio object and throw a warning.\n     * @return {Audio} HTML5 Audio object.\n     */\n    _obtainHtml5Audio: function() {\n      var self = this || Howler;\n\n      // Return the next object from the pool if one exists.\n      if (self._html5AudioPool.length) {\n        return self._html5AudioPool.pop();\n      }\n\n      //.Check if the audio is locked and throw a warning.\n      var testPlay = new Audio().play();\n      if (testPlay && typeof Promise !== 'undefined' && (testPlay instanceof Promise || typeof testPlay.then === 'function')) {\n        testPlay.catch(function() {\n          console.warn('HTML5 Audio pool exhausted, returning potentially locked audio object.');\n        });\n      }\n\n      return new Audio();\n    },\n\n    /**\n     * Return an activated HTML5 Audio object to the pool.\n     * @return {Howler}\n     */\n    _releaseHtml5Audio: function(audio) {\n      var self = this || Howler;\n\n      // Don't add audio to the pool if we don't know if it has been unlocked.\n      if (audio._unlocked) {\n        self._html5AudioPool.push(audio);\n      }\n\n      return self;\n    },\n\n    /**\n     * Automatically suspend the Web Audio AudioContext after no sound has played for 30 seconds.\n     * This saves processing/energy and fixes various browser-specific bugs with audio getting stuck.\n     * @return {Howler}\n     */\n    _autoSuspend: function() {\n      var self = this;\n\n      if (!self.autoSuspend || !self.ctx || typeof self.ctx.suspend === 'undefined' || !Howler.usingWebAudio) {\n        return;\n      }\n\n      // Check if any sounds are playing.\n      for (var i=0; i<self._howls.length; i++) {\n        if (self._howls[i]._webAudio) {\n          for (var j=0; j<self._howls[i]._sounds.length; j++) {\n            if (!self._howls[i]._sounds[j]._paused) {\n              return self;\n            }\n          }\n        }\n      }\n\n      if (self._suspendTimer) {\n        clearTimeout(self._suspendTimer);\n      }\n\n      // If no sound has played after 30 seconds, suspend the context.\n      self._suspendTimer = setTimeout(function() {\n        if (!self.autoSuspend) {\n          return;\n        }\n\n        self._suspendTimer = null;\n        self.state = 'suspending';\n\n        // Handle updating the state of the audio context after suspending.\n        var handleSuspension = function() {\n          self.state = 'suspended';\n\n          if (self._resumeAfterSuspend) {\n            delete self._resumeAfterSuspend;\n            self._autoResume();\n          }\n        };\n\n        // Either the state gets suspended or it is interrupted.\n        // Either way, we need to update the state to suspended.\n        self.ctx.suspend().then(handleSuspension, handleSuspension);\n      }, 30000);\n\n      return self;\n    },\n\n    /**\n     * Automatically resume the Web Audio AudioContext when a new sound is played.\n     * @return {Howler}\n     */\n    _autoResume: function() {\n      var self = this;\n\n      if (!self.ctx || typeof self.ctx.resume === 'undefined' || !Howler.usingWebAudio) {\n        return;\n      }\n\n      if (self.state === 'running' && self.ctx.state !== 'interrupted' && self._suspendTimer) {\n        clearTimeout(self._suspendTimer);\n        self._suspendTimer = null;\n      } else if (self.state === 'suspended' || self.state === 'running' && self.ctx.state === 'interrupted') {\n        self.ctx.resume().then(function() {\n          self.state = 'running';\n\n          // Emit to all Howls that the audio has resumed.\n          for (var i=0; i<self._howls.length; i++) {\n            self._howls[i]._emit('resume');\n          }\n        });\n\n        if (self._suspendTimer) {\n          clearTimeout(self._suspendTimer);\n          self._suspendTimer = null;\n        }\n      } else if (self.state === 'suspending') {\n        self._resumeAfterSuspend = true;\n      }\n\n      return self;\n    }\n  };\n\n  // Setup the global audio controller.\n  var Howler = new HowlerGlobal();\n\n  /** Group Methods **/\n  /***************************************************************************/\n\n  /**\n   * Create an audio group controller.\n   * @param {Object} o Passed in properties for this group.\n   */\n  var Howl = function(o) {\n    var self = this;\n\n    // Throw an error if no source is provided.\n    if (!o.src || o.src.length === 0) {\n      console.error('An array of source files must be passed with any new Howl.');\n      return;\n    }\n\n    self.init(o);\n  };\n  Howl.prototype = {\n    /**\n     * Initialize a new Howl group object.\n     * @param  {Object} o Passed in properties for this group.\n     * @return {Howl}\n     */\n    init: function(o) {\n      var self = this;\n\n      // If we don't have an AudioContext created yet, run the setup.\n      if (!Howler.ctx) {\n        setupAudioContext();\n      }\n\n      // Setup user-defined default properties.\n      self._autoplay = o.autoplay || false;\n      self._format = (typeof o.format !== 'string') ? o.format : [o.format];\n      self._html5 = o.html5 || false;\n      self._muted = o.mute || false;\n      self._loop = o.loop || false;\n      self._pool = o.pool || 5;\n      self._preload = (typeof o.preload === 'boolean' || o.preload === 'metadata') ? o.preload : true;\n      self._rate = o.rate || 1;\n      self._sprite = o.sprite || {};\n      self._src = (typeof o.src !== 'string') ? o.src : [o.src];\n      self._volume = o.volume !== undefined ? o.volume : 1;\n      self._xhr = {\n        method: o.xhr && o.xhr.method ? o.xhr.method : 'GET',\n        headers: o.xhr && o.xhr.headers ? o.xhr.headers : null,\n        withCredentials: o.xhr && o.xhr.withCredentials ? o.xhr.withCredentials : false,\n      };\n\n      // Setup all other default properties.\n      self._duration = 0;\n      self._state = 'unloaded';\n      self._sounds = [];\n      self._endTimers = {};\n      self._queue = [];\n      self._playLock = false;\n\n      // Setup event listeners.\n      self._onend = o.onend ? [{fn: o.onend}] : [];\n      self._onfade = o.onfade ? [{fn: o.onfade}] : [];\n      self._onload = o.onload ? [{fn: o.onload}] : [];\n      self._onloaderror = o.onloaderror ? [{fn: o.onloaderror}] : [];\n      self._onplayerror = o.onplayerror ? [{fn: o.onplayerror}] : [];\n      self._onpause = o.onpause ? [{fn: o.onpause}] : [];\n      self._onplay = o.onplay ? [{fn: o.onplay}] : [];\n      self._onstop = o.onstop ? [{fn: o.onstop}] : [];\n      self._onmute = o.onmute ? [{fn: o.onmute}] : [];\n      self._onvolume = o.onvolume ? [{fn: o.onvolume}] : [];\n      self._onrate = o.onrate ? [{fn: o.onrate}] : [];\n      self._onseek = o.onseek ? [{fn: o.onseek}] : [];\n      self._onunlock = o.onunlock ? [{fn: o.onunlock}] : [];\n      self._onresume = [];\n\n      // Web Audio or HTML5 Audio?\n      self._webAudio = Howler.usingWebAudio && !self._html5;\n\n      // Automatically try to enable audio.\n      if (typeof Howler.ctx !== 'undefined' && Howler.ctx && Howler.autoUnlock) {\n        Howler._unlockAudio();\n      }\n\n      // Keep track of this Howl group in the global controller.\n      Howler._howls.push(self);\n\n      // If they selected autoplay, add a play event to the load queue.\n      if (self._autoplay) {\n        self._queue.push({\n          event: 'play',\n          action: function() {\n            self.play();\n          }\n        });\n      }\n\n      // Load the source file unless otherwise specified.\n      if (self._preload && self._preload !== 'none') {\n        self.load();\n      }\n\n      return self;\n    },\n\n    /**\n     * Load the audio file.\n     * @return {Howler}\n     */\n    load: function() {\n      var self = this;\n      var url = null;\n\n      // If no audio is available, quit immediately.\n      if (Howler.noAudio) {\n        self._emit('loaderror', null, 'No audio support.');\n        return;\n      }\n\n      // Make sure our source is in an array.\n      if (typeof self._src === 'string') {\n        self._src = [self._src];\n      }\n\n      // Loop through the sources and pick the first one that is compatible.\n      for (var i=0; i<self._src.length; i++) {\n        var ext, str;\n\n        if (self._format && self._format[i]) {\n          // If an extension was specified, use that instead.\n          ext = self._format[i];\n        } else {\n          // Make sure the source is a string.\n          str = self._src[i];\n          if (typeof str !== 'string') {\n            self._emit('loaderror', null, 'Non-string found in selected audio sources - ignoring.');\n            continue;\n          }\n\n          // Extract the file extension from the URL or base64 data URI.\n          ext = /^data:audio\\/([^;,]+);/i.exec(str);\n          if (!ext) {\n            ext = /\\.([^.]+)$/.exec(str.split('?', 1)[0]);\n          }\n\n          if (ext) {\n            ext = ext[1].toLowerCase();\n          }\n        }\n\n        // Log a warning if no extension was found.\n        if (!ext) {\n          console.warn('No file extension was found. Consider using the \"format\" property or specify an extension.');\n        }\n\n        // Check if this extension is available.\n        if (ext && Howler.codecs(ext)) {\n          url = self._src[i];\n          break;\n        }\n      }\n\n      if (!url) {\n        self._emit('loaderror', null, 'No codec support for selected audio sources.');\n        return;\n      }\n\n      self._src = url;\n      self._state = 'loading';\n\n      // If the hosting page is HTTPS and the source isn't,\n      // drop down to HTML5 Audio to avoid Mixed Content errors.\n      if (window.location.protocol === 'https:' && url.slice(0, 5) === 'http:') {\n        self._html5 = true;\n        self._webAudio = false;\n      }\n\n      // Create a new sound object and add it to the pool.\n      new Sound(self);\n\n      // Load and decode the audio data for playback.\n      if (self._webAudio) {\n        loadBuffer(self);\n      }\n\n      return self;\n    },\n\n    /**\n     * Play a sound or resume previous playback.\n     * @param  {String/Number} sprite   Sprite name for sprite playback or sound id to continue previous.\n     * @param  {Boolean} internal Internal Use: true prevents event firing.\n     * @return {Number}          Sound ID.\n     */\n    play: function(sprite, internal) {\n      var self = this;\n      var id = null;\n\n      // Determine if a sprite, sound id or nothing was passed\n      if (typeof sprite === 'number') {\n        id = sprite;\n        sprite = null;\n      } else if (typeof sprite === 'string' && self._state === 'loaded' && !self._sprite[sprite]) {\n        // If the passed sprite doesn't exist, do nothing.\n        return null;\n      } else if (typeof sprite === 'undefined') {\n        // Use the default sound sprite (plays the full audio length).\n        sprite = '__default';\n\n        // Check if there is a single paused sound that isn't ended.\n        // If there is, play that sound. If not, continue as usual.\n        if (!self._playLock) {\n          var num = 0;\n          for (var i=0; i<self._sounds.length; i++) {\n            if (self._sounds[i]._paused && !self._sounds[i]._ended) {\n              num++;\n              id = self._sounds[i]._id;\n            }\n          }\n\n          if (num === 1) {\n            sprite = null;\n          } else {\n            id = null;\n          }\n        }\n      }\n\n      // Get the selected node, or get one from the pool.\n      var sound = id ? self._soundById(id) : self._inactiveSound();\n\n      // If the sound doesn't exist, do nothing.\n      if (!sound) {\n        return null;\n      }\n\n      // Select the sprite definition.\n      if (id && !sprite) {\n        sprite = sound._sprite || '__default';\n      }\n\n      // If the sound hasn't loaded, we must wait to get the audio's duration.\n      // We also need to wait to make sure we don't run into race conditions with\n      // the order of function calls.\n      if (self._state !== 'loaded') {\n        // Set the sprite value on this sound.\n        sound._sprite = sprite;\n\n        // Mark this sound as not ended in case another sound is played before this one loads.\n        sound._ended = false;\n\n        // Add the sound to the queue to be played on load.\n        var soundId = sound._id;\n        self._queue.push({\n          event: 'play',\n          action: function() {\n            self.play(soundId);\n          }\n        });\n\n        return soundId;\n      }\n\n      // Don't play the sound if an id was passed and it is already playing.\n      if (id && !sound._paused) {\n        // Trigger the play event, in order to keep iterating through queue.\n        if (!internal) {\n          self._loadQueue('play');\n        }\n\n        return sound._id;\n      }\n\n      // Make sure the AudioContext isn't suspended, and resume it if it is.\n      if (self._webAudio) {\n        Howler._autoResume();\n      }\n\n      // Determine how long to play for and where to start playing.\n      var seek = Math.max(0, sound._seek > 0 ? sound._seek : self._sprite[sprite][0] / 1000);\n      var duration = Math.max(0, ((self._sprite[sprite][0] + self._sprite[sprite][1]) / 1000) - seek);\n      var timeout = (duration * 1000) / Math.abs(sound._rate);\n      var start = self._sprite[sprite][0] / 1000;\n      var stop = (self._sprite[sprite][0] + self._sprite[sprite][1]) / 1000;\n      sound._sprite = sprite;\n\n      // Mark the sound as ended instantly so that this async playback\n      // doesn't get grabbed by another call to play while this one waits to start.\n      sound._ended = false;\n\n      // Update the parameters of the sound.\n      var setParams = function() {\n        sound._paused = false;\n        sound._seek = seek;\n        sound._start = start;\n        sound._stop = stop;\n        sound._loop = !!(sound._loop || self._sprite[sprite][2]);\n      };\n\n      // End the sound instantly if seek is at the end.\n      if (seek >= stop) {\n        self._ended(sound);\n        return;\n      }\n\n      // Begin the actual playback.\n      var node = sound._node;\n      if (self._webAudio) {\n        // Fire this when the sound is ready to play to begin Web Audio playback.\n        var playWebAudio = function() {\n          self._playLock = false;\n          setParams();\n          self._refreshBuffer(sound);\n\n          // Setup the playback params.\n          var vol = (sound._muted || self._muted) ? 0 : sound._volume;\n          node.gain.setValueAtTime(vol, Howler.ctx.currentTime);\n          sound._playStart = Howler.ctx.currentTime;\n\n          // Play the sound using the supported method.\n          if (typeof node.bufferSource.start === 'undefined') {\n            sound._loop ? node.bufferSource.noteGrainOn(0, seek, 86400) : node.bufferSource.noteGrainOn(0, seek, duration);\n          } else {\n            sound._loop ? node.bufferSource.start(0, seek, 86400) : node.bufferSource.start(0, seek, duration);\n          }\n\n          // Start a new timer if none is present.\n          if (timeout !== Infinity) {\n            self._endTimers[sound._id] = setTimeout(self._ended.bind(self, sound), timeout);\n          }\n\n          if (!internal) {\n            setTimeout(function() {\n              self._emit('play', sound._id);\n              self._loadQueue();\n            }, 0);\n          }\n        };\n\n        if (Howler.state === 'running' && Howler.ctx.state !== 'interrupted') {\n          playWebAudio();\n        } else {\n          self._playLock = true;\n\n          // Wait for the audio context to resume before playing.\n          self.once('resume', playWebAudio);\n\n          // Cancel the end timer.\n          self._clearTimer(sound._id);\n        }\n      } else {\n        // Fire this when the sound is ready to play to begin HTML5 Audio playback.\n        var playHtml5 = function() {\n          node.currentTime = seek;\n          node.muted = sound._muted || self._muted || Howler._muted || node.muted;\n          node.volume = sound._volume * Howler.volume();\n          node.playbackRate = sound._rate;\n\n          // Some browsers will throw an error if this is called without user interaction.\n          try {\n            var play = node.play();\n\n            // Support older browsers that don't support promises, and thus don't have this issue.\n            if (play && typeof Promise !== 'undefined' && (play instanceof Promise || typeof play.then === 'function')) {\n              // Implements a lock to prevent DOMException: The play() request was interrupted by a call to pause().\n              self._playLock = true;\n\n              // Set param values immediately.\n              setParams();\n\n              // Releases the lock and executes queued actions.\n              play\n                .then(function() {\n                  self._playLock = false;\n                  node._unlocked = true;\n                  if (!internal) {\n                    self._emit('play', sound._id);\n                  } else {\n                    self._loadQueue();\n                  }\n                })\n                .catch(function() {\n                  self._playLock = false;\n                  self._emit('playerror', sound._id, 'Playback was unable to start. This is most commonly an issue ' +\n                    'on mobile devices and Chrome where playback was not within a user interaction.');\n\n                  // Reset the ended and paused values.\n                  sound._ended = true;\n                  sound._paused = true;\n                });\n            } else if (!internal) {\n              self._playLock = false;\n              setParams();\n              self._emit('play', sound._id);\n            }\n\n            // Setting rate before playing won't work in IE, so we set it again here.\n            node.playbackRate = sound._rate;\n\n            // If the node is still paused, then we can assume there was a playback issue.\n            if (node.paused) {\n              self._emit('playerror', sound._id, 'Playback was unable to start. This is most commonly an issue ' +\n                'on mobile devices and Chrome where playback was not within a user interaction.');\n              return;\n            }\n\n            // Setup the end timer on sprites or listen for the ended event.\n            if (sprite !== '__default' || sound._loop) {\n              self._endTimers[sound._id] = setTimeout(self._ended.bind(self, sound), timeout);\n            } else {\n              self._endTimers[sound._id] = function() {\n                // Fire ended on this audio node.\n                self._ended(sound);\n\n                // Clear this listener.\n                node.removeEventListener('ended', self._endTimers[sound._id], false);\n              };\n              node.addEventListener('ended', self._endTimers[sound._id], false);\n            }\n          } catch (err) {\n            self._emit('playerror', sound._id, err);\n          }\n        };\n\n        // If this is streaming audio, make sure the src is set and load again.\n        if (node.src === 'data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA') {\n          node.src = self._src;\n          node.load();\n        }\n\n        // Play immediately if ready, or wait for the 'canplaythrough'e vent.\n        var loadedNoReadyState = (window && window.ejecta) || (!node.readyState && Howler._navigator.isCocoonJS);\n        if (node.readyState >= 3 || loadedNoReadyState) {\n          playHtml5();\n        } else {\n          self._playLock = true;\n          self._state = 'loading';\n\n          var listener = function() {\n            self._state = 'loaded';\n            \n            // Begin playback.\n            playHtml5();\n\n            // Clear this listener.\n            node.removeEventListener(Howler._canPlayEvent, listener, false);\n          };\n          node.addEventListener(Howler._canPlayEvent, listener, false);\n\n          // Cancel the end timer.\n          self._clearTimer(sound._id);\n        }\n      }\n\n      return sound._id;\n    },\n\n    /**\n     * Pause playback and save current position.\n     * @param  {Number} id The sound ID (empty to pause all in group).\n     * @return {Howl}\n     */\n    pause: function(id) {\n      var self = this;\n\n      // If the sound hasn't loaded or a play() promise is pending, add it to the load queue to pause when capable.\n      if (self._state !== 'loaded' || self._playLock) {\n        self._queue.push({\n          event: 'pause',\n          action: function() {\n            self.pause(id);\n          }\n        });\n\n        return self;\n      }\n\n      // If no id is passed, get all ID's to be paused.\n      var ids = self._getSoundIds(id);\n\n      for (var i=0; i<ids.length; i++) {\n        // Clear the end timer.\n        self._clearTimer(ids[i]);\n\n        // Get the sound.\n        var sound = self._soundById(ids[i]);\n\n        if (sound && !sound._paused) {\n          // Reset the seek position.\n          sound._seek = self.seek(ids[i]);\n          sound._rateSeek = 0;\n          sound._paused = true;\n\n          // Stop currently running fades.\n          self._stopFade(ids[i]);\n\n          if (sound._node) {\n            if (self._webAudio) {\n              // Make sure the sound has been created.\n              if (!sound._node.bufferSource) {\n                continue;\n              }\n\n              if (typeof sound._node.bufferSource.stop === 'undefined') {\n                sound._node.bufferSource.noteOff(0);\n              } else {\n                sound._node.bufferSource.stop(0);\n              }\n\n              // Clean up the buffer source.\n              self._cleanBuffer(sound._node);\n            } else if (!isNaN(sound._node.duration) || sound._node.duration === Infinity) {\n              sound._node.pause();\n            }\n          }\n        }\n\n        // Fire the pause event, unless `true` is passed as the 2nd argument.\n        if (!arguments[1]) {\n          self._emit('pause', sound ? sound._id : null);\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Stop playback and reset to start.\n     * @param  {Number} id The sound ID (empty to stop all in group).\n     * @param  {Boolean} internal Internal Use: true prevents event firing.\n     * @return {Howl}\n     */\n    stop: function(id, internal) {\n      var self = this;\n\n      // If the sound hasn't loaded, add it to the load queue to stop when capable.\n      if (self._state !== 'loaded' || self._playLock) {\n        self._queue.push({\n          event: 'stop',\n          action: function() {\n            self.stop(id);\n          }\n        });\n\n        return self;\n      }\n\n      // If no id is passed, get all ID's to be stopped.\n      var ids = self._getSoundIds(id);\n\n      for (var i=0; i<ids.length; i++) {\n        // Clear the end timer.\n        self._clearTimer(ids[i]);\n\n        // Get the sound.\n        var sound = self._soundById(ids[i]);\n\n        if (sound) {\n          // Reset the seek position.\n          sound._seek = sound._start || 0;\n          sound._rateSeek = 0;\n          sound._paused = true;\n          sound._ended = true;\n\n          // Stop currently running fades.\n          self._stopFade(ids[i]);\n\n          if (sound._node) {\n            if (self._webAudio) {\n              // Make sure the sound's AudioBufferSourceNode has been created.\n              if (sound._node.bufferSource) {\n                if (typeof sound._node.bufferSource.stop === 'undefined') {\n                  sound._node.bufferSource.noteOff(0);\n                } else {\n                  sound._node.bufferSource.stop(0);\n                }\n\n                // Clean up the buffer source.\n                self._cleanBuffer(sound._node);\n              }\n            } else if (!isNaN(sound._node.duration) || sound._node.duration === Infinity) {\n              sound._node.currentTime = sound._start || 0;\n              sound._node.pause();\n\n              // If this is a live stream, stop download once the audio is stopped.\n              if (sound._node.duration === Infinity) {\n                self._clearSound(sound._node);\n              }\n            }\n          }\n\n          if (!internal) {\n            self._emit('stop', sound._id);\n          }\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Mute/unmute a single sound or all sounds in this Howl group.\n     * @param  {Boolean} muted Set to true to mute and false to unmute.\n     * @param  {Number} id    The sound ID to update (omit to mute/unmute all).\n     * @return {Howl}\n     */\n    mute: function(muted, id) {\n      var self = this;\n\n      // If the sound hasn't loaded, add it to the load queue to mute when capable.\n      if (self._state !== 'loaded'|| self._playLock) {\n        self._queue.push({\n          event: 'mute',\n          action: function() {\n            self.mute(muted, id);\n          }\n        });\n\n        return self;\n      }\n\n      // If applying mute/unmute to all sounds, update the group's value.\n      if (typeof id === 'undefined') {\n        if (typeof muted === 'boolean') {\n          self._muted = muted;\n        } else {\n          return self._muted;\n        }\n      }\n\n      // If no id is passed, get all ID's to be muted.\n      var ids = self._getSoundIds(id);\n\n      for (var i=0; i<ids.length; i++) {\n        // Get the sound.\n        var sound = self._soundById(ids[i]);\n\n        if (sound) {\n          sound._muted = muted;\n\n          // Cancel active fade and set the volume to the end value.\n          if (sound._interval) {\n            self._stopFade(sound._id);\n          }\n\n          if (self._webAudio && sound._node) {\n            sound._node.gain.setValueAtTime(muted ? 0 : sound._volume, Howler.ctx.currentTime);\n          } else if (sound._node) {\n            sound._node.muted = Howler._muted ? true : muted;\n          }\n\n          self._emit('mute', sound._id);\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Get/set the volume of this sound or of the Howl group. This method can optionally take 0, 1 or 2 arguments.\n     *   volume() -> Returns the group's volume value.\n     *   volume(id) -> Returns the sound id's current volume.\n     *   volume(vol) -> Sets the volume of all sounds in this Howl group.\n     *   volume(vol, id) -> Sets the volume of passed sound id.\n     * @return {Howl/Number} Returns self or current volume.\n     */\n    volume: function() {\n      var self = this;\n      var args = arguments;\n      var vol, id;\n\n      // Determine the values based on arguments.\n      if (args.length === 0) {\n        // Return the value of the groups' volume.\n        return self._volume;\n      } else if (args.length === 1 || args.length === 2 && typeof args[1] === 'undefined') {\n        // First check if this is an ID, and if not, assume it is a new volume.\n        var ids = self._getSoundIds();\n        var index = ids.indexOf(args[0]);\n        if (index >= 0) {\n          id = parseInt(args[0], 10);\n        } else {\n          vol = parseFloat(args[0]);\n        }\n      } else if (args.length >= 2) {\n        vol = parseFloat(args[0]);\n        id = parseInt(args[1], 10);\n      }\n\n      // Update the volume or return the current volume.\n      var sound;\n      if (typeof vol !== 'undefined' && vol >= 0 && vol <= 1) {\n        // If the sound hasn't loaded, add it to the load queue to change volume when capable.\n        if (self._state !== 'loaded'|| self._playLock) {\n          self._queue.push({\n            event: 'volume',\n            action: function() {\n              self.volume.apply(self, args);\n            }\n          });\n\n          return self;\n        }\n\n        // Set the group volume.\n        if (typeof id === 'undefined') {\n          self._volume = vol;\n        }\n\n        // Update one or all volumes.\n        id = self._getSoundIds(id);\n        for (var i=0; i<id.length; i++) {\n          // Get the sound.\n          sound = self._soundById(id[i]);\n\n          if (sound) {\n            sound._volume = vol;\n\n            // Stop currently running fades.\n            if (!args[2]) {\n              self._stopFade(id[i]);\n            }\n\n            if (self._webAudio && sound._node && !sound._muted) {\n              sound._node.gain.setValueAtTime(vol, Howler.ctx.currentTime);\n            } else if (sound._node && !sound._muted) {\n              sound._node.volume = vol * Howler.volume();\n            }\n\n            self._emit('volume', sound._id);\n          }\n        }\n      } else {\n        sound = id ? self._soundById(id) : self._sounds[0];\n        return sound ? sound._volume : 0;\n      }\n\n      return self;\n    },\n\n    /**\n     * Fade a currently playing sound between two volumes (if no id is passed, all sounds will fade).\n     * @param  {Number} from The value to fade from (0.0 to 1.0).\n     * @param  {Number} to   The volume to fade to (0.0 to 1.0).\n     * @param  {Number} len  Time in milliseconds to fade.\n     * @param  {Number} id   The sound id (omit to fade all sounds).\n     * @return {Howl}\n     */\n    fade: function(from, to, len, id) {\n      var self = this;\n\n      // If the sound hasn't loaded, add it to the load queue to fade when capable.\n      if (self._state !== 'loaded' || self._playLock) {\n        self._queue.push({\n          event: 'fade',\n          action: function() {\n            self.fade(from, to, len, id);\n          }\n        });\n\n        return self;\n      }\n\n      // Make sure the to/from/len values are numbers.\n      from = Math.min(Math.max(0, parseFloat(from)), 1);\n      to = Math.min(Math.max(0, parseFloat(to)), 1);\n      len = parseFloat(len);\n\n      // Set the volume to the start position.\n      self.volume(from, id);\n\n      // Fade the volume of one or all sounds.\n      var ids = self._getSoundIds(id);\n      for (var i=0; i<ids.length; i++) {\n        // Get the sound.\n        var sound = self._soundById(ids[i]);\n\n        // Create a linear fade or fall back to timeouts with HTML5 Audio.\n        if (sound) {\n          // Stop the previous fade if no sprite is being used (otherwise, volume handles this).\n          if (!id) {\n            self._stopFade(ids[i]);\n          }\n\n          // If we are using Web Audio, let the native methods do the actual fade.\n          if (self._webAudio && !sound._muted) {\n            var currentTime = Howler.ctx.currentTime;\n            var end = currentTime + (len / 1000);\n            sound._volume = from;\n            sound._node.gain.setValueAtTime(from, currentTime);\n            sound._node.gain.linearRampToValueAtTime(to, end);\n          }\n\n          self._startFadeInterval(sound, from, to, len, ids[i], typeof id === 'undefined');\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Starts the internal interval to fade a sound.\n     * @param  {Object} sound Reference to sound to fade.\n     * @param  {Number} from The value to fade from (0.0 to 1.0).\n     * @param  {Number} to   The volume to fade to (0.0 to 1.0).\n     * @param  {Number} len  Time in milliseconds to fade.\n     * @param  {Number} id   The sound id to fade.\n     * @param  {Boolean} isGroup   If true, set the volume on the group.\n     */\n    _startFadeInterval: function(sound, from, to, len, id, isGroup) {\n      var self = this;\n      var vol = from;\n      var diff = to - from;\n      var steps = Math.abs(diff / 0.01);\n      var stepLen = Math.max(4, (steps > 0) ? len / steps : len);\n      var lastTick = Date.now();\n\n      // Store the value being faded to.\n      sound._fadeTo = to;\n\n      // Update the volume value on each interval tick.\n      sound._interval = setInterval(function() {\n        // Update the volume based on the time since the last tick.\n        var tick = (Date.now() - lastTick) / len;\n        lastTick = Date.now();\n        vol += diff * tick;\n\n        // Round to within 2 decimal points.\n        vol = Math.round(vol * 100) / 100;\n\n        // Make sure the volume is in the right bounds.\n        if (diff < 0) {\n          vol = Math.max(to, vol);\n        } else {\n          vol = Math.min(to, vol);\n        }\n\n        // Change the volume.\n        if (self._webAudio) {\n          sound._volume = vol;\n        } else {\n          self.volume(vol, sound._id, true);\n        }\n\n        // Set the group's volume.\n        if (isGroup) {\n          self._volume = vol;\n        }\n\n        // When the fade is complete, stop it and fire event.\n        if ((to < from && vol <= to) || (to > from && vol >= to)) {\n          clearInterval(sound._interval);\n          sound._interval = null;\n          sound._fadeTo = null;\n          self.volume(to, sound._id);\n          self._emit('fade', sound._id);\n        }\n      }, stepLen);\n    },\n\n    /**\n     * Internal method that stops the currently playing fade when\n     * a new fade starts, volume is changed or the sound is stopped.\n     * @param  {Number} id The sound id.\n     * @return {Howl}\n     */\n    _stopFade: function(id) {\n      var self = this;\n      var sound = self._soundById(id);\n\n      if (sound && sound._interval) {\n        if (self._webAudio) {\n          sound._node.gain.cancelScheduledValues(Howler.ctx.currentTime);\n        }\n\n        clearInterval(sound._interval);\n        sound._interval = null;\n        self.volume(sound._fadeTo, id);\n        sound._fadeTo = null;\n        self._emit('fade', id);\n      }\n\n      return self;\n    },\n\n    /**\n     * Get/set the loop parameter on a sound. This method can optionally take 0, 1 or 2 arguments.\n     *   loop() -> Returns the group's loop value.\n     *   loop(id) -> Returns the sound id's loop value.\n     *   loop(loop) -> Sets the loop value for all sounds in this Howl group.\n     *   loop(loop, id) -> Sets the loop value of passed sound id.\n     * @return {Howl/Boolean} Returns self or current loop value.\n     */\n    loop: function() {\n      var self = this;\n      var args = arguments;\n      var loop, id, sound;\n\n      // Determine the values for loop and id.\n      if (args.length === 0) {\n        // Return the grou's loop value.\n        return self._loop;\n      } else if (args.length === 1) {\n        if (typeof args[0] === 'boolean') {\n          loop = args[0];\n          self._loop = loop;\n        } else {\n          // Return this sound's loop value.\n          sound = self._soundById(parseInt(args[0], 10));\n          return sound ? sound._loop : false;\n        }\n      } else if (args.length === 2) {\n        loop = args[0];\n        id = parseInt(args[1], 10);\n      }\n\n      // If no id is passed, get all ID's to be looped.\n      var ids = self._getSoundIds(id);\n      for (var i=0; i<ids.length; i++) {\n        sound = self._soundById(ids[i]);\n\n        if (sound) {\n          sound._loop = loop;\n          if (self._webAudio && sound._node && sound._node.bufferSource) {\n            sound._node.bufferSource.loop = loop;\n            if (loop) {\n              sound._node.bufferSource.loopStart = sound._start || 0;\n              sound._node.bufferSource.loopEnd = sound._stop;\n\n              // If playing, restart playback to ensure looping updates.\n              if (self.playing(ids[i])) {\n                self.pause(ids[i], true);\n                self.play(ids[i], true);\n              }\n            }\n          }\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Get/set the playback rate of a sound. This method can optionally take 0, 1 or 2 arguments.\n     *   rate() -> Returns the first sound node's current playback rate.\n     *   rate(id) -> Returns the sound id's current playback rate.\n     *   rate(rate) -> Sets the playback rate of all sounds in this Howl group.\n     *   rate(rate, id) -> Sets the playback rate of passed sound id.\n     * @return {Howl/Number} Returns self or the current playback rate.\n     */\n    rate: function() {\n      var self = this;\n      var args = arguments;\n      var rate, id;\n\n      // Determine the values based on arguments.\n      if (args.length === 0) {\n        // We will simply return the current rate of the first node.\n        id = self._sounds[0]._id;\n      } else if (args.length === 1) {\n        // First check if this is an ID, and if not, assume it is a new rate value.\n        var ids = self._getSoundIds();\n        var index = ids.indexOf(args[0]);\n        if (index >= 0) {\n          id = parseInt(args[0], 10);\n        } else {\n          rate = parseFloat(args[0]);\n        }\n      } else if (args.length === 2) {\n        rate = parseFloat(args[0]);\n        id = parseInt(args[1], 10);\n      }\n\n      // Update the playback rate or return the current value.\n      var sound;\n      if (typeof rate === 'number') {\n        // If the sound hasn't loaded, add it to the load queue to change playback rate when capable.\n        if (self._state !== 'loaded' || self._playLock) {\n          self._queue.push({\n            event: 'rate',\n            action: function() {\n              self.rate.apply(self, args);\n            }\n          });\n\n          return self;\n        }\n\n        // Set the group rate.\n        if (typeof id === 'undefined') {\n          self._rate = rate;\n        }\n\n        // Update one or all volumes.\n        id = self._getSoundIds(id);\n        for (var i=0; i<id.length; i++) {\n          // Get the sound.\n          sound = self._soundById(id[i]);\n\n          if (sound) {\n            // Keep track of our position when the rate changed and update the playback\n            // start position so we can properly adjust the seek position for time elapsed.\n            if (self.playing(id[i])) {\n              sound._rateSeek = self.seek(id[i]);\n              sound._playStart = self._webAudio ? Howler.ctx.currentTime : sound._playStart;\n            }\n            sound._rate = rate;\n\n            // Change the playback rate.\n            if (self._webAudio && sound._node && sound._node.bufferSource) {\n              sound._node.bufferSource.playbackRate.setValueAtTime(rate, Howler.ctx.currentTime);\n            } else if (sound._node) {\n              sound._node.playbackRate = rate;\n            }\n\n            // Reset the timers.\n            var seek = self.seek(id[i]);\n            var duration = ((self._sprite[sound._sprite][0] + self._sprite[sound._sprite][1]) / 1000) - seek;\n            var timeout = (duration * 1000) / Math.abs(sound._rate);\n\n            // Start a new end timer if sound is already playing.\n            if (self._endTimers[id[i]] || !sound._paused) {\n              self._clearTimer(id[i]);\n              self._endTimers[id[i]] = setTimeout(self._ended.bind(self, sound), timeout);\n            }\n\n            self._emit('rate', sound._id);\n          }\n        }\n      } else {\n        sound = self._soundById(id);\n        return sound ? sound._rate : self._rate;\n      }\n\n      return self;\n    },\n\n    /**\n     * Get/set the seek position of a sound. This method can optionally take 0, 1 or 2 arguments.\n     *   seek() -> Returns the first sound node's current seek position.\n     *   seek(id) -> Returns the sound id's current seek position.\n     *   seek(seek) -> Sets the seek position of the first sound node.\n     *   seek(seek, id) -> Sets the seek position of passed sound id.\n     * @return {Howl/Number} Returns self or the current seek position.\n     */\n    seek: function() {\n      var self = this;\n      var args = arguments;\n      var seek, id;\n\n      // Determine the values based on arguments.\n      if (args.length === 0) {\n        // We will simply return the current position of the first node.\n        if (self._sounds.length) {\n          id = self._sounds[0]._id;\n        }\n      } else if (args.length === 1) {\n        // First check if this is an ID, and if not, assume it is a new seek position.\n        var ids = self._getSoundIds();\n        var index = ids.indexOf(args[0]);\n        if (index >= 0) {\n          id = parseInt(args[0], 10);\n        } else if (self._sounds.length) {\n          id = self._sounds[0]._id;\n          seek = parseFloat(args[0]);\n        }\n      } else if (args.length === 2) {\n        seek = parseFloat(args[0]);\n        id = parseInt(args[1], 10);\n      }\n\n      // If there is no ID, bail out.\n      if (typeof id === 'undefined') {\n        return 0;\n      }\n\n      // If the sound hasn't loaded, add it to the load queue to seek when capable.\n      if (typeof seek === 'number' && (self._state !== 'loaded' || self._playLock)) {\n        self._queue.push({\n          event: 'seek',\n          action: function() {\n            self.seek.apply(self, args);\n          }\n        });\n\n        return self;\n      }\n\n      // Get the sound.\n      var sound = self._soundById(id);\n\n      if (sound) {\n        if (typeof seek === 'number' && seek >= 0) {\n          // Pause the sound and update position for restarting playback.\n          var playing = self.playing(id);\n          if (playing) {\n            self.pause(id, true);\n          }\n\n          // Move the position of the track and cancel timer.\n          sound._seek = seek;\n          sound._ended = false;\n          self._clearTimer(id);\n\n          // Update the seek position for HTML5 Audio.\n          if (!self._webAudio && sound._node && !isNaN(sound._node.duration)) {\n            sound._node.currentTime = seek;\n          }\n\n          // Seek and emit when ready.\n          var seekAndEmit = function() {\n            // Restart the playback if the sound was playing.\n            if (playing) {\n              self.play(id, true);\n            }\n\n            self._emit('seek', id);\n          };\n\n          // Wait for the play lock to be unset before emitting (HTML5 Audio).\n          if (playing && !self._webAudio) {\n            var emitSeek = function() {\n              if (!self._playLock) {\n                seekAndEmit();\n              } else {\n                setTimeout(emitSeek, 0);\n              }\n            };\n            setTimeout(emitSeek, 0);\n          } else {\n            seekAndEmit();\n          }\n        } else {\n          if (self._webAudio) {\n            var realTime = self.playing(id) ? Howler.ctx.currentTime - sound._playStart : 0;\n            var rateSeek = sound._rateSeek ? sound._rateSeek - sound._seek : 0;\n            return sound._seek + (rateSeek + realTime * Math.abs(sound._rate));\n          } else {\n            return sound._node.currentTime;\n          }\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Check if a specific sound is currently playing or not (if id is provided), or check if at least one of the sounds in the group is playing or not.\n     * @param  {Number}  id The sound id to check. If none is passed, the whole sound group is checked.\n     * @return {Boolean} True if playing and false if not.\n     */\n    playing: function(id) {\n      var self = this;\n\n      // Check the passed sound ID (if any).\n      if (typeof id === 'number') {\n        var sound = self._soundById(id);\n        return sound ? !sound._paused : false;\n      }\n\n      // Otherwise, loop through all sounds and check if any are playing.\n      for (var i=0; i<self._sounds.length; i++) {\n        if (!self._sounds[i]._paused) {\n          return true;\n        }\n      }\n\n      return false;\n    },\n\n    /**\n     * Get the duration of this sound. Passing a sound id will return the sprite duration.\n     * @param  {Number} id The sound id to check. If none is passed, return full source duration.\n     * @return {Number} Audio duration in seconds.\n     */\n    duration: function(id) {\n      var self = this;\n      var duration = self._duration;\n\n      // If we pass an ID, get the sound and return the sprite length.\n      var sound = self._soundById(id);\n      if (sound) {\n        duration = self._sprite[sound._sprite][1] / 1000;\n      }\n\n      return duration;\n    },\n\n    /**\n     * Returns the current loaded state of this Howl.\n     * @return {String} 'unloaded', 'loading', 'loaded'\n     */\n    state: function() {\n      return this._state;\n    },\n\n    /**\n     * Unload and destroy the current Howl object.\n     * This will immediately stop all sound instances attached to this group.\n     */\n    unload: function() {\n      var self = this;\n\n      // Stop playing any active sounds.\n      var sounds = self._sounds;\n      for (var i=0; i<sounds.length; i++) {\n        // Stop the sound if it is currently playing.\n        if (!sounds[i]._paused) {\n          self.stop(sounds[i]._id);\n        }\n\n        // Remove the source or disconnect.\n        if (!self._webAudio) {\n          // Set the source to 0-second silence to stop any downloading (except in IE).\n          self._clearSound(sounds[i]._node);\n\n          // Remove any event listeners.\n          sounds[i]._node.removeEventListener('error', sounds[i]._errorFn, false);\n          sounds[i]._node.removeEventListener(Howler._canPlayEvent, sounds[i]._loadFn, false);\n          sounds[i]._node.removeEventListener('ended', sounds[i]._endFn, false);\n\n          // Release the Audio object back to the pool.\n          Howler._releaseHtml5Audio(sounds[i]._node);\n        }\n\n        // Empty out all of the nodes.\n        delete sounds[i]._node;\n\n        // Make sure all timers are cleared out.\n        self._clearTimer(sounds[i]._id);\n      }\n\n      // Remove the references in the global Howler object.\n      var index = Howler._howls.indexOf(self);\n      if (index >= 0) {\n        Howler._howls.splice(index, 1);\n      }\n\n      // Delete this sound from the cache (if no other Howl is using it).\n      var remCache = true;\n      for (i=0; i<Howler._howls.length; i++) {\n        if (Howler._howls[i]._src === self._src || self._src.indexOf(Howler._howls[i]._src) >= 0) {\n          remCache = false;\n          break;\n        }\n      }\n\n      if (cache && remCache) {\n        delete cache[self._src];\n      }\n\n      // Clear global errors.\n      Howler.noAudio = false;\n\n      // Clear out `self`.\n      self._state = 'unloaded';\n      self._sounds = [];\n      self = null;\n\n      return null;\n    },\n\n    /**\n     * Listen to a custom event.\n     * @param  {String}   event Event name.\n     * @param  {Function} fn    Listener to call.\n     * @param  {Number}   id    (optional) Only listen to events for this sound.\n     * @param  {Number}   once  (INTERNAL) Marks event to fire only once.\n     * @return {Howl}\n     */\n    on: function(event, fn, id, once) {\n      var self = this;\n      var events = self['_on' + event];\n\n      if (typeof fn === 'function') {\n        events.push(once ? {id: id, fn: fn, once: once} : {id: id, fn: fn});\n      }\n\n      return self;\n    },\n\n    /**\n     * Remove a custom event. Call without parameters to remove all events.\n     * @param  {String}   event Event name.\n     * @param  {Function} fn    Listener to remove. Leave empty to remove all.\n     * @param  {Number}   id    (optional) Only remove events for this sound.\n     * @return {Howl}\n     */\n    off: function(event, fn, id) {\n      var self = this;\n      var events = self['_on' + event];\n      var i = 0;\n\n      // Allow passing just an event and ID.\n      if (typeof fn === 'number') {\n        id = fn;\n        fn = null;\n      }\n\n      if (fn || id) {\n        // Loop through event store and remove the passed function.\n        for (i=0; i<events.length; i++) {\n          var isId = (id === events[i].id);\n          if (fn === events[i].fn && isId || !fn && isId) {\n            events.splice(i, 1);\n            break;\n          }\n        }\n      } else if (event) {\n        // Clear out all events of this type.\n        self['_on' + event] = [];\n      } else {\n        // Clear out all events of every type.\n        var keys = Object.keys(self);\n        for (i=0; i<keys.length; i++) {\n          if ((keys[i].indexOf('_on') === 0) && Array.isArray(self[keys[i]])) {\n            self[keys[i]] = [];\n          }\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Listen to a custom event and remove it once fired.\n     * @param  {String}   event Event name.\n     * @param  {Function} fn    Listener to call.\n     * @param  {Number}   id    (optional) Only listen to events for this sound.\n     * @return {Howl}\n     */\n    once: function(event, fn, id) {\n      var self = this;\n\n      // Setup the event listener.\n      self.on(event, fn, id, 1);\n\n      return self;\n    },\n\n    /**\n     * Emit all events of a specific type and pass the sound id.\n     * @param  {String} event Event name.\n     * @param  {Number} id    Sound ID.\n     * @param  {Number} msg   Message to go with event.\n     * @return {Howl}\n     */\n    _emit: function(event, id, msg) {\n      var self = this;\n      var events = self['_on' + event];\n\n      // Loop through event store and fire all functions.\n      for (var i=events.length-1; i>=0; i--) {\n        // Only fire the listener if the correct ID is used.\n        if (!events[i].id || events[i].id === id || event === 'load') {\n          setTimeout(function(fn) {\n            fn.call(this, id, msg);\n          }.bind(self, events[i].fn), 0);\n\n          // If this event was setup with `once`, remove it.\n          if (events[i].once) {\n            self.off(event, events[i].fn, events[i].id);\n          }\n        }\n      }\n\n      // Pass the event type into load queue so that it can continue stepping.\n      self._loadQueue(event);\n\n      return self;\n    },\n\n    /**\n     * Queue of actions initiated before the sound has loaded.\n     * These will be called in sequence, with the next only firing\n     * after the previous has finished executing (even if async like play).\n     * @return {Howl}\n     */\n    _loadQueue: function(event) {\n      var self = this;\n\n      if (self._queue.length > 0) {\n        var task = self._queue[0];\n\n        // Remove this task if a matching event was passed.\n        if (task.event === event) {\n          self._queue.shift();\n          self._loadQueue();\n        }\n\n        // Run the task if no event type is passed.\n        if (!event) {\n          task.action();\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Fired when playback ends at the end of the duration.\n     * @param  {Sound} sound The sound object to work with.\n     * @return {Howl}\n     */\n    _ended: function(sound) {\n      var self = this;\n      var sprite = sound._sprite;\n\n      // If we are using IE and there was network latency we may be clipping\n      // audio before it completes playing. Lets check the node to make sure it\n      // believes it has completed, before ending the playback.\n      if (!self._webAudio && sound._node && !sound._node.paused && !sound._node.ended && sound._node.currentTime < sound._stop) {\n        setTimeout(self._ended.bind(self, sound), 100);\n        return self;\n      }\n\n      // Should this sound loop?\n      var loop = !!(sound._loop || self._sprite[sprite][2]);\n\n      // Fire the ended event.\n      self._emit('end', sound._id);\n\n      // Restart the playback for HTML5 Audio loop.\n      if (!self._webAudio && loop) {\n        self.stop(sound._id, true).play(sound._id);\n      }\n\n      // Restart this timer if on a Web Audio loop.\n      if (self._webAudio && loop) {\n        self._emit('play', sound._id);\n        sound._seek = sound._start || 0;\n        sound._rateSeek = 0;\n        sound._playStart = Howler.ctx.currentTime;\n\n        var timeout = ((sound._stop - sound._start) * 1000) / Math.abs(sound._rate);\n        self._endTimers[sound._id] = setTimeout(self._ended.bind(self, sound), timeout);\n      }\n\n      // Mark the node as paused.\n      if (self._webAudio && !loop) {\n        sound._paused = true;\n        sound._ended = true;\n        sound._seek = sound._start || 0;\n        sound._rateSeek = 0;\n        self._clearTimer(sound._id);\n\n        // Clean up the buffer source.\n        self._cleanBuffer(sound._node);\n\n        // Attempt to auto-suspend AudioContext if no sounds are still playing.\n        Howler._autoSuspend();\n      }\n\n      // When using a sprite, end the track.\n      if (!self._webAudio && !loop) {\n        self.stop(sound._id, true);\n      }\n\n      return self;\n    },\n\n    /**\n     * Clear the end timer for a sound playback.\n     * @param  {Number} id The sound ID.\n     * @return {Howl}\n     */\n    _clearTimer: function(id) {\n      var self = this;\n\n      if (self._endTimers[id]) {\n        // Clear the timeout or remove the ended listener.\n        if (typeof self._endTimers[id] !== 'function') {\n          clearTimeout(self._endTimers[id]);\n        } else {\n          var sound = self._soundById(id);\n          if (sound && sound._node) {\n            sound._node.removeEventListener('ended', self._endTimers[id], false);\n          }\n        }\n\n        delete self._endTimers[id];\n      }\n\n      return self;\n    },\n\n    /**\n     * Return the sound identified by this ID, or return null.\n     * @param  {Number} id Sound ID\n     * @return {Object}    Sound object or null.\n     */\n    _soundById: function(id) {\n      var self = this;\n\n      // Loop through all sounds and find the one with this ID.\n      for (var i=0; i<self._sounds.length; i++) {\n        if (id === self._sounds[i]._id) {\n          return self._sounds[i];\n        }\n      }\n\n      return null;\n    },\n\n    /**\n     * Return an inactive sound from the pool or create a new one.\n     * @return {Sound} Sound playback object.\n     */\n    _inactiveSound: function() {\n      var self = this;\n\n      self._drain();\n\n      // Find the first inactive node to recycle.\n      for (var i=0; i<self._sounds.length; i++) {\n        if (self._sounds[i]._ended) {\n          return self._sounds[i].reset();\n        }\n      }\n\n      // If no inactive node was found, create a new one.\n      return new Sound(self);\n    },\n\n    /**\n     * Drain excess inactive sounds from the pool.\n     */\n    _drain: function() {\n      var self = this;\n      var limit = self._pool;\n      var cnt = 0;\n      var i = 0;\n\n      // If there are less sounds than the max pool size, we are done.\n      if (self._sounds.length < limit) {\n        return;\n      }\n\n      // Count the number of inactive sounds.\n      for (i=0; i<self._sounds.length; i++) {\n        if (self._sounds[i]._ended) {\n          cnt++;\n        }\n      }\n\n      // Remove excess inactive sounds, going in reverse order.\n      for (i=self._sounds.length - 1; i>=0; i--) {\n        if (cnt <= limit) {\n          return;\n        }\n\n        if (self._sounds[i]._ended) {\n          // Disconnect the audio source when using Web Audio.\n          if (self._webAudio && self._sounds[i]._node) {\n            self._sounds[i]._node.disconnect(0);\n          }\n\n          // Remove sounds until we have the pool size.\n          self._sounds.splice(i, 1);\n          cnt--;\n        }\n      }\n    },\n\n    /**\n     * Get all ID's from the sounds pool.\n     * @param  {Number} id Only return one ID if one is passed.\n     * @return {Array}    Array of IDs.\n     */\n    _getSoundIds: function(id) {\n      var self = this;\n\n      if (typeof id === 'undefined') {\n        var ids = [];\n        for (var i=0; i<self._sounds.length; i++) {\n          ids.push(self._sounds[i]._id);\n        }\n\n        return ids;\n      } else {\n        return [id];\n      }\n    },\n\n    /**\n     * Load the sound back into the buffer source.\n     * @param  {Sound} sound The sound object to work with.\n     * @return {Howl}\n     */\n    _refreshBuffer: function(sound) {\n      var self = this;\n\n      // Setup the buffer source for playback.\n      sound._node.bufferSource = Howler.ctx.createBufferSource();\n      sound._node.bufferSource.buffer = cache[self._src];\n\n      // Connect to the correct node.\n      if (sound._panner) {\n        sound._node.bufferSource.connect(sound._panner);\n      } else {\n        sound._node.bufferSource.connect(sound._node);\n      }\n\n      // Setup looping and playback rate.\n      sound._node.bufferSource.loop = sound._loop;\n      if (sound._loop) {\n        sound._node.bufferSource.loopStart = sound._start || 0;\n        sound._node.bufferSource.loopEnd = sound._stop || 0;\n      }\n      sound._node.bufferSource.playbackRate.setValueAtTime(sound._rate, Howler.ctx.currentTime);\n\n      return self;\n    },\n\n    /**\n     * Prevent memory leaks by cleaning up the buffer source after playback.\n     * @param  {Object} node Sound's audio node containing the buffer source.\n     * @return {Howl}\n     */\n    _cleanBuffer: function(node) {\n      var self = this;\n      var isIOS = Howler._navigator && Howler._navigator.vendor.indexOf('Apple') >= 0;\n\n      if (Howler._scratchBuffer && node.bufferSource) {\n        node.bufferSource.onended = null;\n        node.bufferSource.disconnect(0);\n        if (isIOS) {\n          try { node.bufferSource.buffer = Howler._scratchBuffer; } catch(e) {}\n        }\n      }\n      node.bufferSource = null;\n\n      return self;\n    },\n\n    /**\n     * Set the source to a 0-second silence to stop any downloading (except in IE).\n     * @param  {Object} node Audio node to clear.\n     */\n    _clearSound: function(node) {\n      var checkIE = /MSIE |Trident\\//.test(Howler._navigator && Howler._navigator.userAgent);\n      if (!checkIE) {\n        node.src = 'data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA';\n      }\n    }\n  };\n\n  /** Single Sound Methods **/\n  /***************************************************************************/\n\n  /**\n   * Setup the sound object, which each node attached to a Howl group is contained in.\n   * @param {Object} howl The Howl parent group.\n   */\n  var Sound = function(howl) {\n    this._parent = howl;\n    this.init();\n  };\n  Sound.prototype = {\n    /**\n     * Initialize a new Sound object.\n     * @return {Sound}\n     */\n    init: function() {\n      var self = this;\n      var parent = self._parent;\n\n      // Setup the default parameters.\n      self._muted = parent._muted;\n      self._loop = parent._loop;\n      self._volume = parent._volume;\n      self._rate = parent._rate;\n      self._seek = 0;\n      self._paused = true;\n      self._ended = true;\n      self._sprite = '__default';\n\n      // Generate a unique ID for this sound.\n      self._id = ++Howler._counter;\n\n      // Add itself to the parent's pool.\n      parent._sounds.push(self);\n\n      // Create the new node.\n      self.create();\n\n      return self;\n    },\n\n    /**\n     * Create and setup a new sound object, whether HTML5 Audio or Web Audio.\n     * @return {Sound}\n     */\n    create: function() {\n      var self = this;\n      var parent = self._parent;\n      var volume = (Howler._muted || self._muted || self._parent._muted) ? 0 : self._volume;\n\n      if (parent._webAudio) {\n        // Create the gain node for controlling volume (the source will connect to this).\n        self._node = (typeof Howler.ctx.createGain === 'undefined') ? Howler.ctx.createGainNode() : Howler.ctx.createGain();\n        self._node.gain.setValueAtTime(volume, Howler.ctx.currentTime);\n        self._node.paused = true;\n        self._node.connect(Howler.masterGain);\n      } else if (!Howler.noAudio) {\n        // Get an unlocked Audio object from the pool.\n        self._node = Howler._obtainHtml5Audio();\n\n        // Listen for errors (http://dev.w3.org/html5/spec-author-view/spec.html#mediaerror).\n        self._errorFn = self._errorListener.bind(self);\n        self._node.addEventListener('error', self._errorFn, false);\n\n        // Listen for 'canplaythrough' event to let us know the sound is ready.\n        self._loadFn = self._loadListener.bind(self);\n        self._node.addEventListener(Howler._canPlayEvent, self._loadFn, false);\n\n        // Listen for the 'ended' event on the sound to account for edge-case where\n        // a finite sound has a duration of Infinity.\n        self._endFn = self._endListener.bind(self);\n        self._node.addEventListener('ended', self._endFn, false);\n\n        // Setup the new audio node.\n        self._node.src = parent._src;\n        self._node.preload = parent._preload === true ? 'auto' : parent._preload;\n        self._node.volume = volume * Howler.volume();\n\n        // Begin loading the source.\n        self._node.load();\n      }\n\n      return self;\n    },\n\n    /**\n     * Reset the parameters of this sound to the original state (for recycle).\n     * @return {Sound}\n     */\n    reset: function() {\n      var self = this;\n      var parent = self._parent;\n\n      // Reset all of the parameters of this sound.\n      self._muted = parent._muted;\n      self._loop = parent._loop;\n      self._volume = parent._volume;\n      self._rate = parent._rate;\n      self._seek = 0;\n      self._rateSeek = 0;\n      self._paused = true;\n      self._ended = true;\n      self._sprite = '__default';\n\n      // Generate a new ID so that it isn't confused with the previous sound.\n      self._id = ++Howler._counter;\n\n      return self;\n    },\n\n    /**\n     * HTML5 Audio error listener callback.\n     */\n    _errorListener: function() {\n      var self = this;\n\n      // Fire an error event and pass back the code.\n      self._parent._emit('loaderror', self._id, self._node.error ? self._node.error.code : 0);\n\n      // Clear the event listener.\n      self._node.removeEventListener('error', self._errorFn, false);\n    },\n\n    /**\n     * HTML5 Audio canplaythrough listener callback.\n     */\n    _loadListener: function() {\n      var self = this;\n      var parent = self._parent;\n\n      // Round up the duration to account for the lower precision in HTML5 Audio.\n      parent._duration = Math.ceil(self._node.duration * 10) / 10;\n\n      // Setup a sprite if none is defined.\n      if (Object.keys(parent._sprite).length === 0) {\n        parent._sprite = {__default: [0, parent._duration * 1000]};\n      }\n\n      if (parent._state !== 'loaded') {\n        parent._state = 'loaded';\n        parent._emit('load');\n        parent._loadQueue();\n      }\n\n      // Clear the event listener.\n      self._node.removeEventListener(Howler._canPlayEvent, self._loadFn, false);\n    },\n\n    /**\n     * HTML5 Audio ended listener callback.\n     */\n    _endListener: function() {\n      var self = this;\n      var parent = self._parent;\n\n      // Only handle the `ended`` event if the duration is Infinity.\n      if (parent._duration === Infinity) {\n        // Update the parent duration to match the real audio duration.\n        // Round up the duration to account for the lower precision in HTML5 Audio.\n        parent._duration = Math.ceil(self._node.duration * 10) / 10;\n\n        // Update the sprite that corresponds to the real duration.\n        if (parent._sprite.__default[1] === Infinity) {\n          parent._sprite.__default[1] = parent._duration * 1000;\n        }\n\n        // Run the regular ended method.\n        parent._ended(self);\n      }\n\n      // Clear the event listener since the duration is now correct.\n      self._node.removeEventListener('ended', self._endFn, false);\n    }\n  };\n\n  /** Helper Methods **/\n  /***************************************************************************/\n\n  var cache = {};\n\n  /**\n   * Buffer a sound from URL, Data URI or cache and decode to audio source (Web Audio API).\n   * @param  {Howl} self\n   */\n  var loadBuffer = function(self) {\n    var url = self._src;\n\n    // Check if the buffer has already been cached and use it instead.\n    if (cache[url]) {\n      // Set the duration from the cache.\n      self._duration = cache[url].duration;\n\n      // Load the sound into this Howl.\n      loadSound(self);\n\n      return;\n    }\n\n    if (/^data:[^;]+;base64,/.test(url)) {\n      // Decode the base64 data URI without XHR, since some browsers don't support it.\n      var data = atob(url.split(',')[1]);\n      var dataView = new Uint8Array(data.length);\n      for (var i=0; i<data.length; ++i) {\n        dataView[i] = data.charCodeAt(i);\n      }\n\n      decodeAudioData(dataView.buffer, self);\n    } else {\n      // Load the buffer from the URL.\n      var xhr = new XMLHttpRequest();\n      xhr.open(self._xhr.method, url, true);\n      xhr.withCredentials = self._xhr.withCredentials;\n      xhr.responseType = 'arraybuffer';\n\n      // Apply any custom headers to the request.\n      if (self._xhr.headers) {\n        Object.keys(self._xhr.headers).forEach(function(key) {\n          xhr.setRequestHeader(key, self._xhr.headers[key]);\n        });\n      }\n\n      xhr.onload = function() {\n        // Make sure we get a successful response back.\n        var code = (xhr.status + '')[0];\n        if (code !== '0' && code !== '2' && code !== '3') {\n          self._emit('loaderror', null, 'Failed loading audio file with status: ' + xhr.status + '.');\n          return;\n        }\n\n        decodeAudioData(xhr.response, self);\n      };\n      xhr.onerror = function() {\n        // If there is an error, switch to HTML5 Audio.\n        if (self._webAudio) {\n          self._html5 = true;\n          self._webAudio = false;\n          self._sounds = [];\n          delete cache[url];\n          self.load();\n        }\n      };\n      safeXhrSend(xhr);\n    }\n  };\n\n  /**\n   * Send the XHR request wrapped in a try/catch.\n   * @param  {Object} xhr XHR to send.\n   */\n  var safeXhrSend = function(xhr) {\n    try {\n      xhr.send();\n    } catch (e) {\n      xhr.onerror();\n    }\n  };\n\n  /**\n   * Decode audio data from an array buffer.\n   * @param  {ArrayBuffer} arraybuffer The audio data.\n   * @param  {Howl}        self\n   */\n  var decodeAudioData = function(arraybuffer, self) {\n    // Fire a load error if something broke.\n    var error = function() {\n      self._emit('loaderror', null, 'Decoding audio data failed.');\n    };\n\n    // Load the sound on success.\n    var success = function(buffer) {\n      if (buffer && self._sounds.length > 0) {\n        cache[self._src] = buffer;\n        loadSound(self, buffer);\n      } else {\n        error();\n      }\n    };\n\n    // Decode the buffer into an audio source.\n    if (typeof Promise !== 'undefined' && Howler.ctx.decodeAudioData.length === 1) {\n      Howler.ctx.decodeAudioData(arraybuffer).then(success).catch(error);\n    } else {\n      Howler.ctx.decodeAudioData(arraybuffer, success, error);\n    }\n  }\n\n  /**\n   * Sound is now loaded, so finish setting everything up and fire the loaded event.\n   * @param  {Howl} self\n   * @param  {Object} buffer The decoded buffer sound source.\n   */\n  var loadSound = function(self, buffer) {\n    // Set the duration.\n    if (buffer && !self._duration) {\n      self._duration = buffer.duration;\n    }\n\n    // Setup a sprite if none is defined.\n    if (Object.keys(self._sprite).length === 0) {\n      self._sprite = {__default: [0, self._duration * 1000]};\n    }\n\n    // Fire the loaded event.\n    if (self._state !== 'loaded') {\n      self._state = 'loaded';\n      self._emit('load');\n      self._loadQueue();\n    }\n  };\n\n  /**\n   * Setup the audio context when available, or switch to HTML5 Audio mode.\n   */\n  var setupAudioContext = function() {\n    // If we have already detected that Web Audio isn't supported, don't run this step again.\n    if (!Howler.usingWebAudio) {\n      return;\n    }\n\n    // Check if we are using Web Audio and setup the AudioContext if we are.\n    try {\n      if (typeof AudioContext !== 'undefined') {\n        Howler.ctx = new AudioContext();\n      } else if (typeof webkitAudioContext !== 'undefined') {\n        Howler.ctx = new webkitAudioContext();\n      } else {\n        Howler.usingWebAudio = false;\n      }\n    } catch(e) {\n      Howler.usingWebAudio = false;\n    }\n\n    // If the audio context creation still failed, set using web audio to false.\n    if (!Howler.ctx) {\n      Howler.usingWebAudio = false;\n    }\n\n    // Check if a webview is being used on iOS8 or earlier (rather than the browser).\n    // If it is, disable Web Audio as it causes crashing.\n    var iOS = (/iP(hone|od|ad)/.test(Howler._navigator && Howler._navigator.platform));\n    var appVersion = Howler._navigator && Howler._navigator.appVersion.match(/OS (\\d+)_(\\d+)_?(\\d+)?/);\n    var version = appVersion ? parseInt(appVersion[1], 10) : null;\n    if (iOS && version && version < 9) {\n      var safari = /safari/.test(Howler._navigator && Howler._navigator.userAgent.toLowerCase());\n      if (Howler._navigator && !safari) {\n        Howler.usingWebAudio = false;\n      }\n    }\n\n    // Create and expose the master GainNode when using Web Audio (useful for plugins or advanced usage).\n    if (Howler.usingWebAudio) {\n      Howler.masterGain = (typeof Howler.ctx.createGain === 'undefined') ? Howler.ctx.createGainNode() : Howler.ctx.createGain();\n      Howler.masterGain.gain.setValueAtTime(Howler._muted ? 0 : Howler._volume, Howler.ctx.currentTime);\n      Howler.masterGain.connect(Howler.ctx.destination);\n    }\n\n    // Re-run the setup on Howler.\n    Howler._setup();\n  };\n\n  // Add support for AMD (Asynchronous Module Definition) libraries such as require.js.\n  if (typeof define === 'function' && define.amd) {\n    define([], function() {\n      return {\n        Howler: Howler,\n        Howl: Howl\n      };\n    });\n  }\n\n  // Add support for CommonJS libraries such as browserify.\n  if (typeof exports !== 'undefined') {\n    exports.Howler = Howler;\n    exports.Howl = Howl;\n  }\n\n  // Add to global in Node.js (for testing, etc).\n  if (typeof global !== 'undefined') {\n    global.HowlerGlobal = HowlerGlobal;\n    global.Howler = Howler;\n    global.Howl = Howl;\n    global.Sound = Sound;\n  } else if (typeof window !== 'undefined') {  // Define globally in case AMD is not available or unused.\n    window.HowlerGlobal = HowlerGlobal;\n    window.Howler = Howler;\n    window.Howl = Howl;\n    window.Sound = Sound;\n  }\n})();\n\n\n/*!\n *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.\n *  \n *  howler.js v2.2.3\n *  howlerjs.com\n *\n *  (c) 2013-2020, James Simpson of GoldFire Studios\n *  goldfirestudios.com\n *\n *  MIT License\n */\n\n(function() {\n\n  'use strict';\n\n  // Setup default properties.\n  HowlerGlobal.prototype._pos = [0, 0, 0];\n  HowlerGlobal.prototype._orientation = [0, 0, -1, 0, 1, 0];\n\n  /** Global Methods **/\n  /***************************************************************************/\n\n  /**\n   * Helper method to update the stereo panning position of all current Howls.\n   * Future Howls will not use this value unless explicitly set.\n   * @param  {Number} pan A value of -1.0 is all the way left and 1.0 is all the way right.\n   * @return {Howler/Number}     Self or current stereo panning value.\n   */\n  HowlerGlobal.prototype.stereo = function(pan) {\n    var self = this;\n\n    // Stop right here if not using Web Audio.\n    if (!self.ctx || !self.ctx.listener) {\n      return self;\n    }\n\n    // Loop through all Howls and update their stereo panning.\n    for (var i=self._howls.length-1; i>=0; i--) {\n      self._howls[i].stereo(pan);\n    }\n\n    return self;\n  };\n\n  /**\n   * Get/set the position of the listener in 3D cartesian space. Sounds using\n   * 3D position will be relative to the listener's position.\n   * @param  {Number} x The x-position of the listener.\n   * @param  {Number} y The y-position of the listener.\n   * @param  {Number} z The z-position of the listener.\n   * @return {Howler/Array}   Self or current listener position.\n   */\n  HowlerGlobal.prototype.pos = function(x, y, z) {\n    var self = this;\n\n    // Stop right here if not using Web Audio.\n    if (!self.ctx || !self.ctx.listener) {\n      return self;\n    }\n\n    // Set the defaults for optional 'y' & 'z'.\n    y = (typeof y !== 'number') ? self._pos[1] : y;\n    z = (typeof z !== 'number') ? self._pos[2] : z;\n\n    if (typeof x === 'number') {\n      self._pos = [x, y, z];\n\n      if (typeof self.ctx.listener.positionX !== 'undefined') {\n        self.ctx.listener.positionX.setTargetAtTime(self._pos[0], Howler.ctx.currentTime, 0.1);\n        self.ctx.listener.positionY.setTargetAtTime(self._pos[1], Howler.ctx.currentTime, 0.1);\n        self.ctx.listener.positionZ.setTargetAtTime(self._pos[2], Howler.ctx.currentTime, 0.1);\n      } else {\n        self.ctx.listener.setPosition(self._pos[0], self._pos[1], self._pos[2]);\n      }\n    } else {\n      return self._pos;\n    }\n\n    return self;\n  };\n\n  /**\n   * Get/set the direction the listener is pointing in the 3D cartesian space.\n   * A front and up vector must be provided. The front is the direction the\n   * face of the listener is pointing, and up is the direction the top of the\n   * listener is pointing. Thus, these values are expected to be at right angles\n   * from each other.\n   * @param  {Number} x   The x-orientation of the listener.\n   * @param  {Number} y   The y-orientation of the listener.\n   * @param  {Number} z   The z-orientation of the listener.\n   * @param  {Number} xUp The x-orientation of the top of the listener.\n   * @param  {Number} yUp The y-orientation of the top of the listener.\n   * @param  {Number} zUp The z-orientation of the top of the listener.\n   * @return {Howler/Array}     Returns self or the current orientation vectors.\n   */\n  HowlerGlobal.prototype.orientation = function(x, y, z, xUp, yUp, zUp) {\n    var self = this;\n\n    // Stop right here if not using Web Audio.\n    if (!self.ctx || !self.ctx.listener) {\n      return self;\n    }\n\n    // Set the defaults for optional 'y' & 'z'.\n    var or = self._orientation;\n    y = (typeof y !== 'number') ? or[1] : y;\n    z = (typeof z !== 'number') ? or[2] : z;\n    xUp = (typeof xUp !== 'number') ? or[3] : xUp;\n    yUp = (typeof yUp !== 'number') ? or[4] : yUp;\n    zUp = (typeof zUp !== 'number') ? or[5] : zUp;\n\n    if (typeof x === 'number') {\n      self._orientation = [x, y, z, xUp, yUp, zUp];\n\n      if (typeof self.ctx.listener.forwardX !== 'undefined') {\n        self.ctx.listener.forwardX.setTargetAtTime(x, Howler.ctx.currentTime, 0.1);\n        self.ctx.listener.forwardY.setTargetAtTime(y, Howler.ctx.currentTime, 0.1);\n        self.ctx.listener.forwardZ.setTargetAtTime(z, Howler.ctx.currentTime, 0.1);\n        self.ctx.listener.upX.setTargetAtTime(xUp, Howler.ctx.currentTime, 0.1);\n        self.ctx.listener.upY.setTargetAtTime(yUp, Howler.ctx.currentTime, 0.1);\n        self.ctx.listener.upZ.setTargetAtTime(zUp, Howler.ctx.currentTime, 0.1);\n      } else {\n        self.ctx.listener.setOrientation(x, y, z, xUp, yUp, zUp);\n      }\n    } else {\n      return or;\n    }\n\n    return self;\n  };\n\n  /** Group Methods **/\n  /***************************************************************************/\n\n  /**\n   * Add new properties to the core init.\n   * @param  {Function} _super Core init method.\n   * @return {Howl}\n   */\n  Howl.prototype.init = (function(_super) {\n    return function(o) {\n      var self = this;\n\n      // Setup user-defined default properties.\n      self._orientation = o.orientation || [1, 0, 0];\n      self._stereo = o.stereo || null;\n      self._pos = o.pos || null;\n      self._pannerAttr = {\n        coneInnerAngle: typeof o.coneInnerAngle !== 'undefined' ? o.coneInnerAngle : 360,\n        coneOuterAngle: typeof o.coneOuterAngle !== 'undefined' ? o.coneOuterAngle : 360,\n        coneOuterGain: typeof o.coneOuterGain !== 'undefined' ? o.coneOuterGain : 0,\n        distanceModel: typeof o.distanceModel !== 'undefined' ? o.distanceModel : 'inverse',\n        maxDistance: typeof o.maxDistance !== 'undefined' ? o.maxDistance : 10000,\n        panningModel: typeof o.panningModel !== 'undefined' ? o.panningModel : 'HRTF',\n        refDistance: typeof o.refDistance !== 'undefined' ? o.refDistance : 1,\n        rolloffFactor: typeof o.rolloffFactor !== 'undefined' ? o.rolloffFactor : 1\n      };\n\n      // Setup event listeners.\n      self._onstereo = o.onstereo ? [{fn: o.onstereo}] : [];\n      self._onpos = o.onpos ? [{fn: o.onpos}] : [];\n      self._onorientation = o.onorientation ? [{fn: o.onorientation}] : [];\n\n      // Complete initilization with howler.js core's init function.\n      return _super.call(this, o);\n    };\n  })(Howl.prototype.init);\n\n  /**\n   * Get/set the stereo panning of the audio source for this sound or all in the group.\n   * @param  {Number} pan  A value of -1.0 is all the way left and 1.0 is all the way right.\n   * @param  {Number} id (optional) The sound ID. If none is passed, all in group will be updated.\n   * @return {Howl/Number}    Returns self or the current stereo panning value.\n   */\n  Howl.prototype.stereo = function(pan, id) {\n    var self = this;\n\n    // Stop right here if not using Web Audio.\n    if (!self._webAudio) {\n      return self;\n    }\n\n    // If the sound hasn't loaded, add it to the load queue to change stereo pan when capable.\n    if (self._state !== 'loaded') {\n      self._queue.push({\n        event: 'stereo',\n        action: function() {\n          self.stereo(pan, id);\n        }\n      });\n\n      return self;\n    }\n\n    // Check for PannerStereoNode support and fallback to PannerNode if it doesn't exist.\n    var pannerType = (typeof Howler.ctx.createStereoPanner === 'undefined') ? 'spatial' : 'stereo';\n\n    // Setup the group's stereo panning if no ID is passed.\n    if (typeof id === 'undefined') {\n      // Return the group's stereo panning if no parameters are passed.\n      if (typeof pan === 'number') {\n        self._stereo = pan;\n        self._pos = [pan, 0, 0];\n      } else {\n        return self._stereo;\n      }\n    }\n\n    // Change the streo panning of one or all sounds in group.\n    var ids = self._getSoundIds(id);\n    for (var i=0; i<ids.length; i++) {\n      // Get the sound.\n      var sound = self._soundById(ids[i]);\n\n      if (sound) {\n        if (typeof pan === 'number') {\n          sound._stereo = pan;\n          sound._pos = [pan, 0, 0];\n\n          if (sound._node) {\n            // If we are falling back, make sure the panningModel is equalpower.\n            sound._pannerAttr.panningModel = 'equalpower';\n\n            // Check if there is a panner setup and create a new one if not.\n            if (!sound._panner || !sound._panner.pan) {\n              setupPanner(sound, pannerType);\n            }\n\n            if (pannerType === 'spatial') {\n              if (typeof sound._panner.positionX !== 'undefined') {\n                sound._panner.positionX.setValueAtTime(pan, Howler.ctx.currentTime);\n                sound._panner.positionY.setValueAtTime(0, Howler.ctx.currentTime);\n                sound._panner.positionZ.setValueAtTime(0, Howler.ctx.currentTime);\n              } else {\n                sound._panner.setPosition(pan, 0, 0);\n              }\n            } else {\n              sound._panner.pan.setValueAtTime(pan, Howler.ctx.currentTime);\n            }\n          }\n\n          self._emit('stereo', sound._id);\n        } else {\n          return sound._stereo;\n        }\n      }\n    }\n\n    return self;\n  };\n\n  /**\n   * Get/set the 3D spatial position of the audio source for this sound or group relative to the global listener.\n   * @param  {Number} x  The x-position of the audio source.\n   * @param  {Number} y  The y-position of the audio source.\n   * @param  {Number} z  The z-position of the audio source.\n   * @param  {Number} id (optional) The sound ID. If none is passed, all in group will be updated.\n   * @return {Howl/Array}    Returns self or the current 3D spatial position: [x, y, z].\n   */\n  Howl.prototype.pos = function(x, y, z, id) {\n    var self = this;\n\n    // Stop right here if not using Web Audio.\n    if (!self._webAudio) {\n      return self;\n    }\n\n    // If the sound hasn't loaded, add it to the load queue to change position when capable.\n    if (self._state !== 'loaded') {\n      self._queue.push({\n        event: 'pos',\n        action: function() {\n          self.pos(x, y, z, id);\n        }\n      });\n\n      return self;\n    }\n\n    // Set the defaults for optional 'y' & 'z'.\n    y = (typeof y !== 'number') ? 0 : y;\n    z = (typeof z !== 'number') ? -0.5 : z;\n\n    // Setup the group's spatial position if no ID is passed.\n    if (typeof id === 'undefined') {\n      // Return the group's spatial position if no parameters are passed.\n      if (typeof x === 'number') {\n        self._pos = [x, y, z];\n      } else {\n        return self._pos;\n      }\n    }\n\n    // Change the spatial position of one or all sounds in group.\n    var ids = self._getSoundIds(id);\n    for (var i=0; i<ids.length; i++) {\n      // Get the sound.\n      var sound = self._soundById(ids[i]);\n\n      if (sound) {\n        if (typeof x === 'number') {\n          sound._pos = [x, y, z];\n\n          if (sound._node) {\n            // Check if there is a panner setup and create a new one if not.\n            if (!sound._panner || sound._panner.pan) {\n              setupPanner(sound, 'spatial');\n            }\n\n            if (typeof sound._panner.positionX !== 'undefined') {\n              sound._panner.positionX.setValueAtTime(x, Howler.ctx.currentTime);\n              sound._panner.positionY.setValueAtTime(y, Howler.ctx.currentTime);\n              sound._panner.positionZ.setValueAtTime(z, Howler.ctx.currentTime);\n            } else {\n              sound._panner.setPosition(x, y, z);\n            }\n          }\n\n          self._emit('pos', sound._id);\n        } else {\n          return sound._pos;\n        }\n      }\n    }\n\n    return self;\n  };\n\n  /**\n   * Get/set the direction the audio source is pointing in the 3D cartesian coordinate\n   * space. Depending on how direction the sound is, based on the `cone` attributes,\n   * a sound pointing away from the listener can be quiet or silent.\n   * @param  {Number} x  The x-orientation of the source.\n   * @param  {Number} y  The y-orientation of the source.\n   * @param  {Number} z  The z-orientation of the source.\n   * @param  {Number} id (optional) The sound ID. If none is passed, all in group will be updated.\n   * @return {Howl/Array}    Returns self or the current 3D spatial orientation: [x, y, z].\n   */\n  Howl.prototype.orientation = function(x, y, z, id) {\n    var self = this;\n\n    // Stop right here if not using Web Audio.\n    if (!self._webAudio) {\n      return self;\n    }\n\n    // If the sound hasn't loaded, add it to the load queue to change orientation when capable.\n    if (self._state !== 'loaded') {\n      self._queue.push({\n        event: 'orientation',\n        action: function() {\n          self.orientation(x, y, z, id);\n        }\n      });\n\n      return self;\n    }\n\n    // Set the defaults for optional 'y' & 'z'.\n    y = (typeof y !== 'number') ? self._orientation[1] : y;\n    z = (typeof z !== 'number') ? self._orientation[2] : z;\n\n    // Setup the group's spatial orientation if no ID is passed.\n    if (typeof id === 'undefined') {\n      // Return the group's spatial orientation if no parameters are passed.\n      if (typeof x === 'number') {\n        self._orientation = [x, y, z];\n      } else {\n        return self._orientation;\n      }\n    }\n\n    // Change the spatial orientation of one or all sounds in group.\n    var ids = self._getSoundIds(id);\n    for (var i=0; i<ids.length; i++) {\n      // Get the sound.\n      var sound = self._soundById(ids[i]);\n\n      if (sound) {\n        if (typeof x === 'number') {\n          sound._orientation = [x, y, z];\n\n          if (sound._node) {\n            // Check if there is a panner setup and create a new one if not.\n            if (!sound._panner) {\n              // Make sure we have a position to setup the node with.\n              if (!sound._pos) {\n                sound._pos = self._pos || [0, 0, -0.5];\n              }\n\n              setupPanner(sound, 'spatial');\n            }\n\n            if (typeof sound._panner.orientationX !== 'undefined') {\n              sound._panner.orientationX.setValueAtTime(x, Howler.ctx.currentTime);\n              sound._panner.orientationY.setValueAtTime(y, Howler.ctx.currentTime);\n              sound._panner.orientationZ.setValueAtTime(z, Howler.ctx.currentTime);\n            } else {\n              sound._panner.setOrientation(x, y, z);\n            }\n          }\n\n          self._emit('orientation', sound._id);\n        } else {\n          return sound._orientation;\n        }\n      }\n    }\n\n    return self;\n  };\n\n  /**\n   * Get/set the panner node's attributes for a sound or group of sounds.\n   * This method can optionall take 0, 1 or 2 arguments.\n   *   pannerAttr() -> Returns the group's values.\n   *   pannerAttr(id) -> Returns the sound id's values.\n   *   pannerAttr(o) -> Set's the values of all sounds in this Howl group.\n   *   pannerAttr(o, id) -> Set's the values of passed sound id.\n   *\n   *   Attributes:\n   *     coneInnerAngle - (360 by default) A parameter for directional audio sources, this is an angle, in degrees,\n   *                      inside of which there will be no volume reduction.\n   *     coneOuterAngle - (360 by default) A parameter for directional audio sources, this is an angle, in degrees,\n   *                      outside of which the volume will be reduced to a constant value of `coneOuterGain`.\n   *     coneOuterGain - (0 by default) A parameter for directional audio sources, this is the gain outside of the\n   *                     `coneOuterAngle`. It is a linear value in the range `[0, 1]`.\n   *     distanceModel - ('inverse' by default) Determines algorithm used to reduce volume as audio moves away from\n   *                     listener. Can be `linear`, `inverse` or `exponential.\n   *     maxDistance - (10000 by default) The maximum distance between source and listener, after which the volume\n   *                   will not be reduced any further.\n   *     refDistance - (1 by default) A reference distance for reducing volume as source moves further from the listener.\n   *                   This is simply a variable of the distance model and has a different effect depending on which model\n   *                   is used and the scale of your coordinates. Generally, volume will be equal to 1 at this distance.\n   *     rolloffFactor - (1 by default) How quickly the volume reduces as source moves from listener. This is simply a\n   *                     variable of the distance model and can be in the range of `[0, 1]` with `linear` and `[0, \u221E]`\n   *                     with `inverse` and `exponential`.\n   *     panningModel - ('HRTF' by default) Determines which spatialization algorithm is used to position audio.\n   *                     Can be `HRTF` or `equalpower`.\n   *\n   * @return {Howl/Object} Returns self or current panner attributes.\n   */\n  Howl.prototype.pannerAttr = function() {\n    var self = this;\n    var args = arguments;\n    var o, id, sound;\n\n    // Stop right here if not using Web Audio.\n    if (!self._webAudio) {\n      return self;\n    }\n\n    // Determine the values based on arguments.\n    if (args.length === 0) {\n      // Return the group's panner attribute values.\n      return self._pannerAttr;\n    } else if (args.length === 1) {\n      if (typeof args[0] === 'object') {\n        o = args[0];\n\n        // Set the grou's panner attribute values.\n        if (typeof id === 'undefined') {\n          if (!o.pannerAttr) {\n            o.pannerAttr = {\n              coneInnerAngle: o.coneInnerAngle,\n              coneOuterAngle: o.coneOuterAngle,\n              coneOuterGain: o.coneOuterGain,\n              distanceModel: o.distanceModel,\n              maxDistance: o.maxDistance,\n              refDistance: o.refDistance,\n              rolloffFactor: o.rolloffFactor,\n              panningModel: o.panningModel\n            };\n          }\n\n          self._pannerAttr = {\n            coneInnerAngle: typeof o.pannerAttr.coneInnerAngle !== 'undefined' ? o.pannerAttr.coneInnerAngle : self._coneInnerAngle,\n            coneOuterAngle: typeof o.pannerAttr.coneOuterAngle !== 'undefined' ? o.pannerAttr.coneOuterAngle : self._coneOuterAngle,\n            coneOuterGain: typeof o.pannerAttr.coneOuterGain !== 'undefined' ? o.pannerAttr.coneOuterGain : self._coneOuterGain,\n            distanceModel: typeof o.pannerAttr.distanceModel !== 'undefined' ? o.pannerAttr.distanceModel : self._distanceModel,\n            maxDistance: typeof o.pannerAttr.maxDistance !== 'undefined' ? o.pannerAttr.maxDistance : self._maxDistance,\n            refDistance: typeof o.pannerAttr.refDistance !== 'undefined' ? o.pannerAttr.refDistance : self._refDistance,\n            rolloffFactor: typeof o.pannerAttr.rolloffFactor !== 'undefined' ? o.pannerAttr.rolloffFactor : self._rolloffFactor,\n            panningModel: typeof o.pannerAttr.panningModel !== 'undefined' ? o.pannerAttr.panningModel : self._panningModel\n          };\n        }\n      } else {\n        // Return this sound's panner attribute values.\n        sound = self._soundById(parseInt(args[0], 10));\n        return sound ? sound._pannerAttr : self._pannerAttr;\n      }\n    } else if (args.length === 2) {\n      o = args[0];\n      id = parseInt(args[1], 10);\n    }\n\n    // Update the values of the specified sounds.\n    var ids = self._getSoundIds(id);\n    for (var i=0; i<ids.length; i++) {\n      sound = self._soundById(ids[i]);\n\n      if (sound) {\n        // Merge the new values into the sound.\n        var pa = sound._pannerAttr;\n        pa = {\n          coneInnerAngle: typeof o.coneInnerAngle !== 'undefined' ? o.coneInnerAngle : pa.coneInnerAngle,\n          coneOuterAngle: typeof o.coneOuterAngle !== 'undefined' ? o.coneOuterAngle : pa.coneOuterAngle,\n          coneOuterGain: typeof o.coneOuterGain !== 'undefined' ? o.coneOuterGain : pa.coneOuterGain,\n          distanceModel: typeof o.distanceModel !== 'undefined' ? o.distanceModel : pa.distanceModel,\n          maxDistance: typeof o.maxDistance !== 'undefined' ? o.maxDistance : pa.maxDistance,\n          refDistance: typeof o.refDistance !== 'undefined' ? o.refDistance : pa.refDistance,\n          rolloffFactor: typeof o.rolloffFactor !== 'undefined' ? o.rolloffFactor : pa.rolloffFactor,\n          panningModel: typeof o.panningModel !== 'undefined' ? o.panningModel : pa.panningModel\n        };\n\n        // Update the panner values or create a new panner if none exists.\n        var panner = sound._panner;\n        if (panner) {\n          panner.coneInnerAngle = pa.coneInnerAngle;\n          panner.coneOuterAngle = pa.coneOuterAngle;\n          panner.coneOuterGain = pa.coneOuterGain;\n          panner.distanceModel = pa.distanceModel;\n          panner.maxDistance = pa.maxDistance;\n          panner.refDistance = pa.refDistance;\n          panner.rolloffFactor = pa.rolloffFactor;\n          panner.panningModel = pa.panningModel;\n        } else {\n          // Make sure we have a position to setup the node with.\n          if (!sound._pos) {\n            sound._pos = self._pos || [0, 0, -0.5];\n          }\n\n          // Create a new panner node.\n          setupPanner(sound, 'spatial');\n        }\n      }\n    }\n\n    return self;\n  };\n\n  /** Single Sound Methods **/\n  /***************************************************************************/\n\n  /**\n   * Add new properties to the core Sound init.\n   * @param  {Function} _super Core Sound init method.\n   * @return {Sound}\n   */\n  Sound.prototype.init = (function(_super) {\n    return function() {\n      var self = this;\n      var parent = self._parent;\n\n      // Setup user-defined default properties.\n      self._orientation = parent._orientation;\n      self._stereo = parent._stereo;\n      self._pos = parent._pos;\n      self._pannerAttr = parent._pannerAttr;\n\n      // Complete initilization with howler.js core Sound's init function.\n      _super.call(this);\n\n      // If a stereo or position was specified, set it up.\n      if (self._stereo) {\n        parent.stereo(self._stereo);\n      } else if (self._pos) {\n        parent.pos(self._pos[0], self._pos[1], self._pos[2], self._id);\n      }\n    };\n  })(Sound.prototype.init);\n\n  /**\n   * Override the Sound.reset method to clean up properties from the spatial plugin.\n   * @param  {Function} _super Sound reset method.\n   * @return {Sound}\n   */\n  Sound.prototype.reset = (function(_super) {\n    return function() {\n      var self = this;\n      var parent = self._parent;\n\n      // Reset all spatial plugin properties on this sound.\n      self._orientation = parent._orientation;\n      self._stereo = parent._stereo;\n      self._pos = parent._pos;\n      self._pannerAttr = parent._pannerAttr;\n\n      // If a stereo or position was specified, set it up.\n      if (self._stereo) {\n        parent.stereo(self._stereo);\n      } else if (self._pos) {\n        parent.pos(self._pos[0], self._pos[1], self._pos[2], self._id);\n      } else if (self._panner) {\n        // Disconnect the panner.\n        self._panner.disconnect(0);\n        self._panner = undefined;\n        parent._refreshBuffer(self);\n      }\n\n      // Complete resetting of the sound.\n      return _super.call(this);\n    };\n  })(Sound.prototype.reset);\n\n  /** Helper Methods **/\n  /***************************************************************************/\n\n  /**\n   * Create a new panner node and save it on the sound.\n   * @param  {Sound} sound Specific sound to setup panning on.\n   * @param {String} type Type of panner to create: 'stereo' or 'spatial'.\n   */\n  var setupPanner = function(sound, type) {\n    type = type || 'spatial';\n\n    // Create the new panner node.\n    if (type === 'spatial') {\n      sound._panner = Howler.ctx.createPanner();\n      sound._panner.coneInnerAngle = sound._pannerAttr.coneInnerAngle;\n      sound._panner.coneOuterAngle = sound._pannerAttr.coneOuterAngle;\n      sound._panner.coneOuterGain = sound._pannerAttr.coneOuterGain;\n      sound._panner.distanceModel = sound._pannerAttr.distanceModel;\n      sound._panner.maxDistance = sound._pannerAttr.maxDistance;\n      sound._panner.refDistance = sound._pannerAttr.refDistance;\n      sound._panner.rolloffFactor = sound._pannerAttr.rolloffFactor;\n      sound._panner.panningModel = sound._pannerAttr.panningModel;\n\n      if (typeof sound._panner.positionX !== 'undefined') {\n        sound._panner.positionX.setValueAtTime(sound._pos[0], Howler.ctx.currentTime);\n        sound._panner.positionY.setValueAtTime(sound._pos[1], Howler.ctx.currentTime);\n        sound._panner.positionZ.setValueAtTime(sound._pos[2], Howler.ctx.currentTime);\n      } else {\n        sound._panner.setPosition(sound._pos[0], sound._pos[1], sound._pos[2]);\n      }\n\n      if (typeof sound._panner.orientationX !== 'undefined') {\n        sound._panner.orientationX.setValueAtTime(sound._orientation[0], Howler.ctx.currentTime);\n        sound._panner.orientationY.setValueAtTime(sound._orientation[1], Howler.ctx.currentTime);\n        sound._panner.orientationZ.setValueAtTime(sound._orientation[2], Howler.ctx.currentTime);\n      } else {\n        sound._panner.setOrientation(sound._orientation[0], sound._orientation[1], sound._orientation[2]);\n      }\n    } else {\n      sound._panner = Howler.ctx.createStereoPanner();\n      sound._panner.pan.setValueAtTime(sound._stereo, Howler.ctx.currentTime);\n    }\n\n    sound._panner.connect(sound._node);\n\n    // Update the connections.\n    if (!sound._paused) {\n      sound._parent.pause(sound._id, true).play(sound._id, true);\n    }\n  };\n})();\n", "/**\n * Component property type.\n */\nexport var Type;\n(function (Type) {\n    /**\n     * **Native**\n     *\n     * Property of a native component. Must not be used in custom components.\n     *\n     * @hidden\n     */\n    Type[Type[\"Native\"] = 1] = \"Native\";\n    /**\n     * **Bool**:\n     *\n     * Appears in the editor as a checkbox.\n     *\n     * Initial value is `false`, unless overridden by the `default` property.\n     */\n    Type[Type[\"Bool\"] = 2] = \"Bool\";\n    /**\n     * **Int**:\n     *\n     * Appears in the editor as an integer input field.\n     *\n     * Initial value is `0`, unless overridden by the `default` property.\n     */\n    Type[Type[\"Int\"] = 4] = \"Int\";\n    /**\n     * **Float**:\n     *\n     * Appears in the editor as a floating point input field.\n     *\n     * Initial value is `0.0`, unless overridden by the `default` property.\n     */\n    Type[Type[\"Float\"] = 8] = \"Float\";\n    /**\n     * **String / Text**:\n     *\n     * Appears in the editor as a single-line text input field.\n     *\n     * Initial value is an empty string, unless overridden by the `default`\n     * property.\n     */\n    Type[Type[\"String\"] = 16] = \"String\";\n    /**\n     * **Enumeration**:\n     *\n     * Appears in the editor as a dropdown with given values. The additional\n     * `values` parameter with selection options is mandatory.\n     *\n     * The property value is resolved to an **index** into the `values` array.\n     *\n     * Initial value is the first element in `values`, unless overridden by\n     * the `default` property. The `default` value can be a string or an index\n     * into `values`.\n     *\n     * @example\n     *     camera: {type: Type.Enum, values: ['auto', 'back', 'front'], default: 'auto'},\n     */\n    Type[Type[\"Enum\"] = 32] = \"Enum\";\n    /**\n     * **Object reference**:\n     *\n     * Appears in the editor as an object resource selection dropdown\n     * with object picker.\n     *\n     * Initial value is `null`.\n     */\n    Type[Type[\"Object\"] = 64] = \"Object\";\n    /**\n     * **Mesh reference**:\n     *\n     * Appears in the editor as a mesh resource selection dropdown.\n     *\n     * Initial value is `null`.\n     */\n    Type[Type[\"Mesh\"] = 128] = \"Mesh\";\n    /**\n     * **Texture reference**:\n     *\n     * Appears in the editor as a texture resource selection dropdown.\n     *\n     * Initial value is `null`.\n     */\n    Type[Type[\"Texture\"] = 256] = \"Texture\";\n    /**\n     * **Material reference**:\n     *\n     * Appears in the editor as a material resource selection dropdown.\n     *\n     * Initial value is `null`.\n     */\n    Type[Type[\"Material\"] = 512] = \"Material\";\n    /**\n     * **Animation reference**:\n     *\n     * Appears in the editor as an animation resource selection dropdown.\n     *\n     * Initial value is `null`.\n     */\n    Type[Type[\"Animation\"] = 1024] = \"Animation\";\n    /**\n     * **Skin reference**:\n     *\n     * Appears in the editor as a skin resource selection dropdown.\n     *\n     * Initial value is `null`.\n     */\n    Type[Type[\"Skin\"] = 2048] = \"Skin\";\n    /**\n     * **Color**:\n     *\n     * Appears in the editor as a color widget.\n     *\n     * Initial value is `[0.0, 0.0, 0.0, 1.0]`, unless overridden by the\n     * `default` property.\n     */\n    Type[Type[\"Color\"] = 4096] = \"Color\";\n})(Type || (Type = {}));\n/**\n * Component property namespace.\n *\n * Usage:\n *\n * ```js\n * import {Component, Property} from '@wonderlandengine/api';\n *\n * class MyComponent extends Component {\n *     static Properties = {\n *         myBool: Property.bool(true),\n *         myInt: Property.int(42),\n *         myString: Property.string('Hello World!'),\n *         myMesh: Property.mesh(),\n *     }\n * }\n * ```\n *\n * For TypeScript users, you can use the decorators instead.\n */\nexport const Property = {\n    /**\n     * Create an boolean property.\n     *\n     * @param defaultValue The default value. If not provided, defaults to `false`.\n     */\n    bool(defaultValue = false) {\n        return { type: Type.Bool, default: defaultValue };\n    },\n    /**\n     * Create an integer property.\n     *\n     * @param defaultValue The default value. If not provided, defaults to `0`.\n     */\n    int(defaultValue = 0) {\n        return { type: Type.Int, default: defaultValue };\n    },\n    /**\n     * Create an float property.\n     *\n     * @param defaultValue The default value. If not provided, defaults to `0.0`.\n     */\n    float(defaultValue = 0.0) {\n        return { type: Type.Float, default: defaultValue };\n    },\n    /**\n     * Create an string property.\n     *\n     * @param defaultValue The default value. If not provided, defaults to `''`.\n     */\n    string(defaultValue = '') {\n        return { type: Type.String, default: defaultValue };\n    },\n    /**\n     * Create an enumeration property.\n     *\n     * @param values The list of values.\n     * @param defaultValue The default value. Can be a string or an index into\n     *     `values`. If not provided, defaults to the first element.\n     */\n    enum(values, defaultValue) {\n        return { type: Type.Enum, values, default: defaultValue };\n    },\n    /** Create an {@link Object3D} reference property. */\n    object() {\n        return { type: Type.Object, default: null };\n    },\n    /** Create a {@link Mesh} reference property. */\n    mesh() {\n        return { type: Type.Mesh, default: null };\n    },\n    /** Create a {@link Texture} reference property. */\n    texture() {\n        return { type: Type.Texture, default: null };\n    },\n    /** Create a {@link Material} reference property. */\n    material() {\n        return { type: Type.Material, default: null };\n    },\n    /** Create an {@link Animation} reference property. */\n    animation() {\n        return { type: Type.Animation, default: null };\n    },\n    /** Create a {@link Skin} reference property. */\n    skin() {\n        return { type: Type.Skin, default: null };\n    },\n    /**\n     * Create a color property.\n     *\n     * @param r The red component, in the range [0; 1].\n     * @param g The green component, in the range [0; 1].\n     * @param b The blue component, in the range [0; 1].\n     * @param a The alpha component, in the range [0; 1].\n     */\n    color(r = 0.0, g = 0.0, b = 0.0, a = 1.0) {\n        return { type: Type.Color, default: [r, g, b, a] };\n    },\n};\n", "import { Property, Type } from './property.js';\n/**\n * Decorator for JS component properties.\n *\n * @param data The property description as an object literal\n * @returns A decorator function modifying the `Properties` static\n *     attribute\n */\nfunction propertyDecorator(data) {\n    return function (target, propertyKey) {\n        const ctor = target.constructor;\n        ctor.Properties = ctor.Properties ?? {};\n        ctor.Properties[propertyKey] = data;\n    };\n}\n/**\n * Decorator for making a getter enumerable.\n *\n * Usage:\n *\n * ```ts\n * class MyClass {\n *     @enumerable()\n *     get projectionMatrix(): Float32Array { ... }\n * }\n * ```\n */\nexport function enumerable() {\n    return function (_, __, descriptor) {\n        descriptor.enumerable = true;\n    };\n}\n/**\n * Decorator for native properties.\n *\n * Usage:\n *\n * ```ts\n * class MyClass {\n *     @nativeProperty()\n *     get projectionMatrix(): Float32Array { ... }\n * }\n * ```\n */\nexport function nativeProperty() {\n    return function (target, propertyKey, descriptor) {\n        enumerable()(target, propertyKey, descriptor);\n        propertyDecorator({ type: Type.Native })(target, propertyKey);\n    };\n}\n/**\n * Property decorators namespace.\n *\n * You can use the decorators to mark a class attribute as\n * a Wonderland Engine property.\n *\n * Usage:\n *\n * ```ts\n * import {Mesh} from '@wonderlandengine/api';\n * import {property} from '@wonderlandengine/api/decorators.js';\n *\n * class MyComponent extends Component {\n *     @property.bool(true)\n *     myBool!: boolean;\n *\n *     @property.int(42)\n *     myInt!: number;\n *\n *     @property.string('Hello World!')\n *     myString!: string;\n *\n *     @property.mesh()\n *     myMesh!: Mesh;\n * }\n * ```\n *\n * For JavaScript users, please declare the properties statically.\n */\nexport const property = {};\nfor (const name in Property) {\n    /* Assign each property functor to a TypeScript decorator.\n     * This code extracts parameters and return type to provide proper\n     * typings to the user. */\n    property[name] = (...args) => {\n        const functor = Property[name];\n        return propertyDecorator(functor(...args));\n    };\n}\n", "/**\n * Check if a given value is a native string or a `String` instance.\n *\n * @param value The value to check.\n * @returns `true` if the `value` has type string literal or `String`, `false` otherwise.\n */\nexport function isString(value) {\n    if (value === '')\n        return true;\n    return value && (typeof value === 'string' || value.constructor === String);\n}\n/**\n * Check if a given value is a native number or a `Number` instance.\n *\n * @param value The value to check.\n * @returns `true` if the `value` has type number literal or `Number`, `false` otherwise.\n */\nexport function isNumber(value) {\n    if (value === null || value === undefined)\n        return false;\n    return typeof value === 'number' || value.constructor === Number;\n}\n", "import { isString } from './object.js';\n/**\n * Event emitter.\n *\n * This class allows to register listeners that will get notified by the emitter.\n *\n * Usage example\n *\n * ```js\n * // `onPreRender` is an `Emitter` instance.\n * scene.onPreRender.add(() => console.log('before rendering'));\n * // `onPostRender` is an `Emitter` instance.\n * scene.onPostRender.add(() => console.log('before rendering'));\n * ```\n *\n * You can create your own emitters:\n *\n * ```js\n * import {Emitter} from '@wonderlandengine/api';\n *\n * const emitter = new Emitter();\n * ```\n *\n * You can notify listeners in to your emitter using {@link Emitter.notify}:\n *\n * ```js\n * // Notifies all the listeners.\n * emitter.notify();\n * // Notifies all the listeners with some data.\n * emitter.notify({ myInt: 42, myStr: 'Hello World!' });\n * ```\n *\n * @category event\n */\nexport class Emitter {\n    /**\n     * List of listeners to trigger when `notify` is called.\n     *\n     * @hidden\n     */\n    _listeners = [];\n    /** Pre-resolved data. @hidden */\n    _event = undefined;\n    /**\n     * If `true`, the emitter will emit the value of the last\n     * {@link Emitter.notify notify} to listeners added afterwards.\n     *\n     * @hidden\n     */\n    _autoResolve;\n    /**\n     * Create a new instance.\n     *\n     * @param autoResolve If `true`, the emitter will store the data of last\n     *     {@link Emitter.notify} notify to automatically resolve future listeners.\n     */\n    constructor(autoResolve = false) {\n        this._autoResolve = autoResolve;\n    }\n    /**\n     * Register a new listener to be triggered on {@link Emitter.notify}.\n     *\n     * Basic usage:\n     *\n     * ```js\n     * emitter.add((data) => {\n     *     console.log('event received!');\n     *     console.log(data);\n     * });\n     * ```\n     *\n     * Automatically remove the listener when an event is received:\n     *\n     * ```js\n     * emitter.add((data) => {\n     *     console.log('event received!');\n     *     console.log(data);\n     * }, {once: true});\n     * ```\n     *\n     * @param listener The callback to register.\n     * @param opts The listener options. For more information, please have a look\n     *     at the {@link ListenerOptions} interface.\n     *\n     * @returns Reference to self (for method chaining)\n     */\n    add(listener, opts = {}) {\n        const { once = false, id = undefined } = opts;\n        if (this._event !== undefined) {\n            listener(...this._event);\n            /* Listener doesn't need to be stored, short circuit the insertion. */\n            if (once)\n                return this;\n        }\n        this._listeners.push({ id, once, callback: listener });\n        return this;\n    }\n    /**\n     * Equivalent to {@link Emitter.add}.\n     *\n     * @param listeners The callback(s) to register.\n     * @returns Reference to self (for method chaining).\n     *\n     * @deprecated Please use {@link Emitter.add} instead.\n     */\n    push(...listeners) {\n        for (const cb of listeners)\n            this.add(cb);\n        return this;\n    }\n    /**\n     * Register a new listener to be triggered on {@link Emitter.notify}.\n     *\n     * Once notified, the listener will be automatically removed.\n     *\n     * The method is equivalent to calling {@link Emitter.add} with:\n     *\n     * ```js\n     * emitter.add(listener, {once: true});\n     * ```\n     *\n     * @param listener The callback to register.\n     * @param opts The listener options. For more information, please have a look\n     *     at the {@link ListenerOptions} interface.\n     *\n     * @returns Reference to self (for method chaining).\n     */\n    once(listener) {\n        return this.add(listener, { once: true });\n    }\n    /**\n     * Remove a registered listener.\n     *\n     * Usage with a callback:\n     *\n     * ```js\n     * const listener = (data) => console.log(data);\n     * emitter.add(listener);\n     *\n     * // Remove using the callback reference:\n     * emitter.remove(listener);\n     * ```\n     *\n     * Usage with an id:\n     *\n     * ```js\n     * emitter.add((data) => console.log(data), {id: 'my-callback'});\n     *\n     * // Remove using the id:\n     * emitter.remove('my-callback');\n     * ```\n     *\n     * @param listener The registered callback or a string representing the `id`.\n     *\n     * @returns Reference to self (for method chaining)\n     */\n    remove(listener) {\n        const index = this._find(listener);\n        if (index !== null)\n            this._listeners.splice(index, 1);\n        return this;\n    }\n    /**\n     * Check whether the listener is registered.\n     *\n     * @note This method performs a linear search.\n     *\n     * @param listener The registered callback or a string representing the `id`.\n     * @returns `true` if the handle is found, `false` otherwise.\n     */\n    has(listener) {\n        return this._find(listener) !== null;\n    }\n    /**\n     * Notify listeners with the given data object.\n     *\n     * @note This method ensures all listeners are called even if\n     * an exception is thrown. For (possibly) faster notification,\n     * please use {@link Emitter.notifyUnsafe}.\n     *\n     * @param data The data to pass to listener when invoked.\n     */\n    notify(...data) {\n        const listeners = this._listeners;\n        if (this._autoResolve)\n            this._event = data;\n        for (let i = 0; i < listeners.length; ++i) {\n            const listener = listeners[i];\n            if (listener.once)\n                listeners.splice(i--, 1);\n            try {\n                listener.callback(...data);\n            }\n            catch (e) {\n                console.error(e);\n            }\n        }\n    }\n    /**\n     * Notify listeners with the given data object.\n     *\n     * @note Because this method doesn't catch exceptions, some listeners\n     * will be skipped on a throw. Please use {@link Emitter.notify} for safe\n     * notification.\n     *\n     * @param data The data to pass to listener when invoked.\n     */\n    notifyUnsafe(...data) {\n        const listeners = this._listeners;\n        if (this._autoResolve)\n            this._event = data;\n        for (let i = 0; i < listeners.length; ++i) {\n            const listener = listeners[i];\n            if (listener.once)\n                listeners.splice(i--, 1);\n            listener.callback(...data);\n        }\n    }\n    /**\n     * Return a promise that will resolve on the next event.\n     *\n     * @note The promise might never resolve if no event is sent.\n     *\n     * @returns A promise that resolves with the data passed to\n     *     {@link Emitter.notify}.\n     */\n    promise() {\n        return new Promise((res, _) => {\n            this.once((...args) => {\n                if (args.length > 1) {\n                    res(args);\n                }\n                else {\n                    res(args[0]);\n                }\n            });\n        });\n    }\n    /**\n     * Find the listener index.\n     *\n     * @param listener The registered callback or a string representing the `id`.\n     * @returns The index if found, `null` otherwise.\n     *\n     * @hidden\n     */\n    _find(listener) {\n        const listeners = this._listeners;\n        if (isString(listener)) {\n            for (let i = 0; i < listeners.length; ++i) {\n                if (listeners[i].id === listener)\n                    return i;\n            }\n            return null;\n        }\n        for (let i = 0; i < listeners.length; ++i) {\n            if (listeners[i].callback === listener)\n                return i;\n        }\n        return null;\n    }\n}\n", "/**\n * Types\n */\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { nativeProperty, enumerable } from './decorators.js';\nimport { isNumber, isString } from './utils/object.js';\nimport { Emitter } from './utils/event.js';\n/**\n * Wonderland Engine API\n * @namespace WL\n */\n/**\n * Collider type enum for {@link CollisionComponent}.\n */\nexport var Collider;\n(function (Collider) {\n    /**\n     * **Sphere Collider**:\n     *\n     * Simplest and most performant collision shape. If this type is set on a\n     * {@link CollisionComponent}, only the first component of\n     * {@link CollisionComponent#extents} will be used to determine the radius.\n     */\n    Collider[Collider[\"Sphere\"] = 0] = \"Sphere\";\n    /**\n     * **Axis Aligned Bounding Box Collider**:\n     *\n     * Box that is always aligned to XYZ axis. It cannot be rotated but is more\n     * efficient than {@link Collider.Box}.\n     */\n    Collider[Collider[\"AxisAlignedBox\"] = 1] = \"AxisAlignedBox\";\n    /**\n     * **Aligned Bounding Box Collider**:\n     *\n     * Box that matches the object's rotation and translation correctly. This\n     * is the least efficient collider and should only be chosen over\n     * {@link Collider.Sphere} and {@link Collider.AxisAlignedBox} if really\n     * necessary.\n     */\n    Collider[Collider[\"Box\"] = 2] = \"Box\";\n})(Collider || (Collider = {}));\n/**\n * Alignment type enum for {@link TextComponent}.\n */\nexport var Alignment;\n(function (Alignment) {\n    /** Text start is at object origin */\n    Alignment[Alignment[\"Left\"] = 0] = \"Left\";\n    /** Text center is at object origin */\n    Alignment[Alignment[\"Center\"] = 1] = \"Center\";\n    /** Text end is at object origin */\n    Alignment[Alignment[\"Right\"] = 2] = \"Right\";\n})(Alignment || (Alignment = {}));\n/**\n * Justification type enum for {@link TextComponent}.\n */\nexport var Justification;\n(function (Justification) {\n    /** Text line is at object origin */\n    Justification[Justification[\"Line\"] = 0] = \"Line\";\n    /** Text middle is at object origin */\n    Justification[Justification[\"Middle\"] = 1] = \"Middle\";\n    /** Text top is at object origin */\n    Justification[Justification[\"Top\"] = 2] = \"Top\";\n    /** Text bottom is at object origin */\n    Justification[Justification[\"Bottom\"] = 3] = \"Bottom\";\n})(Justification || (Justification = {}));\n/**\n * Effect type enum for {@link TextComponent}.\n */\nexport var TextEffect;\n(function (TextEffect) {\n    /** Text is rendered normally */\n    TextEffect[TextEffect[\"None\"] = 0] = \"None\";\n    /** Text is rendered with an outline */\n    TextEffect[TextEffect[\"Outline\"] = 1] = \"Outline\";\n})(TextEffect || (TextEffect = {}));\n/**\n * Input type enum for {@link InputComponent}.\n */\nexport var InputType;\n(function (InputType) {\n    /** Head input */\n    InputType[InputType[\"Head\"] = 0] = \"Head\";\n    /** Left eye input */\n    InputType[InputType[\"EyeLeft\"] = 1] = \"EyeLeft\";\n    /** Right eye input */\n    InputType[InputType[\"EyeRight\"] = 2] = \"EyeRight\";\n    /** Left controller input */\n    InputType[InputType[\"ControllerLeft\"] = 3] = \"ControllerLeft\";\n    /** Right controller input */\n    InputType[InputType[\"ControllerRight\"] = 4] = \"ControllerRight\";\n    /** Left ray input */\n    InputType[InputType[\"RayLeft\"] = 5] = \"RayLeft\";\n    /** Right ray input */\n    InputType[InputType[\"RayRight\"] = 6] = \"RayRight\";\n})(InputType || (InputType = {}));\n/**\n * Light type enum for {@link LightComponent}.\n */\nexport var LightType;\n(function (LightType) {\n    /** Point light */\n    LightType[LightType[\"Point\"] = 0] = \"Point\";\n    /** Spot light */\n    LightType[LightType[\"Spot\"] = 1] = \"Spot\";\n    /** Sun light / Directional light */\n    LightType[LightType[\"Sun\"] = 2] = \"Sun\";\n})(LightType || (LightType = {}));\n/**\n * Animation state of {@link AnimationComponent}.\n */\nexport var AnimationState;\n(function (AnimationState) {\n    /** Animation is currently playing */\n    AnimationState[AnimationState[\"Playing\"] = 0] = \"Playing\";\n    /** Animation is paused and will continue at current playback\n     * time on {@link AnimationComponent#play} */\n    AnimationState[AnimationState[\"Paused\"] = 1] = \"Paused\";\n    /** Animation is stopped */\n    AnimationState[AnimationState[\"Stopped\"] = 2] = \"Stopped\";\n})(AnimationState || (AnimationState = {}));\n/**\n * Rigid body force mode for {@link PhysXComponent#addForce} and {@link PhysXComponent#addTorque}.\n *\n * [PhysX API Reference](https://gameworksdocs.nvidia.com/PhysX/4.1/documentation/physxapi/files/structPxForceMode.html)\n */\nexport var ForceMode;\n(function (ForceMode) {\n    /** Apply as force */\n    ForceMode[ForceMode[\"Force\"] = 0] = \"Force\";\n    /** Apply as impulse */\n    ForceMode[ForceMode[\"Impulse\"] = 1] = \"Impulse\";\n    /** Apply as velocity change, mass dependent */\n    ForceMode[ForceMode[\"VelocityChange\"] = 2] = \"VelocityChange\";\n    /** Apply as mass dependent force */\n    ForceMode[ForceMode[\"Acceleration\"] = 3] = \"Acceleration\";\n})(ForceMode || (ForceMode = {}));\n/**\n * Collision callback event type.\n */\nexport var CollisionEventType;\n(function (CollisionEventType) {\n    /** Touch/contact detected, collision */\n    CollisionEventType[CollisionEventType[\"Touch\"] = 0] = \"Touch\";\n    /** Touch/contact lost, uncollide */\n    CollisionEventType[CollisionEventType[\"TouchLost\"] = 1] = \"TouchLost\";\n    /** Touch/contact with trigger detected */\n    CollisionEventType[CollisionEventType[\"TriggerTouch\"] = 2] = \"TriggerTouch\";\n    /** Touch/contact with trigger lost */\n    CollisionEventType[CollisionEventType[\"TriggerTouchLost\"] = 3] = \"TriggerTouchLost\";\n})(CollisionEventType || (CollisionEventType = {}));\n/**\n * Rigid body {@link PhysXComponent#shape}.\n *\n * [PhysX SDK Guide](https://gameworksdocs.nvidia.com/PhysX/4.1/documentation/physxguide/Manual/Geometry.html#geometry-types).\n */\nexport var Shape;\n(function (Shape) {\n    /** No shape. */\n    Shape[Shape[\"None\"] = 0] = \"None\";\n    /** Sphere shape. */\n    Shape[Shape[\"Sphere\"] = 1] = \"Sphere\";\n    /** Capsule shape. */\n    Shape[Shape[\"Capsule\"] = 2] = \"Capsule\";\n    /** Box shape. */\n    Shape[Shape[\"Box\"] = 3] = \"Box\";\n    /** Plane shape. */\n    Shape[Shape[\"Plane\"] = 4] = \"Plane\";\n    /** Convex mesh shape. */\n    Shape[Shape[\"ConvexMesh\"] = 5] = \"ConvexMesh\";\n    /** Triangle mesh shape. */\n    Shape[Shape[\"TriangleMesh\"] = 6] = \"TriangleMesh\";\n})(Shape || (Shape = {}));\n/**\n * Mesh attribute enum.\n * @since 0.9.0\n */\nexport var MeshAttribute;\n(function (MeshAttribute) {\n    /** Position attribute, 3 floats */\n    MeshAttribute[MeshAttribute[\"Position\"] = 0] = \"Position\";\n    /** Tangent attribute, 4 floats */\n    MeshAttribute[MeshAttribute[\"Tangent\"] = 1] = \"Tangent\";\n    /** Normal attribute, 3 floats */\n    MeshAttribute[MeshAttribute[\"Normal\"] = 2] = \"Normal\";\n    /** Texture coordinate attribute, 2 floats */\n    MeshAttribute[MeshAttribute[\"TextureCoordinate\"] = 3] = \"TextureCoordinate\";\n    /** Color attribute, 4 floats, RGBA, range `0` to `1` */\n    MeshAttribute[MeshAttribute[\"Color\"] = 4] = \"Color\";\n    /** Joint id attribute, 8 unsigned ints */\n    MeshAttribute[MeshAttribute[\"JointId\"] = 5] = \"JointId\";\n    /** Joint weights attribute, 8 floats */\n    MeshAttribute[MeshAttribute[\"JointWeight\"] = 6] = \"JointWeight\";\n})(MeshAttribute || (MeshAttribute = {}));\n/**\n * Material parameter type.\n */\nexport var MaterialParamType;\n(function (MaterialParamType) {\n    /** Unsigned integer parameter type. */\n    MaterialParamType[MaterialParamType[\"UnsignedInt\"] = 0] = \"UnsignedInt\";\n    /** Integer parameter type. */\n    MaterialParamType[MaterialParamType[\"Int\"] = 1] = \"Int\";\n    /** Float parameter type. */\n    MaterialParamType[MaterialParamType[\"Float\"] = 2] = \"Float\";\n    /** Sampler resource parameter type, i.e., a {@link Texture}. */\n    MaterialParamType[MaterialParamType[\"Sampler\"] = 3] = \"Sampler\";\n    /**\n     * Font resource parameter type.\n     *\n     * **Note**: Changing font isn't exposed yet and will raise an error.\n     */\n    MaterialParamType[MaterialParamType[\"Font\"] = 4] = \"Font\";\n})(MaterialParamType || (MaterialParamType = {}));\n/**\n * Check whether a given shape is a mesh or not.\n *\n * @param shape The shape to check.\n * @returns `true` if the shape is a mesh, `false` if it's a primitive.\n */\nfunction isMeshShape(shape) {\n    return shape === Shape.ConvexMesh || shape === Shape.TriangleMesh;\n}\n/**\n * Constants.\n */\n/**\n * Default world up vector.\n */\nconst UP_VECTOR = [0, 1, 0];\n/**\n * Provides global scene functionality like raycasting.\n */\nexport class Scene {\n    /** Called before rendering the scene */\n    onPreRender = new Emitter();\n    /** Called after the scene has been rendered */\n    onPostRender = new Emitter();\n    /** Wonderland Engine instance. @hidden */\n    _engine;\n    /** Ray hit pointer in WASM heap. @hidden */\n    _rayHit;\n    /** Ray hit. @hidden */\n    _hit;\n    constructor(engine) {\n        this._engine = engine;\n        this._rayHit = engine.wasm._malloc(4 * (3 * 4 + 3 * 4 + 4 + 2) + 4);\n        this._hit = new RayHit(this._engine, this._rayHit);\n    }\n    /**\n     * Currently active view components.\n     */\n    get activeViews() {\n        const wasm = this._engine.wasm;\n        const count = wasm._wl_scene_get_active_views(this._engine.wasm._tempMem, 16);\n        const views = [];\n        const viewTypeIndex = wasm._typeIndexFor('view');\n        for (let i = 0; i < count; ++i) {\n            views.push(new ViewComponent(this._engine, viewTypeIndex, this._engine.wasm._tempMemInt[i]));\n        }\n        return views;\n    }\n    /**\n     * Cast a ray through the scene and find intersecting objects.\n     *\n     * The resulting ray hit will contain up to **4** closest ray hits,\n     * sorted by increasing distance.\n     *\n     * @param o Ray origin.\n     * @param d Ray direction.\n     * @param group Collision group to filter by: only objects that are\n     *        part of given group are considered for raycast.\n     *\n     * @returns The scene cached {@link RayHit} instance.\n     * @note The returned object is owned by the Scene instance\n     *   will be reused with the next {@link Scene#rayCast} call.\n     */\n    rayCast(o, d, group) {\n        this._engine.wasm._wl_scene_ray_cast(o[0], o[1], o[2], d[0], d[1], d[2], group, this._rayHit);\n        return this._hit;\n    }\n    /**\n     * Add an object to the scene.\n     *\n     * @param parent Parent object or `null`.\n     * @returns A newly created object.\n     */\n    addObject(parent) {\n        const parentId = parent ? parent.objectId : 0;\n        const objectId = this._engine.wasm._wl_scene_add_object(parentId);\n        return this._engine.wrapObject(objectId);\n    }\n    /**\n     * Batch-add objects to the scene.\n     *\n     * Will provide better performance for adding multiple objects (e.g. > 16)\n     * than calling {@link Scene#addObject} repeatedly in a loop.\n     *\n     * By providing upfront information of how many objects will be required,\n     * the engine is able to batch-allocate the required memory rather than\n     * convervatively grow the memory in small steps.\n     *\n     * **Experimental:** This API might change in upcoming versions.\n     *\n     * @param count Number of objects to add.\n     * @param parent Parent object or `null`, default `null`.\n     * @param componentCountHint Hint for how many components in total will\n     *      be added to the created objects afterwards, default `0`.\n     * @returns Newly created objects\n     */\n    addObjects(count, parent, componentCountHint) {\n        const parentId = parent ? parent.objectId : 0;\n        this._engine.wasm.requireTempMem(count * 2);\n        const actualCount = this._engine.wasm._wl_scene_add_objects(parentId, count, componentCountHint || 0, this._engine.wasm._tempMem, this._engine.wasm._tempMemSize >> 1);\n        const ids = this._engine.wasm._tempMemUint16.subarray(0, actualCount);\n        const wrapper = this._engine.wrapObject.bind(this._engine);\n        const objects = Array.from(ids, wrapper);\n        return objects;\n    }\n    /**\n     * Pre-allocate memory for a given amount of objects and components.\n     *\n     * Will provide better performance for adding objects later with {@link Scene#addObject}\n     * and {@link Scene#addObjects}.\n     *\n     * By providing upfront information of how many objects will be required,\n     * the engine is able to batch-allocate the required memory rather than\n     * conservatively grow the memory in small steps.\n     *\n     * **Experimental:** This API might change in upcoming versions.\n     *\n     * @param objectCount Number of objects to add.\n     * @param componentCountPerType Amount of components to\n     *      allocate for {@link Object3D.addComponent}, e.g. `{mesh: 100, collision: 200, \"my-comp\": 100}`.\n     * @since 0.8.10\n     */\n    reserveObjects(objectCount, componentCountPerType) {\n        const wasm = this._engine.wasm;\n        componentCountPerType = componentCountPerType || {};\n        const jsManagerIndex = wasm._typeIndexFor('js');\n        let countsPerTypeIndex = wasm._tempMemInt.subarray();\n        countsPerTypeIndex.fill(0);\n        for (const e of Object.entries(componentCountPerType)) {\n            const typeIndex = wasm._typeIndexFor(e[0]);\n            countsPerTypeIndex[typeIndex < 0 ? jsManagerIndex : typeIndex] += e[1];\n        }\n        wasm._wl_scene_reserve_objects(objectCount, wasm._tempMem);\n    }\n    /**\n     * Set the background clear color.\n     *\n     * @param color new clear color (RGBA).\n     * @since 0.8.5\n     */\n    set clearColor(color) {\n        this._engine.wasm._wl_scene_set_clearColor(color[0], color[1], color[2], color[3]);\n    }\n    /**\n     * Set whether to clear the color framebuffer before drawing.\n     *\n     * This function is useful if an external framework (e.g. an AR tracking\n     * framework) is responsible for drawing a camera frame before Wonderland\n     * Engine draws the scene on top of it.\n     *\n     * @param b Whether to enable color clear.\n     * @since 0.9.4\n     */\n    set colorClearEnabled(b) {\n        this._engine.wasm._wl_scene_enableColorClear(b);\n    }\n    /** Hosting engine instance. */\n    get engine() {\n        return this._engine;\n    }\n    /**\n     * Load a scene file (.bin)\n     *\n     * Will replace the currently active scene with the one loaded\n     * from given file. It is assumed that JavaScript components required by\n     * the new scene were registered in advance.\n     *\n     * @param filename Path to the .bin file.\n     */\n    load(filename) {\n        const wasm = this._engine.wasm;\n        wasm._wl_load_scene(wasm.tempUTF8(filename));\n    }\n    /**\n     * Load an external 3D file (.gltf, .glb).\n     *\n     * Loads and parses the gltf file and its images and appends the result\n     * to scene.\n     *\n     * ```js\n     * WL.scene.append(filename).then(root => {\n     *     // root contains the loaded scene\n     * });\n     * ```\n     *\n     * In case the `loadGltfExtensions` option is set to true, the response\n     * will be an object containing both the root of the loaded scene and\n     * any glTF extensions found on nodes, meshes and the root of the file.\n     *\n     * ```js\n     * WL.scene.append(filename, { loadGltfExtensions: true }).then(({root, extensions}) => {\n     *     // root contains the loaded scene\n     *     // extensions.root contains any extensions at the root of glTF document\n     *     const rootExtensions = extensions.root;\n     *     // extensions.mesh and extensions.node contain extensions indexed by Object id\n     *     const childObject = root.children[0];\n     *     const meshExtensions = root.meshExtensions[childObject.objectId];\n     *     const nodeExtensions = root.nodeExtensions[childObject.objectId];\n     *     // extensions.idMapping contains a mapping from glTF node index to Object id\n     * });\n     * ```\n     *\n     * @param filename Path to the .gltf or .glb file.\n     * @param options Additional options for loading.\n     * @returns Root of the loaded scene.\n     */\n    append(filename, options) {\n        options = options || {};\n        const wasm = this._engine.wasm;\n        const loadGltfExtensions = !!options.loadGltfExtensions;\n        const callback = wasm._sceneLoadedCallback.length;\n        const promise = new Promise((resolve, reject) => {\n            wasm._sceneLoadedCallback[callback] = {\n                success: (id, extensions) => {\n                    const root = this._engine.wrapObject(id);\n                    resolve(extensions ? { root, extensions } : root);\n                },\n                error: () => reject(),\n            };\n        });\n        wasm._wl_append_scene(wasm.tempUTF8(filename), loadGltfExtensions, callback);\n        return promise;\n    }\n    /**\n     * Unmarshalls the GltfExtensions from an Uint32Array.\n     *\n     * @param data Array containing the gltf extension data.\n     * @returns The extensions stored in an object literal.\n     *\n     * @hidden\n     */\n    _unmarshallGltfExtensions(data) {\n        /* @todo: This method should be moved in the internal Emscripten library. */\n        const extensions = {\n            root: {},\n            mesh: {},\n            node: {},\n            idMapping: {},\n        };\n        let index = 0;\n        const readString = () => {\n            const strPtr = data[index++];\n            const strLen = data[index++];\n            return this._engine.wasm.UTF8ViewToString(strPtr, strPtr + strLen);\n        };\n        const idMappingSize = data[index++];\n        const idMapping = new Array(idMappingSize);\n        for (let i = 0; i < idMappingSize; ++i) {\n            idMapping[i] = data[index++];\n        }\n        extensions.idMapping = idMapping;\n        const meshExtensionsSize = data[index++];\n        for (let i = 0; i < meshExtensionsSize; ++i) {\n            const objectId = data[index++];\n            extensions.mesh[idMapping[objectId]] = JSON.parse(readString());\n        }\n        const nodeExtensionsSize = data[index++];\n        for (let i = 0; i < nodeExtensionsSize; ++i) {\n            const objectId = data[index++];\n            extensions.node[idMapping[objectId]] = JSON.parse(readString());\n        }\n        const rootExtensionsStr = readString();\n        if (rootExtensionsStr) {\n            extensions.root = JSON.parse(rootExtensionsStr);\n        }\n        return extensions;\n    }\n    /**\n     * Reset the scene.\n     *\n     * This method deletes all used and allocated objects, and components.\n     */\n    reset() {\n        this._engine.wasm._wl_scene_reset();\n    }\n}\n/**\n * Native component\n *\n * Provides access to a native component instance of a specified component type.\n *\n * Usage example:\n *\n * ```js\n * import { Component, Type } from '@wonderlandengine/api';\n *\n * class MyComponent extends Component {\n *     static TypeName = 'my-component';\n *     static Properties = {\n *         myBoolean: { type: Type.Boolean, default: false },\n *     };\n *     start() {}\n *     onActivate() {}\n *     onDeactivate() {}\n *     update(dt) {}\n * }\n * ```\n */\nexport class Component {\n    /**\n     * Unique identifier for this component class.\n     *\n     * This is used to register, add, and retrieve component of a given type.\n     */\n    static TypeName;\n    /**\n     * Properties of this component class.\n     *\n     * Properties are public attributes that can be configured via the\n     * Wonderland Editor.\n     *\n     * Example:\n     *\n     * ```js\n     * import { Component, Type } from '@wonderlandengine/api';\n     * class MyComponent extends Component {\n     *     static TypeName = 'my-component';\n     *     static Properties = {\n     *         myBoolean: { type: Type.Boolean, default: false },\n     *         myFloat: { type: Type.Float, default: false },\n     *         myTexture: { type: Type.Texture, default: null },\n     *     };\n     * }\n     * ```\n     *\n     * Properties are automatically added to each component instance, and are\n     * accessible like any JS attribute:\n     *\n     * ```js\n     * // Creates a new component and set each properties value:\n     * const myComponent = object.addComponent(MyComponent, {\n     *     myBoolean: true,\n     *     myFloat: 42.0,\n     *     myTexture: null\n     * });\n     *\n     * // You can also override the properties on the instance:\n     * myComponent.myBoolean = false;\n     * myComponent.myFloat = -42.0;\n     * ```\n     */\n    static Properties;\n    /**\n     * List of components this type depends on.\n     *\n     * When the {@link WonderlandEngine.autoRegisterDependencies} is set to `true`,\n     * those components will be automatically registered.\n     *\n     * Usage example:\n     *\n     * ```js\n     * class DependencyA extends Component {\n     *     static TypeName = 'dependency-a';\n     * }\n     *\n     * class MyComponent extends Component {\n     *     static TypeName = 'my-component';\n     *     static Dependencies = [DependencyA];\n     * }\n     * ```\n     *\n     * On the above example, registering `MyComponent` automatically leads to\n     * the registration of `DependencyA`.\n     */\n    static Dependencies;\n    /** Manager index. @hidden */\n    _manager;\n    /** Instance index. @hidden */\n    _id;\n    /**\n     * Object containing this object.\n     *\n     * **Note**: This is cached for faster retrieval.\n     *\n     * @hidden\n     */\n    _object;\n    /** Wonderland Engine instance */\n    _engine;\n    /**\n     * Create a new instance\n     *\n     * @param engine The engine instance.\n     * @param manager Index of the manager.\n     * @param id WASM component instance index.\n     *\n     * @hidden\n     */\n    constructor(engine, manager = -1, id = -1) {\n        this._engine = engine;\n        this._manager = manager;\n        this._id = id;\n        this._object = null;\n    }\n    /** Hosting engine instance. */\n    get engine() {\n        return this._engine;\n    }\n    /** The name of this component's type */\n    get type() {\n        const ctor = this.constructor;\n        return ctor.TypeName ?? this._engine.wasm._typeNameFor(this._manager);\n    }\n    /** The object this component is attached to. */\n    get object() {\n        if (!this._object) {\n            const objectId = this._engine.wasm._wl_component_get_object(this._manager, this._id);\n            this._object = this._engine.wrapObject(objectId);\n        }\n        return this._object;\n    }\n    /**\n     * Set whether this component is active.\n     *\n     * Activating/deactivating a component comes at a small cost of reordering\n     * components in the respective component manager. This function therefore\n     * is not a trivial assignment.\n     *\n     * Does nothing if the component is already activated/deactivated.\n     *\n     * @param active New active state.\n     */\n    set active(active) {\n        this._engine.wasm._wl_component_setActive(this._manager, this._id, active);\n    }\n    /**\n     * Whether this component is active\n     */\n    get active() {\n        return this._engine.wasm._wl_component_isActive(this._manager, this._id) != 0;\n    }\n    /**\n     * Remove this component from its objects and destroy it.\n     *\n     * It is best practice to set the component to `null` after,\n     * to ensure it does not get used later.\n     *\n     * ```js\n     *    c.destroy();\n     *    c = null;\n     * ```\n     * @since 0.9.0\n     */\n    destroy() {\n        this._engine.wasm._wl_component_remove(this._manager, this._id);\n        this._manager = -1;\n        this._id = -1;\n    }\n    /**\n     * Checks equality by comparing whether the wrapped native component ids\n     * and component manager types are equal.\n     *\n     * @param otherComponent Component to check equality with.\n     * @returns Whether this component equals the given component.\n     */\n    equals(otherComponent) {\n        if (!otherComponent)\n            return false;\n        return this._manager == otherComponent._manager && this._id == otherComponent._id;\n    }\n}\n/**\n * Native collision component.\n *\n * Provides access to a native collision component instance.\n */\nexport class CollisionComponent extends Component {\n    /** @override */\n    static TypeName = 'collision';\n    /** Collision component collider */\n    get collider() {\n        return this._engine.wasm._wl_collision_component_get_collider(this._id);\n    }\n    /**\n     * Set collision component collider.\n     *\n     * @param collider Collider of the collision component.\n     */\n    set collider(collider) {\n        this._engine.wasm._wl_collision_component_set_collider(this._id, collider);\n    }\n    /**\n     * Collision component extents.\n     *\n     * If {@link collider} returns {@link Collider.Sphere}, only the first\n     * component of the returned vector is used.\n     */\n    get extents() {\n        const wasm = this._engine.wasm;\n        return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_collision_component_get_extents(this._id), 3);\n    }\n    /**\n     * Set collision component extents.\n     *\n     * If {@link collider} returns {@link Collider.Sphere}, only the first\n     * component of the passed vector is used.\n     *\n     * Example:\n     *\n     * ```js\n     * // Spans 1 unit on the x-axis, 2 on the y-axis, 3 on the z-axis.\n     * collision.extent = [1, 2, 3];\n     * ```\n     *\n     * @param extents Extents of the collision component, expects a\n     *      3 component array.\n     */\n    set extents(extents) {\n        this.extents.set(extents);\n    }\n    /**\n     * Collision component group.\n     *\n     * The groups is a bitmask that is compared to other components in {@link CollisionComponent#queryOverlaps}\n     * or the group in {@link Scene#rayCast}.\n     *\n     * Colliders that have no common groups will not overlap with each other. If a collider\n     * has none of the groups set for {@link Scene#rayCast}, the ray will not hit it.\n     *\n     * Each bit represents belonging to a group, see example.\n     *\n     * ```js\n     *    // c belongs to group 2\n     *    c.group = (1 << 2);\n     *\n     *    // c belongs to group 0\n     *    c.group = (1 << 0);\n     *\n     *    // c belongs to group 0 *and* 2\n     *    c.group = (1 << 0) | (1 << 2);\n     *\n     *    (c.group & (1 << 2)) != 0; // true\n     *    (c.group & (1 << 7)) != 0; // false\n     * ```\n     */\n    get group() {\n        return this._engine.wasm._wl_collision_component_get_group(this._id);\n    }\n    /**\n     * Set collision component group.\n     *\n     * @param group Group mask of the collision component.\n     */\n    set group(group) {\n        this._engine.wasm._wl_collision_component_set_group(this._id, group);\n    }\n    /**\n     * Query overlapping objects.\n     *\n     * Usage:\n     *\n     * ```js\n     * const collision = object.getComponent('collision');\n     * const overlaps = collision.queryOverlaps();\n     * for(const otherCollision of overlaps) {\n     *     const otherObject = otherCollision.object;\n     *     console.log(`Collision with object ${otherObject.objectId}`);\n     * }\n     * ```\n     *\n     * @returns Collision components overlapping this collider.\n     */\n    queryOverlaps() {\n        const count = this._engine.wasm._wl_collision_component_query_overlaps(this._id, this._engine.wasm._tempMem, this._engine.wasm._tempMemSize >> 1);\n        let overlaps = new Array(count);\n        for (let i = 0; i < count; ++i) {\n            overlaps[i] = new CollisionComponent(this._engine, this._manager, this._engine.wasm._tempMemUint16[i]);\n        }\n        return overlaps;\n    }\n}\n__decorate([\n    nativeProperty()\n], CollisionComponent.prototype, \"collider\", null);\n__decorate([\n    nativeProperty()\n], CollisionComponent.prototype, \"extents\", null);\n__decorate([\n    nativeProperty()\n], CollisionComponent.prototype, \"group\", null);\n/**\n * Native text component\n *\n * Provides access to a native text component instance\n */\nexport class TextComponent extends Component {\n    /** @override */\n    static TypeName = 'text';\n    /** Text component alignment. */\n    get alignment() {\n        return this._engine.wasm._wl_text_component_get_horizontal_alignment(this._id);\n    }\n    /**\n     * Set text component alignment.\n     *\n     * @param alignment Alignment for the text component.\n     */\n    set alignment(alignment) {\n        this._engine.wasm._wl_text_component_set_horizontal_alignment(this._id, alignment);\n    }\n    /** Text component justification. */\n    get justification() {\n        return this._engine.wasm._wl_text_component_get_vertical_alignment(this._id);\n    }\n    /**\n     * Set text component justification.\n     *\n     * @param justification Justification for the text component.\n     */\n    set justification(justification) {\n        this._engine.wasm._wl_text_component_set_vertical_alignment(this._id, justification);\n    }\n    /** Text component character spacing. */\n    get characterSpacing() {\n        return this._engine.wasm._wl_text_component_get_character_spacing(this._id);\n    }\n    /**\n     * Set text component character spacing.\n     *\n     * @param spacing Character spacing for the text component.\n     */\n    set characterSpacing(spacing) {\n        this._engine.wasm._wl_text_component_set_character_spacing(this._id, spacing);\n    }\n    /** Text component line spacing. */\n    get lineSpacing() {\n        return this._engine.wasm._wl_text_component_get_line_spacing(this._id);\n    }\n    /**\n     * Set text component line spacing\n     *\n     * @param spacing Line spacing for the text component\n     */\n    set lineSpacing(spacing) {\n        this._engine.wasm._wl_text_component_set_line_spacing(this._id, spacing);\n    }\n    /** Text component effect. */\n    get effect() {\n        return this._engine.wasm._wl_text_component_get_effect(this._id);\n    }\n    /**\n     * Set text component effect\n     *\n     * @param effect Effect for the text component\n     */\n    set effect(effect) {\n        this._engine.wasm._wl_text_component_set_effect(this._id, effect);\n    }\n    /** Text component text. */\n    get text() {\n        const wasm = this._engine.wasm;\n        const ptr = wasm._wl_text_component_get_text(this._id);\n        return wasm.UTF8ToString(ptr);\n    }\n    /**\n     * Set text component text.\n     *\n     * @param text Text of the text component.\n     */\n    set text(text) {\n        const wasm = this._engine.wasm;\n        wasm._wl_text_component_set_text(this._id, wasm.tempUTF8(text));\n    }\n    /**\n     * Set material to render the text with.\n     *\n     * @param material New material.\n     */\n    set material(material) {\n        const matIndex = material ? material._index : 0;\n        this._engine.wasm._wl_text_component_set_material(this._id, matIndex);\n    }\n    /** Material used to render the text. */\n    get material() {\n        const id = this._engine.wasm._wl_text_component_get_material(this._id);\n        return id > 0 ? new Material(this._engine, id) : null;\n    }\n}\n__decorate([\n    nativeProperty()\n], TextComponent.prototype, \"alignment\", null);\n__decorate([\n    nativeProperty()\n], TextComponent.prototype, \"justification\", null);\n__decorate([\n    nativeProperty()\n], TextComponent.prototype, \"characterSpacing\", null);\n__decorate([\n    nativeProperty()\n], TextComponent.prototype, \"lineSpacing\", null);\n__decorate([\n    nativeProperty()\n], TextComponent.prototype, \"effect\", null);\n__decorate([\n    nativeProperty()\n], TextComponent.prototype, \"text\", null);\n__decorate([\n    nativeProperty()\n], TextComponent.prototype, \"material\", null);\n/**\n * Native view component.\n *\n * Provides access to a native view component instance.\n */\nexport class ViewComponent extends Component {\n    /** @override */\n    static TypeName = 'view';\n    /** Projection matrix. */\n    get projectionMatrix() {\n        const wasm = this._engine.wasm;\n        return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_view_component_get_projection_matrix(this._id), 16);\n    }\n    /** ViewComponent near clipping plane value. */\n    get near() {\n        return this._engine.wasm._wl_view_component_get_near(this._id);\n    }\n    /**\n     * Set near clipping plane distance for the view.\n     *\n     * If an XR session is active, the change will apply in the\n     * following frame, otherwise the change is immediate.\n     *\n     * @param near Near depth value.\n     */\n    set near(near) {\n        this._engine.wasm._wl_view_component_set_near(this._id, near);\n    }\n    /** Far clipping plane value. */\n    get far() {\n        return this._engine.wasm._wl_view_component_get_far(this._id);\n    }\n    /**\n     * Set far clipping plane distance for the view.\n     *\n     * If an XR session is active, the change will apply in the\n     * following frame, otherwise the change is immediate.\n     *\n     * @param far Near depth value.\n     */\n    set far(far) {\n        this._engine.wasm._wl_view_component_set_far(this._id, far);\n    }\n    /**\n     * Get the horizontal field of view for the view, **in degrees**.\n     *\n     * If an XR session is active, this returns the field of view reported by\n     * the device, regardless of the fov that was set.\n     */\n    get fov() {\n        return this._engine.wasm._wl_view_component_get_fov(this._id);\n    }\n    /**\n     * Set the horizontal field of view for the view, **in degrees**.\n     *\n     * If an XR session is active, the field of view reported by the device is\n     * used and this value is ignored. After the XR session ends, the new value\n     * is applied.\n     *\n     * @param fov Horizontal field of view, **in degrees**.\n     */\n    set fov(fov) {\n        this._engine.wasm._wl_view_component_set_fov(this._id, fov);\n    }\n}\n__decorate([\n    enumerable()\n], ViewComponent.prototype, \"projectionMatrix\", null);\n__decorate([\n    nativeProperty()\n], ViewComponent.prototype, \"near\", null);\n__decorate([\n    nativeProperty()\n], ViewComponent.prototype, \"far\", null);\n__decorate([\n    nativeProperty()\n], ViewComponent.prototype, \"fov\", null);\n/**\n * Native input component.\n *\n * Provides access to a native input component instance.\n */\nexport class InputComponent extends Component {\n    /** @override */\n    static TypeName = 'input';\n    /** Input component type */\n    get inputType() {\n        return this._engine.wasm._wl_input_component_get_type(this._id);\n    }\n    /**\n     * Set input component type.\n     *\n     * @params New input component type.\n     */\n    set inputType(type) {\n        this._engine.wasm._wl_input_component_set_type(this._id, type);\n    }\n    /**\n     * WebXR Device API input source associated with this input component,\n     * if type {@link InputType.ControllerLeft} or {@link InputType.ControllerRight}.\n     */\n    get xrInputSource() {\n        const xrSession = this._engine.xrSession;\n        if (xrSession) {\n            for (let inputSource of xrSession.inputSources) {\n                if (inputSource.handedness == this.handedness) {\n                    return inputSource;\n                }\n            }\n        }\n        return null;\n    }\n    /**\n     * 'left', 'right' or `null` depending on the {@link InputComponent#inputType}.\n     */\n    get handedness() {\n        const inputType = this.inputType;\n        if (inputType == InputType.ControllerRight ||\n            inputType == InputType.RayRight ||\n            inputType == InputType.EyeRight)\n            return 'right';\n        if (inputType == InputType.ControllerLeft ||\n            inputType == InputType.RayLeft ||\n            inputType == InputType.EyeLeft)\n            return 'left';\n        return null;\n    }\n}\n__decorate([\n    nativeProperty()\n], InputComponent.prototype, \"inputType\", null);\n__decorate([\n    enumerable()\n], InputComponent.prototype, \"xrInputSource\", null);\n__decorate([\n    enumerable()\n], InputComponent.prototype, \"handedness\", null);\n/**\n * Native light component.\n *\n * Provides access to a native light component instance.\n */\nexport class LightComponent extends Component {\n    /** @override */\n    static TypeName = 'light';\n    /** View on the light color. */\n    get color() {\n        const wasm = this._engine.wasm;\n        return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_light_component_get_color(this._id), 4);\n    }\n    /**\n     * Set light color.\n     *\n     * @param c Color of the light component.\n     */\n    set color(c) {\n        this.color.set(c);\n    }\n    /** Light type. */\n    get lightType() {\n        return this._engine.wasm._wl_light_component_get_type(this._id);\n    }\n    /**\n     * Set light type.\n     *\n     * @param lightType Type of the light component.\n     */\n    set lightType(t) {\n        this._engine.wasm._wl_light_component_set_type(this._id, t);\n    }\n}\n__decorate([\n    nativeProperty()\n], LightComponent.prototype, \"color\", null);\n__decorate([\n    nativeProperty()\n], LightComponent.prototype, \"lightType\", null);\n/**\n * Native animation component.\n *\n * Provides access to a native animation component instance.\n */\nexport class AnimationComponent extends Component {\n    /** @override */\n    static TypeName = 'animation';\n    /**\n     * Set animation to play.\n     *\n     * Make sure to {@link Animation#retarget} the animation to affect the\n     * right objects.\n     *\n     * @param anim Animation to play.\n     */\n    set animation(anim) {\n        this._engine.wasm._wl_animation_component_set_animation(this._id, anim ? anim._index : 0);\n    }\n    /** Animation set for this component */\n    get animation() {\n        const id = this._engine.wasm._wl_animation_component_get_animation(this._id);\n        return id > 0 ? new Animation(this._engine, id) : null;\n    }\n    /**\n     * Set play count. Set to `0` to loop indefinitely.\n     *\n     * @param playCount Number of times to repeat the animation.\n     */\n    set playCount(playCount) {\n        this._engine.wasm._wl_animation_component_set_playCount(this._id, playCount);\n    }\n    /** Number of times the animation is played. */\n    get playCount() {\n        return this._engine.wasm._wl_animation_component_get_playCount(this._id);\n    }\n    /**\n     * Set speed. Set to negative values to run the animation backwards.\n     *\n     * Setting speed has an immediate effect for the current frame's update\n     * and will continue with the speed from the current point in the animation.\n     *\n     * @param speed New speed at which to play the animation.\n     * @since 0.8.10\n     */\n    set speed(speed) {\n        this._engine.wasm._wl_animation_component_set_speed(this._id, speed);\n    }\n    /**\n     * Speed factor at which the animation is played.\n     *\n     * @since 0.8.10\n     */\n    get speed() {\n        return this._engine.wasm._wl_animation_component_get_speed(this._id);\n    }\n    /** Current playing state of the animation */\n    get state() {\n        return this._engine.wasm._wl_animation_component_state(this._id);\n    }\n    /**\n     * Play animation.\n     *\n     * If the animation is currently paused, resumes from that position. If the\n     * animation is already playing, does nothing.\n     *\n     * To restart the animation, {@link AnimationComponent#stop} it first.\n     */\n    play() {\n        this._engine.wasm._wl_animation_component_play(this._id);\n    }\n    /** Stop animation. */\n    stop() {\n        this._engine.wasm._wl_animation_component_stop(this._id);\n    }\n    /** Pause animation. */\n    pause() {\n        this._engine.wasm._wl_animation_component_pause(this._id);\n    }\n}\n__decorate([\n    nativeProperty()\n], AnimationComponent.prototype, \"animation\", null);\n__decorate([\n    nativeProperty()\n], AnimationComponent.prototype, \"playCount\", null);\n__decorate([\n    nativeProperty()\n], AnimationComponent.prototype, \"speed\", null);\n__decorate([\n    enumerable()\n], AnimationComponent.prototype, \"state\", null);\n/**\n * Native mesh component.\n *\n * Provides access to a native mesh component instance.\n */\nexport class MeshComponent extends Component {\n    /** @override */\n    static TypeName = 'mesh';\n    /**\n     * Set material to render the mesh with.\n     *\n     * @param material Material to render the mesh with.\n     */\n    set material(material) {\n        this._engine.wasm._wl_mesh_component_set_material(this._id, material ? material._index : 0);\n    }\n    /** Material used to render the mesh. */\n    get material() {\n        const id = this._engine.wasm._wl_mesh_component_get_material(this._id);\n        return id > 0 ? new Material(this._engine, id) : null;\n    }\n    /** Mesh rendered by this component. */\n    get mesh() {\n        const id = this._engine.wasm._wl_mesh_component_get_mesh(this._id);\n        return id > 0 ? new Mesh(this._engine, id) : null;\n    }\n    /**\n     * Set mesh to rendered with this component.\n     *\n     * @param mesh Mesh rendered by this component.\n     */\n    set mesh(mesh) {\n        this._engine.wasm._wl_mesh_component_set_mesh(this._id, mesh ? mesh._index : 0);\n    }\n    /** Skin for this mesh component. */\n    get skin() {\n        const id = this._engine.wasm._wl_mesh_component_get_skin(this._id);\n        return id > 0 ? new Skin(this._engine, id) : null;\n    }\n    /**\n     * Set skin to transform this mesh component.\n     *\n     * @param skin Skin to use for rendering skinned meshes.\n     */\n    set skin(skin) {\n        this._engine.wasm._wl_mesh_component_set_skin(this._id, skin ? skin._index : 0);\n    }\n}\n__decorate([\n    nativeProperty()\n], MeshComponent.prototype, \"material\", null);\n__decorate([\n    nativeProperty()\n], MeshComponent.prototype, \"mesh\", null);\n__decorate([\n    nativeProperty()\n], MeshComponent.prototype, \"skin\", null);\n/**\n * Enum for Physics axes locking\n *\n * See {@link PhysXComponent.angularLockAxis} and {@link PhysXComponent.linearLockAxis}.\n */\nexport var LockAxis;\n(function (LockAxis) {\n    /**\n     * No axis selected.\n     */\n    LockAxis[LockAxis[\"None\"] = 0] = \"None\";\n    /**\n     * **X axis**:\n     */\n    LockAxis[LockAxis[\"X\"] = 1] = \"X\";\n    /**\n     * **Y axis**:\n     */\n    LockAxis[LockAxis[\"Y\"] = 2] = \"Y\";\n    /**\n     * **Z axis**:\n     */\n    LockAxis[LockAxis[\"Z\"] = 4] = \"Z\";\n})(LockAxis || (LockAxis = {}));\n/**\n * Native physx rigid body component.\n *\n * Provides access to a native mesh component instance.\n * Only available when using physx enabled runtime, see \"Project Settings > Runtime\".\n */\nexport class PhysXComponent extends Component {\n    /** @override */\n    static TypeName = 'physx';\n    /**\n     * Set whether this rigid body is static.\n     *\n     * Setting this property only takes effect once the component\n     * switches from inactive to active.\n     *\n     * @param b Whether the rigid body should be static.\n     */\n    set static(b) {\n        this._engine.wasm._wl_physx_component_set_static(this._id, b);\n    }\n    /**\n     * Whether this rigid body is static.\n     *\n     * This property returns whether the rigid body is *effectively*\n     * static. If static property was set while the rigid body was\n     * active, it will not take effect until the rigid body is set\n     * inactive and active again. Until the component is set inactive,\n     * this getter will return whether the rigid body is actually\n     * static.\n     */\n    get static() {\n        return !!this._engine.wasm._wl_physx_component_get_static(this._id);\n    }\n    /**\n     * Set whether this rigid body is kinematic.\n     *\n     * @param b Whether the rigid body should be kinematic.\n     */\n    set kinematic(b) {\n        this._engine.wasm._wl_physx_component_set_kinematic(this._id, b);\n    }\n    /**\n     * Whether this rigid body is kinematic.\n     */\n    get kinematic() {\n        return !!this._engine.wasm._wl_physx_component_get_kinematic(this._id);\n    }\n    /**\n     * Set whether this rigid body's gravity is enabled.\n     *\n     * @param b Whether the rigid body's gravity should be enabled.\n     */\n    set gravity(b) {\n        this._engine.wasm._wl_physx_component_set_gravity(this._id, b);\n    }\n    /**\n     * Whether this rigid body's gravity flag is enabled.\n     */\n    get gravity() {\n        return !!this._engine.wasm._wl_physx_component_get_gravity(this._id);\n    }\n    /**\n     * Set whether this rigid body's simulate flag is enabled.\n     *\n     * @param b Whether the rigid body's simulate flag should be enabled.\n     */\n    set simulate(b) {\n        this._engine.wasm._wl_physx_component_set_simulate(this._id, b);\n    }\n    /**\n     * Whether this rigid body's simulate flag is enabled.\n     */\n    get simulate() {\n        return !!this._engine.wasm._wl_physx_component_get_simulate(this._id);\n    }\n    /**\n     * Set whether to allow simulation of this rigid body.\n     *\n     * {@link #allowSimulation} and {@link #trigger} can not be enabled at the\n     * same time. Enabling {@link #allowSimulation} while {@link trigger} is enabled\n     * will disable {@link #trigger}.\n     *\n     * @param b Whether to allow simulation of this rigid body.\n     */\n    set allowSimulation(b) {\n        this._engine.wasm._wl_physx_component_set_allowSimulation(this._id, b);\n    }\n    /**\n     * Whether to allow simulation of this rigid body.\n     */\n    get allowSimulation() {\n        return !!this._engine.wasm._wl_physx_component_get_allowSimulation(this._id);\n    }\n    /**\n     * Set whether this rigid body may be queried in ray casts.\n     *\n     * @param b Whether this rigid body may be queried in ray casts.\n     */\n    set allowQuery(b) {\n        this._engine.wasm._wl_physx_component_set_allowQuery(this._id, b);\n    }\n    /**\n     * Whether this rigid body may be queried in ray casts.\n     */\n    get allowQuery() {\n        return !!this._engine.wasm._wl_physx_component_get_allowQuery(this._id);\n    }\n    /**\n     * Set whether this physics body is a trigger.\n     *\n     * {@link #allowSimulation} and {@link trigger} can not be enabled at the\n     * same time. Enabling trigger while {@link allowSimulation} is enabled,\n     * will disable {@link allowSimulation}.\n     *\n     * @param b Whether this physics body is a trigger.\n     */\n    set trigger(b) {\n        this._engine.wasm._wl_physx_component_set_trigger(this._id, b);\n    }\n    /**\n     * Whether this physics body is a trigger.\n     */\n    get trigger() {\n        return !!this._engine.wasm._wl_physx_component_get_trigger(this._id);\n    }\n    /**\n     * Set the shape for collision detection.\n     *\n     * @param s New shape.\n     * @since 0.8.5\n     */\n    set shape(s) {\n        this._engine.wasm._wl_physx_component_set_shape(this._id, s);\n    }\n    /** The shape for collision detection. */\n    get shape() {\n        return this._engine.wasm._wl_physx_component_get_shape(this._id);\n    }\n    /**\n     * Set additional data for the shape.\n     *\n     * Retrieved only from {@link PhysXComponent#shapeData}.\n     * @since 0.8.10\n     */\n    set shapeData(d) {\n        if (d == null || !isMeshShape(this.shape))\n            return;\n        this._engine.wasm._wl_physx_component_set_shape_data(this._id, d.index);\n    }\n    /**\n     * Additional data for the shape.\n     *\n     * `null` for {@link Shape} values: `None`, `Sphere`, `Capsule`, `Box`, `Plane`.\n     * `{index: n}` for `TriangleMesh` and `ConvexHull`.\n     *\n     * This data is currently only for passing onto or creating other {@link PhysXComponent}.\n     * @since 0.8.10\n     */\n    get shapeData() {\n        if (!isMeshShape(this.shape))\n            return null;\n        return { index: this._engine.wasm._wl_physx_component_get_shape_data(this._id) };\n    }\n    /**\n     * Set the shape extents for collision detection.\n     *\n     * @param e New extents for the shape.\n     * @since 0.8.5\n     */\n    set extents(e) {\n        this.extents.set(e);\n    }\n    /**\n     * The shape extents for collision detection.\n     */\n    get extents() {\n        const wasm = this._engine.wasm;\n        const ptr = wasm._wl_physx_component_get_extents(this._id);\n        return new Float32Array(wasm.HEAPF32.buffer, ptr, 3);\n    }\n    /**\n     * Get staticFriction.\n     */\n    get staticFriction() {\n        return this._engine.wasm._wl_physx_component_get_staticFriction(this._id);\n    }\n    /**\n     * Set staticFriction.\n     * @param v New staticFriction.\n     */\n    set staticFriction(v) {\n        this._engine.wasm._wl_physx_component_set_staticFriction(this._id, v);\n    }\n    /**\n     * Get dynamicFriction.\n     */\n    get dynamicFriction() {\n        return this._engine.wasm._wl_physx_component_get_dynamicFriction(this._id);\n    }\n    /**\n     * Set dynamicFriction\n     * @param v New dynamicDamping.\n     */\n    set dynamicFriction(v) {\n        this._engine.wasm._wl_physx_component_set_dynamicFriction(this._id, v);\n    }\n    /**\n     * Get bounciness.\n     * @since 0.9.0\n     */\n    get bounciness() {\n        return this._engine.wasm._wl_physx_component_get_bounciness(this._id);\n    }\n    /**\n     * Set bounciness.\n     * @param v New bounciness.\n     * @since 0.9.0\n     */\n    set bounciness(v) {\n        this._engine.wasm._wl_physx_component_set_bounciness(this._id, v);\n    }\n    /**\n     * Get linearDamping/\n     */\n    get linearDamping() {\n        return this._engine.wasm._wl_physx_component_get_linearDamping(this._id);\n    }\n    /**\n     * Set linearDamping.\n     * @param v New linearDamping.\n     */\n    set linearDamping(v) {\n        this._engine.wasm._wl_physx_component_set_linearDamping(this._id, v);\n    }\n    /** Get angularDamping. */\n    get angularDamping() {\n        return this._engine.wasm._wl_physx_component_get_angularDamping(this._id);\n    }\n    /**\n     * Set angularDamping.\n     * @param v New angularDamping.\n     */\n    set angularDamping(v) {\n        this._engine.wasm._wl_physx_component_set_angularDamping(this._id, v);\n    }\n    /**\n     * Set linear velocity.\n     *\n     * [PhysX Manual - \"Velocity\"](https://gameworksdocs.nvidia.com/PhysX/4.1/documentation/physxguide/Manual/RigidBodyDynamics.html#velocity)\n     *\n     * Has no effect, if the component is not active.\n     *\n     * @param v New linear velocity.\n     */\n    set linearVelocity(v) {\n        this._engine.wasm._wl_physx_component_set_linearVelocity(this._id, v[0], v[1], v[2]);\n    }\n    /** Linear velocity or `[0, 0, 0]` if the component is not active. */\n    get linearVelocity() {\n        const wasm = this._engine.wasm;\n        wasm._wl_physx_component_get_linearVelocity(this._id, wasm._tempMem);\n        return new Float32Array(wasm.HEAPF32.buffer, wasm._tempMem, 3);\n    }\n    /**\n     * Set angular velocity\n     *\n     * [PhysX Manual - \"Velocity\"](https://gameworksdocs.nvidia.com/PhysX/4.1/documentation/physxguide/Manual/RigidBodyDynamics.html#velocity)\n     *\n     * Has no effect, if the component is not active.\n     *\n     * @param v New angular velocity\n     */\n    set angularVelocity(v) {\n        this._engine.wasm._wl_physx_component_set_angularVelocity(this._id, v[0], v[1], v[2]);\n    }\n    /** Angular velocity or `[0, 0, 0]` if the component is not active. */\n    get angularVelocity() {\n        const wasm = this._engine.wasm;\n        wasm._wl_physx_component_get_angularVelocity(this._id, wasm._tempMem);\n        return new Float32Array(wasm.HEAPF32.buffer, wasm._tempMem, 3);\n    }\n    /**\n     * Set the components groups mask.\n     *\n     * @param flags New flags that need to be set.\n     */\n    set groupsMask(flags) {\n        this._engine.wasm._wl_physx_component_set_groupsMask(this._id, flags);\n    }\n    /**\n     * Get the components groups mask flags.\n     *\n     * Each bit represents membership to group, see example.\n     *\n     * ```js\n     * // Assign c to group 2\n     * c.groupsMask = (1 << 2);\n     *\n     * // Assign c to group 0\n     * c.groupsMask  = (1 << 0);\n     *\n     * // Assign c to group 0 and 2\n     * c.groupsMask = (1 << 0) | (1 << 2);\n     *\n     * (c.groupsMask & (1 << 2)) != 0; // true\n     * (c.groupsMask & (1 << 7)) != 0; // false\n     * ```\n     */\n    get groupsMask() {\n        return this._engine.wasm._wl_physx_component_get_groupsMask(this._id);\n    }\n    /**\n     * Set the components blocks mask.\n     *\n     * @param flags New flags that need to be set.\n     */\n    set blocksMask(flags) {\n        this._engine.wasm._wl_physx_component_set_blocksMask(this._id, flags);\n    }\n    /**\n     * Get the components blocks mask flags.\n     *\n     * Each bit represents membership to the block, see example.\n     *\n     * ```js\n     * // Block overlap with any objects in group 2\n     * c.blocksMask = (1 << 2);\n     *\n     * // Block overlap with any objects in group 0\n     * c.blocksMask  = (1 << 0)\n     *\n     * // Block overlap with any objects in group 0 and 2\n     * c.blocksMask = (1 << 0) | (1 << 2);\n     *\n     * (c.blocksMask & (1 << 2)) != 0; // true\n     * (c.blocksMask & (1 << 7)) != 0; // false\n     * ```\n     */\n    get blocksMask() {\n        return this._engine.wasm._wl_physx_component_get_blocksMask(this._id);\n    }\n    /**\n     * Set axes to lock for linear velocity.\n     *\n     * @param lock The Axis that needs to be set.\n     *\n     * Combine flags with Bitwise OR.\n     * ```js\n     * body.linearLockAxis = LockAxis.X | LockAxis.Y; // x and y set\n     * body.linearLockAxis = LockAxis.X; // y unset\n     * ```\n     *\n     * @note This has no effect if the component is static.\n     */\n    set linearLockAxis(lock) {\n        this._engine.wasm._wl_physx_component_set_linearLockAxis(this._id, lock);\n    }\n    /**\n     * Get the linear lock axes flags.\n     *\n     * To get the state of a specific flag, Bitwise AND with the LockAxis needed.\n     *\n     * ```js\n     * if(body.linearLockAxis & LockAxis.Y) {\n     *     console.log(\"The Y flag was set!\");\n     * }\n     * ```\n     *\n     * @return axes that are currently locked for linear movement.\n     */\n    get linearLockAxis() {\n        return this._engine.wasm._wl_physx_component_get_linearLockAxis(this._id);\n    }\n    /**\n     * Set axes to lock for angular velocity.\n     *\n     * @param lock The Axis that needs to be set.\n     *\n     * ```js\n     * body.angularLockAxis = LockAxis.X | LockAxis.Y; // x and y set\n     * body.angularLockAxis = LockAxis.X; // y unset\n     * ```\n     *\n     * @note This has no effect if the component is static.\n     */\n    set angularLockAxis(lock) {\n        this._engine.wasm._wl_physx_component_set_angularLockAxis(this._id, lock);\n    }\n    /**\n     * Get the angular lock axes flags.\n     *\n     * To get the state of a specific flag, Bitwise AND with the LockAxis needed.\n     *\n     * ```js\n     * if(body.angularLockAxis & LockAxis.Y) {\n     *     console.log(\"The Y flag was set!\");\n     * }\n     * ```\n     *\n     * @return axes that are currently locked for angular movement.\n     */\n    get angularLockAxis() {\n        return this._engine.wasm._wl_physx_component_get_angularLockAxis(this._id);\n    }\n    /**\n     * Set mass.\n     *\n     * [PhysX Manual - \"Mass Properties\"](https://gameworksdocs.nvidia.com/PhysX/4.1/documentation/physxguide/Manual/RigidBodyDynamics.html#mass-properties)\n     *\n     * @param m New mass.\n     */\n    set mass(m) {\n        this._engine.wasm._wl_physx_component_set_mass(this._id, m);\n    }\n    /** Mass */\n    get mass() {\n        return this._engine.wasm._wl_physx_component_get_mass(this._id);\n    }\n    /**\n     * Set mass space interia tensor.\n     *\n     * [PhysX Manual - \"Mass Properties\"](https://gameworksdocs.nvidia.com/PhysX/4.1/documentation/physxguide/Manual/RigidBodyDynamics.html#mass-properties)\n     *\n     * Has no effect, if the component is not active.\n     *\n     * @param v New mass space interatia tensor.\n     */\n    set massSpaceInteriaTensor(v) {\n        this._engine.wasm._wl_physx_component_set_massSpaceInertiaTensor(this._id, v[0], v[1], v[2]);\n    }\n    /**\n     * Apply a force.\n     *\n     * [PhysX Manual - \"Applying Forces and Torques\"](https://gameworksdocs.nvidia.com/PhysX/4.1/documentation/physxguide/Manual/RigidBodyDynamics.html#applying-forces-and-torques)\n     *\n     * Has no effect, if the component is not active.\n     *\n     * @param f Force vector.\n     * @param m Force mode, see {@link ForceMode}, default `Force`.\n     * @param localForce Whether the force vector is in local space, default `false`.\n     * @param p Position to apply force at, default is center of mass.\n     * @param local Whether position is in local space, default `false`.\n     */\n    addForce(f, m = ForceMode.Force, localForce = false, p, local = false) {\n        const wasm = this._engine.wasm;\n        if (!p) {\n            wasm._wl_physx_component_addForce(this._id, f[0], f[1], f[2], m, localForce);\n            return;\n        }\n        wasm._wl_physx_component_addForceAt(this._id, f[0], f[1], f[2], m, localForce, p[0], p[1], p[2], local);\n    }\n    /**\n     * Apply torque.\n     *\n     * [PhysX Manual - \"Applying Forces and Torques\"](https://gameworksdocs.nvidia.com/PhysX/4.1/documentation/physxguide/Manual/RigidBodyDynamics.html#applying-forces-and-torques)\n     *\n     * Has no effect, if the component is not active.\n     *\n     * @param f Force vector.\n     * @param m Force mode, see {@link ForceMode}, default `Force`.\n     */\n    addTorque(f, m = ForceMode.Force) {\n        this._engine.wasm._wl_physx_component_addTorque(this._id, f[0], f[1], f[2], m);\n    }\n    /**\n     * Add on collision callback.\n     *\n     * @param callback Function to call when this rigid body (un)collides with any other.\n     *\n     * ```js\n     *  let rigidBody = this.object.getComponent('physx');\n     *  rigidBody.onCollision(function(type, other) {\n     *      // Ignore uncollides\n     *      if(type == CollisionEventType.TouchLost) return;\n     *\n     *      // Take damage on collision with enemies\n     *      if(other.object.name.startsWith('enemy-')) {\n     *          this.applyDamage(10);\n     *      }\n     *  }.bind(this));\n     * ```\n     *\n     * @returns Id of the new callback for use with {@link PhysXComponent#removeCollisionCallback}.\n     */\n    onCollision(callback) {\n        return this.onCollisionWith(this, callback);\n    }\n    /**\n     * Add filtered on collision callback.\n     *\n     * @param otherComp Component for which callbacks will\n     *        be triggered. If you pass this component, the method is equivalent to.\n     *        {@link PhysXComponent#onCollision}.\n     * @param callback Function to call when this rigid body\n     *        (un)collides with `otherComp`.\n     * @returns Id of the new callback for use with {@link PhysXComponent#removeCollisionCallback}.\n     */\n    onCollisionWith(otherComp, callback) {\n        const physics = this._engine.physics;\n        physics._callbacks[this._id] = physics._callbacks[this._id] || [];\n        physics._callbacks[this._id].push(callback);\n        return this._engine.wasm._wl_physx_component_addCallback(this._id, otherComp._id || this._id);\n    }\n    /**\n     * Remove a collision callback added with {@link PhysXComponent#onCollision} or {@link PhysXComponent#onCollisionWith}.\n     *\n     * @param callbackId Callback id as returned by {@link PhysXComponent#onCollision} or {@link PhysXComponent#onCollisionWith}.\n     * @throws When the callback does not belong to the component.\n     * @throws When the callback does not exist.\n     */\n    removeCollisionCallback(callbackId) {\n        const physics = this._engine.physics;\n        const r = this._engine.wasm._wl_physx_component_removeCallback(this._id, callbackId);\n        /* r is the amount of object to remove from the end of the\n         * callbacks array for this object */\n        if (r)\n            physics._callbacks[this._id].splice(-r);\n    }\n}\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"static\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"kinematic\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"gravity\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"simulate\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"allowSimulation\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"allowQuery\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"trigger\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"shape\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"shapeData\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"extents\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"staticFriction\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"dynamicFriction\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"bounciness\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"linearDamping\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"angularDamping\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"linearVelocity\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"angularVelocity\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"groupsMask\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"blocksMask\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"linearLockAxis\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"angularLockAxis\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"mass\", null);\n/**\n * Access to the physics scene\n */\nexport class Physics {\n    /**\n     * @hidden\n     *\n     * **Note**: This is public to emulate a `friend` accessor.\n     */\n    _callbacks;\n    /** Wonderland Engine instance */\n    _engine;\n    /** Ray Hit */\n    _rayHit;\n    /** Hit. */\n    _hit;\n    constructor(engine) {\n        this._engine = engine;\n        this._rayHit = engine.wasm._malloc(4 * (3 * 4 + 3 * 4 + 4 + 2) + 4);\n        this._hit = new RayHit(this._engine, this._rayHit);\n        this._callbacks = {};\n    }\n    /**\n     * Cast a ray through the physics scene and find intersecting objects.\n     *\n     * The resulting ray hit will contain **up to 4** closest ray hits,\n     * sorted by increasing distance.\n     *\n     * @param o Ray origin.\n     * @param d Ray direction.\n     * @param group Collision group to filter by: only objects that are\n     *        part of given group are considered for raycast.\n     * @param maxDistance Maximum ray distance, default `100.0`.\n     *\n     * @returns The RayHit instance, belonging to this class.\n     *\n     * @note The returned {@link RayHit} object is owned by the Physics instance and\n     *       will be reused with the next {@link Physics#rayCast} call.\n     */\n    rayCast(o, d, group, maxDistance = 100.0) {\n        this._engine.wasm._wl_physx_ray_cast(o[0], o[1], o[2], d[0], d[1], d[2], group, maxDistance, this._rayHit);\n        return this._hit;\n    }\n}\n/**\n * Mesh index type.\n */\nexport var MeshIndexType;\n(function (MeshIndexType) {\n    /** Single byte mesh index, range 0-255 */\n    MeshIndexType[MeshIndexType[\"UnsignedByte\"] = 1] = \"UnsignedByte\";\n    /** Two byte mesh index, range 0-65535 */\n    MeshIndexType[MeshIndexType[\"UnsignedShort\"] = 2] = \"UnsignedShort\";\n    /** Four byte mesh index, range 0-4294967295 */\n    MeshIndexType[MeshIndexType[\"UnsignedInt\"] = 4] = \"UnsignedInt\";\n})(MeshIndexType || (MeshIndexType = {}));\n/**\n * Wrapper around a native mesh data.\n *\n * To modify a mesh, you get access to a {@link MeshAttributeAccessor} that allows you to modify\n * the content of the buffers:\n *\n * Usage:\n *\n * ```js\n * const mesh = new Mesh(engine, {vertexCount: 3, indexData: [0, 1, 2] });\n * const positions = mesh.attribute(MeshAttribute.Position);\n * ...\n * ```\n */\nexport class Mesh {\n    /**\n     * Index of the mesh in the manager.\n     *\n     * @hidden\n     */\n    _index = -1;\n    /** Wonderland Engine instance. @hidden */\n    _engine;\n    /**\n     * Create a new instance.\n     *\n     * @param params Either a mesh index to wrap or set of parameters to create a new mesh.\n     *    For more information, please have a look at the {@link MeshParameters} interface.\n     */\n    constructor(engine, params) {\n        this._engine = engine ?? WL;\n        this._index = -1;\n        if (isNumber(params)) {\n            this._index = params;\n            return;\n        }\n        if (!params.vertexCount)\n            throw new Error(\"Missing parameter 'vertexCount'\");\n        const wasm = this._engine.wasm;\n        let indexData = 0;\n        let indexType = 0;\n        let indexDataSize = 0;\n        if (params.indexData) {\n            indexType = params.indexType || MeshIndexType.UnsignedShort;\n            indexDataSize = params.indexData.length * indexType;\n            indexData = wasm._malloc(indexDataSize);\n            /* Copy the index data into wasm memory */\n            switch (indexType) {\n                case MeshIndexType.UnsignedByte:\n                    wasm.HEAPU8.set(params.indexData, indexData);\n                    break;\n                case MeshIndexType.UnsignedShort:\n                    wasm.HEAPU16.set(params.indexData, indexData >> 1);\n                    break;\n                case MeshIndexType.UnsignedInt:\n                    wasm.HEAPU32.set(params.indexData, indexData >> 2);\n                    break;\n            }\n        }\n        const { skinned = false } = params;\n        this._index = wasm._wl_mesh_create(indexData, indexDataSize, indexType, params.vertexCount, skinned);\n    }\n    /** Number of vertices in this mesh. */\n    get vertexCount() {\n        return this._engine.wasm._wl_mesh_get_vertexCount(this._index);\n    }\n    /** Index data (read-only) or `null` if the mesh is not indexed. */\n    get indexData() {\n        const wasm = this._engine.wasm;\n        const tempMem = wasm._tempMem;\n        const ptr = wasm._wl_mesh_get_indexData(this._index, tempMem, tempMem + 4);\n        if (ptr === null)\n            return null;\n        const indexCount = wasm.HEAPU32[tempMem / 4];\n        const indexSize = wasm.HEAPU32[tempMem / 4 + 1];\n        switch (indexSize) {\n            case MeshIndexType.UnsignedByte:\n                return new Uint8Array(wasm.HEAPU8.buffer, ptr, indexCount);\n            case MeshIndexType.UnsignedShort:\n                return new Uint16Array(wasm.HEAPU16.buffer, ptr, indexCount);\n            case MeshIndexType.UnsignedInt:\n                return new Uint32Array(wasm.HEAPU32.buffer, ptr, indexCount);\n        }\n        return null;\n    }\n    /** Hosting engine instance. */\n    get engine() {\n        return this._engine;\n    }\n    /**\n     * Apply changes to {@link attribute | vertex attributes}.\n     *\n     * Uploads the updated vertex attributes to the GPU and updates the bounding\n     * sphere to match the new vertex positions.\n     *\n     * Since this is an expensive operation, call it only once you have performed\n     * all modifications on a mesh and avoid calling if you did not perform any\n     * modifications at all.\n     */\n    update() {\n        this._engine.wasm._wl_mesh_update(this._index);\n    }\n    /**\n     * Mesh bounding sphere.\n     *\n     * @param out Preallocated array to write into, to avoid garbage,\n     *     otherwise will allocate a new {@link Float32Array}.\n     *\n     * ```js\n     *  const sphere = new Float32Array(4);\n     *  for(...) {\n     *      mesh.getBoundingSphere(sphere);\n     *      ...\n     *  }\n     * ```\n     *\n     * If the position data is changed, call {@link Mesh#update} to update the\n     * bounding sphere.\n     *\n     * @returns Bounding sphere, 0-2 sphere origin, 3 radius.\n     */\n    getBoundingSphere(out = new Float32Array(4)) {\n        const tempMemFloat = this._engine.wasm._tempMemFloat;\n        this._engine.wasm._wl_mesh_get_boundingSphere(this._index, this._engine.wasm._tempMem);\n        out[0] = tempMemFloat[0];\n        out[1] = tempMemFloat[1];\n        out[2] = tempMemFloat[2];\n        out[3] = tempMemFloat[3];\n        return out;\n    }\n    attribute(attr) {\n        if (typeof attr != 'number')\n            throw new TypeError('Expected number, but got ' + typeof attr);\n        const tempMemUint32 = this._engine.wasm._tempMemUint32;\n        this._engine.wasm._wl_mesh_get_attribute(this._index, attr, this._engine.wasm._tempMem);\n        if (tempMemUint32[0] == 255)\n            return null;\n        const arraySize = tempMemUint32[5];\n        return new MeshAttributeAccessor(this._engine, {\n            attribute: tempMemUint32[0],\n            offset: tempMemUint32[1],\n            stride: tempMemUint32[2],\n            formatSize: tempMemUint32[3],\n            componentCount: tempMemUint32[4],\n            /* The WASM API returns `0` for a scalar value. We clamp it to 1 as we strictly use it as a multiplier for get/set operations */\n            arraySize: arraySize ? arraySize : 1,\n            length: this.vertexCount,\n            bufferType: (attr !== MeshAttribute.JointId\n                ? Float32Array\n                : Uint16Array),\n        });\n    }\n    /**\n     * Destroy and free the meshes memory.\n     *\n     * It is best practice to set the mesh variable to `null` after calling\n     * destroy to prevent accidental use:\n     *\n     * ```js\n     *   mesh.destroy();\n     *   mesh = null;\n     * ```\n     *\n     * Accessing the mesh after destruction behaves like accessing an empty\n     * mesh.\n     *\n     * @since 0.9.0\n     */\n    destroy() {\n        this._engine.wasm._wl_mesh_destroy(this._index);\n    }\n    /**\n     * Checks equality by comparing whether the wrapped native mesh ids are\n     * equal.\n     *\n     * @param otherMesh Mesh to check equality with.\n     * @returns Whether this mesh equals the given mesh.\n     *\n     * @since 1.0.0\n     */\n    equals(otherMesh) {\n        if (!otherMesh)\n            return false;\n        return this._index === otherMesh._index;\n    }\n}\n/**\n * An iterator over a mesh vertex attribute.\n *\n * Usage:\n *\n * ```js\n *   const mesh = this.object.getComponent('mesh').mesh;\n *   const positions = mesh.attribute(WL.MeshAttribute.Position);\n *\n *   const temp = new Float32Array(3);\n *   for(int i = 0; i < positions.length; ++i) {\n *       // pos will reference temp and thereby not allocate additional\n *       // JavaScript garbage, which would cause a perf spike when collected.\n *       const pos = positions.get(i, temp);\n *       // scale position by 2 on X axis only\n *       pos[0] *= 2.0f;\n *       positions.set(i, pos);\n *   }\n *   // we're done modifying, tell the engine to move vertex data to the GPU\n *   mesh.update();\n * ```\n */\nexport class MeshAttributeAccessor {\n    /** Max number of elements. */\n    length = 0;\n    /** Wonderland Engine instance. @hidden */\n    _engine;\n    /** Attribute index. @hidden */\n    _attribute = -1;\n    /** Attribute offset. @hidden */\n    _offset = 0;\n    /** Attribute stride. @hidden */\n    _stride = 0;\n    /** Format size native enum. @hidden */\n    _formatSize = 0;\n    /** Number of components per vertex. @hidden */\n    _componentCount = 0;\n    /** Number of values per vertex. @hidden */\n    _arraySize = 1;\n    /**\n     * Class to instantiate an ArrayBuffer to get/set values.\n     */\n    _bufferType;\n    /**\n     * Function to allocate temporary WASM memory. It is cached in the accessor to avoid\n     * conditionals during get/set.\n     */\n    _tempBufferGetter;\n    /**\n     * Create a new instance.\n     *\n     * @note Please use {@link Mesh.attribute} to create a new instance.\n     *\n     * @param options Contains information about how to read the data.\n     * @note Do not use this constructor. Instead, please use the {@link Mesh.attribute} method.\n     *\n     * @hidden\n     */\n    constructor(engine, options) {\n        this._engine = engine;\n        const wasm = this._engine.wasm;\n        this._attribute = options.attribute;\n        this._offset = options.offset;\n        this._stride = options.stride;\n        this._formatSize = options.formatSize;\n        this._componentCount = options.componentCount;\n        this._arraySize = options.arraySize;\n        this._bufferType = options.bufferType;\n        this.length = options.length;\n        this._tempBufferGetter = (this._bufferType === Float32Array\n            ? wasm.getTempBufferF32.bind(wasm)\n            : wasm.getTempBufferU16.bind(wasm));\n    }\n    /**\n     * Create a new TypedArray to hold this attribute values.\n     *\n     * This method is useful to create a view to hold the data to\n     * pass to {@link MeshAttributeAccessor.get} and {@link MeshAttributeAccessor.set}\n     *\n     * Example:\n     *\n     * ```js\n     * const vertexCount = 4;\n     * const positionAttribute = mesh.attribute(MeshAttributes.Position);\n     *\n     * // A position has 3 floats per vertex. Thus, positions has length 3 * 4.\n     * const positions = positionAttribute.createArray(vertexCount);\n     * ```\n     *\n     * @param count The number of **vertices** expected.\n     * @returns A TypedArray with the appropriate format to access the data\n     */\n    createArray(count = 1) {\n        count = count > this.length ? this.length : count;\n        return new this._bufferType(count * this._componentCount * this._arraySize);\n    }\n    /**\n     * Get attribute element.\n     *\n     * @param index Index\n     * @param out Preallocated array to write into,\n     *      to avoid garbage, otherwise will allocate a new TypedArray.\n     *\n     * `out.length` needs to be a multiple of the attributes component count, see\n     * {@link MeshAttribute}. If `out.length` is more than one multiple, it will be\n     * filled with the next n attribute elements, which can reduce overhead\n     * of this call.\n     *\n     * @returns The `out` parameter\n     */\n    get(index, out = this.createArray()) {\n        if (out.length % this._componentCount !== 0) {\n            throw new Error(`out.length, ${out.length} is not a multiple of the attribute vector components, ${this._componentCount}`);\n        }\n        const dest = this._tempBufferGetter(out.length);\n        const elementSize = this._bufferType.BYTES_PER_ELEMENT;\n        const destSize = elementSize * out.length;\n        const srcFormatSize = this._formatSize * this._arraySize;\n        const destFormatSize = this._componentCount * elementSize * this._arraySize;\n        this._engine.wasm._wl_mesh_get_attribute_values(this._attribute, srcFormatSize, this._offset + index * this._stride, this._stride, destFormatSize, dest.byteOffset, destSize);\n        for (let i = 0; i < out.length; ++i)\n            out[i] = dest[i];\n        return out;\n    }\n    /**\n     * Set attribute element.\n     *\n     * @param i Index\n     * @param v Value to set the element to\n     *\n     * `v.length` needs to be a multiple of the attributes component count, see\n     * {@link MeshAttribute}. If `v.length` is more than one multiple, it will be\n     * filled with the next n attribute elements, which can reduce overhead\n     * of this call.\n     *\n     * @returns Reference to self (for method chaining)\n     */\n    set(i, v) {\n        if (v.length % this._componentCount !== 0)\n            throw new Error(`out.length, ${v.length} is not a multiple of the attribute vector components, ${this._componentCount}`);\n        const elementSize = this._bufferType.BYTES_PER_ELEMENT;\n        const srcSize = elementSize * v.length;\n        const srcFormatSize = this._componentCount * elementSize * this._arraySize;\n        const destFormatSize = this._formatSize * this._arraySize;\n        const wasm = this._engine.wasm;\n        /* Unless we are already working with data from WASM heap, we\n         * need to copy into temporary memory. */\n        if (v.buffer != wasm.HEAPU8.buffer) {\n            const dest = this._tempBufferGetter(v.length);\n            dest.set(v);\n            v = dest;\n        }\n        wasm._wl_mesh_set_attribute_values(this._attribute, srcFormatSize, v.byteOffset, srcSize, destFormatSize, this._offset + i * this._stride, this._stride);\n        return this;\n    }\n}\n/**\n * Wrapper around a native material.\n *\n * Each material instance will have properties associated to the pipeline it uses.\n * The material properties are automatically added to each material instance, example:\n *\n * ```js\n * const material = mesh.material; // Material with a `Phong Opaque Textured` pipeline\n * // You can access all the material properties from the editor using:\n * material.diffuseTexture = null;\n * material.diffuseColor = [1.0, 0.0, 0.0, 1.0];\n * ```\n */\nexport class Material {\n    /**\n     * Index of this material in the manager.\n     *\n     * @hidden\n     */\n    _index;\n    /**\n     * Material definition index in the scene.\n     *\n     * @hidden\n     */\n    _definition;\n    /** Wonderland Engine instance. @hidden */\n    _engine;\n    /**\n     * Create a new Material.\n     *\n     * @note Creating material is expensive. Please use {@link Material#clone} to clone a material.\n     * @note Do not use this constructor directly with an index, this is reserved for internal purposes.\n     */\n    constructor(engine, params) {\n        this._engine = engine;\n        if (typeof params !== 'number') {\n            if (!params?.pipeline)\n                throw new Error(\"Missing parameter 'pipeline'\");\n            const wasm = this._engine.wasm;\n            const pipeline = params.pipeline;\n            this._index = wasm._wl_material_create(wasm.tempUTF8(pipeline));\n            if (this._index < 0)\n                throw new Error(`No such pipeline '${pipeline}'`);\n        }\n        else {\n            this._index = params;\n        }\n        this._definition = this._engine.wasm._wl_material_get_definition(this._index);\n        if (!this._engine.wasm._materialDefinitions[this._definition])\n            throw new Error(`Material Definition ${this._definition} not found for material with index ${this._index}`);\n        return new Proxy(this, {\n            get(target, prop) {\n                const wasm = engine.wasm;\n                const definition = wasm._materialDefinitions[target._definition];\n                const param = definition.get(prop);\n                if (!param)\n                    return target[prop];\n                if (wasm._wl_material_get_param_value(target._index, param.index, wasm._tempMem)) {\n                    const type = param.type;\n                    switch (type.type) {\n                        case MaterialParamType.UnsignedInt:\n                            return type.componentCount == 1\n                                ? wasm._tempMemUint32[0]\n                                : new Uint32Array(wasm.HEAPU32.buffer, wasm._tempMem, type.componentCount);\n                        case MaterialParamType.Int:\n                            return type.componentCount == 1\n                                ? wasm._tempMemInt[0]\n                                : new Int32Array(wasm.HEAP32.buffer, wasm._tempMem, type.componentCount);\n                        case MaterialParamType.Float:\n                            return type.componentCount == 1\n                                ? wasm._tempMemFloat[0]\n                                : new Float32Array(wasm.HEAPF32.buffer, wasm._tempMem, type.componentCount);\n                        case MaterialParamType.Sampler:\n                            return new Texture(engine, wasm._tempMemInt[0]);\n                        default:\n                            throw new Error(`Invalid type ${type} on parameter ${param.index} for material ${target._index}`);\n                    }\n                }\n            },\n            set(target, prop, value) {\n                const wasm = engine.wasm;\n                const definition = wasm._materialDefinitions[target._definition];\n                const param = definition.get(prop);\n                if (!param) {\n                    target[prop] = value;\n                    return true;\n                }\n                const type = param.type;\n                switch (type.type) {\n                    case MaterialParamType.UnsignedInt:\n                    case MaterialParamType.Int:\n                    case MaterialParamType.Sampler:\n                        const v = value.id ?? value;\n                        wasm._wl_material_set_param_value_uint(target._index, param.index, v);\n                        break;\n                    case MaterialParamType.Float:\n                        let count = 1;\n                        if (typeof value === 'number') {\n                            wasm._tempMemFloat[0] = value;\n                        }\n                        else {\n                            count = value.length;\n                            for (let i = 0; i < count; ++i)\n                                wasm._tempMemFloat[i] = value[i];\n                        }\n                        wasm._wl_material_set_param_value_float(target._index, param.index, wasm._tempMem, count);\n                        break;\n                    case MaterialParamType.Font:\n                        throw new Error('Setting font properties is currently unsupported.');\n                }\n                return true;\n            },\n        });\n    }\n    /** @deprecated Use {@link #pipeline} instead. */\n    get shader() {\n        return this.pipeline;\n    }\n    /** Name of the pipeline used by this material. */\n    get pipeline() {\n        const wasm = this._engine.wasm;\n        return wasm.UTF8ToString((wasm._wl_material_get_pipeline || wasm._wl_material_get_shader)(this._index));\n    }\n    /** Hosting engine instance. */\n    get engine() {\n        return this._engine;\n    }\n    /**\n     * Create a copy of the underlying native material.\n     *\n     * @returns Material clone.\n     */\n    clone() {\n        const id = this._engine.wasm._wl_material_clone(this._index);\n        return id > 0 ? new Material(this._engine, id) : null;\n    }\n    /**\n     * Checks equality by comparing whether the wrapped native material ids are\n     * equal.\n     *\n     * @param otherMaterial Material to check equality with.\n     * @returns Whether this material equals the given material.\n     *\n     * @since 1.0.0\n     */\n    equals(otherMaterial) {\n        if (!otherMaterial)\n            return false;\n        return this._index === otherMaterial._index;\n    }\n    /**\n     * Wrap a native material index.\n     *\n     * @param engine Engine instance.\n     * @param index The index.\n     * @returns Material instance or `null` if index <= 0.\n     *\n     * @deprecated Please use `new Material()` instead.\n     */\n    static wrap(engine, index) {\n        /** @todo: this propagate nullable in the entire codebase. Remove. */\n        return index > 0 ? new Material(engine, index) : null;\n    }\n}\n/** Temporary canvas */\nlet temp2d = null;\n/**\n * Wrapper around a native texture data.\n */\nexport class Texture {\n    /** Wonderland Engine instance. @hidden */\n    _engine;\n    /** Index in the manager. @hidden */\n    _id = 0;\n    /** HTML image index. @hidden */\n    _imageIndex = null;\n    /**\n     * @param engine The engine instance\n     * @param param HTML media element to create texture from or texture id to wrap.\n     */\n    constructor(engine, param) {\n        this._engine = engine ?? WL;\n        const wasm = engine.wasm;\n        if (param instanceof HTMLImageElement ||\n            param instanceof HTMLVideoElement ||\n            param instanceof HTMLCanvasElement) {\n            const index = wasm._images.length;\n            wasm._images.push(param);\n            this._imageIndex = index;\n            this._id = this._engine.wasm._wl_renderer_addImage(index);\n        }\n        else {\n            this._id = param;\n        }\n        this._engine.textures[this._id] = this;\n    }\n    /** Whether this texture is valid. */\n    get valid() {\n        return this._id >= 0;\n    }\n    /** Index in this manager. */\n    get id() {\n        return this._id;\n    }\n    /** Update the texture to match the HTML element (e.g. reflect the current frame of a video). */\n    update() {\n        if (!this.valid || this._imageIndex === null)\n            return;\n        this._engine.wasm._wl_renderer_updateImage(this._id, this._imageIndex);\n    }\n    /** Width of the texture. */\n    get width() {\n        return this._engine.wasm._wl_texture_width(this._id);\n    }\n    /** Height of the texture. */\n    get height() {\n        return this._engine.wasm._wl_texture_height(this._id);\n    }\n    /** Hosting engine instance. */\n    get engine() {\n        return this._engine;\n    }\n    /**\n     * Update a subrange on the texture to match the HTML element (e.g. reflect the current frame of a video).\n     *\n     * Usage:\n     *\n     * ```js\n     * // Copies rectangle of pixel starting from (10, 20)\n     * texture.updateSubImage(10, 20, 600, 400);\n     * ```\n     *\n     * @param x x offset\n     * @param y y offset\n     * @param w width\n     * @param h height\n     */\n    updateSubImage(x, y, w, h) {\n        if (!this.valid || this._imageIndex === null)\n            return;\n        /* Lazy initialize temp canvas */\n        if (!temp2d) {\n            const canvas = document.createElement('canvas');\n            const ctx = canvas.getContext('2d');\n            if (!ctx) {\n                throw new Error('Texture.updateSubImage(): Failed to obtain CanvasRenderingContext2D.');\n            }\n            temp2d = { canvas, ctx };\n        }\n        const wasm = this._engine.wasm;\n        const img = wasm._images[this._imageIndex];\n        if (!img)\n            return;\n        temp2d.canvas.width = w;\n        temp2d.canvas.height = h;\n        temp2d.ctx.drawImage(img, x, y, w, h, 0, 0, w, h);\n        const yOffset = (img.videoHeight ?? img.height) - y - h;\n        wasm._images[this._imageIndex] = temp2d.canvas;\n        wasm._wl_renderer_updateImage(this._id, this._imageIndex, x, yOffset);\n        wasm._images[this._imageIndex] = img;\n    }\n    /**\n     * Destroy and free the texture's texture altas space and memory.\n     *\n     * It is best practice to set the texture variable to `null` after calling\n     * destroy to prevent accidental use of the invalid texture:\n     *\n     * ```js\n     *   texture.destroy();\n     *   texture = null;\n     * ```\n     *\n     * @since 0.9.0\n     */\n    destroy() {\n        this._engine.wasm._wl_texture_destroy(this._id);\n        if (this._imageIndex !== null) {\n            this._engine.wasm._images[this._imageIndex] = null;\n            this._imageIndex = undefined;\n        }\n    }\n    /**\n     * Checks equality by comparing whether the wrapped native texture ids are\n     * equal.\n     *\n     * @param otherTexture Texture to check equality with.\n     * @returns Whether this texture equals the given texture.\n     *\n     * @since 1.0.0\n     */\n    equals(otherTexture) {\n        if (!otherTexture)\n            return false;\n        return this._id === otherTexture._id;\n    }\n}\n/**\n * Wrapper around a native animation.\n */\nexport class Animation {\n    /** Index of the mesh in the manager. @hidden */\n    _index;\n    /** Wonderland Engine instance. @hidden */\n    _engine;\n    /**\n     * @param index Index in the manager\n     */\n    constructor(engine = WL, index) {\n        this._engine = engine;\n        this._index = index;\n    }\n    /** Duration of this animation. */\n    get duration() {\n        return this._engine.wasm._wl_animation_get_duration(this._index);\n    }\n    /** Number of tracks in this animation. */\n    get trackCount() {\n        return this._engine.wasm._wl_animation_get_trackCount(this._index);\n    }\n    /**\n     * Clone this animation retargeted to a new set of objects.\n     *\n     * The clone shares most of the data with the original and is therefore\n     * light-weight.\n     *\n     * **Experimental:** This API might change in upcoming versions.\n     *\n     * If retargeting to {@link Skin}, the join names will be used to determine a mapping\n     * from the previous skin to the new skin. The source skin will be retrieved from\n     * the first track in the animation that targets a joint.\n     *\n     * @param newTargets New targets per track. Expected to have\n     *      {@link Animation#trackCount} elements or to be a {@link Skin}.\n     * @returns The retargeted clone of this animation.\n     */\n    retarget(newTargets) {\n        const wasm = this._engine.wasm;\n        if (newTargets instanceof Skin) {\n            const animId = wasm._wl_animation_retargetToSkin(this._index, newTargets._index);\n            return new Animation(this._engine, animId);\n        }\n        if (newTargets.length != this.trackCount) {\n            throw Error('Expected ' +\n                this.trackCount.toString() +\n                ' targets, but got ' +\n                newTargets.length.toString());\n        }\n        const ptr = wasm._malloc(2 * newTargets.length);\n        for (let i = 0; i < newTargets.length; ++i) {\n            wasm.HEAPU16[ptr >> (1 + i)] = newTargets[i].objectId;\n        }\n        const animId = wasm._wl_animation_retarget(this._index, ptr);\n        wasm._free(ptr);\n        return new Animation(this._engine, animId);\n    }\n    /**\n     * Checks equality by comparing whether the wrapped native animation ids\n     * are equal.\n     *\n     * @param otherAnimation Animation to check equality with.\n     * @returns Whether this animation equals the given animation.\n     *\n     * @since 1.0.0\n     */\n    equals(otherAnimation) {\n        if (!otherAnimation)\n            return false;\n        return this._index === otherAnimation._index;\n    }\n}\n/**\n * Scene graph object.\n *\n * Node in the scene graph or \"entity\". Consists of transformation and a reference\n * to its parent object. Usually holds components and is accessible by components\n * through {@link Component#object}.\n *\n * Objects are stored in a data oriented manner inside WebAssembly memory. This class\n * is a JavaScript API wrapper around this memory for more convenient use in\n * components.\n *\n * Objects can be created and added to a scene through\n * {@link Scene#addObject} on the {@link WonderlandEngine.scene}.\n */\nexport class Object3D {\n    /** Wonderland Engine instance. @hidden */\n    _engine;\n    /**\n     * Object index in the manager.\n     *\n     * @hidden\n     */\n    _objectId = -1;\n    /**\n     * @param o Object id to wrap\n     *\n     * For performance reasons, please use {@link WonderlandEngine.wrapObject}\n     */\n    constructor(engine, o) {\n        this._objectId = o;\n        this._engine = engine;\n    }\n    /**\n     * Name of the object.\n     *\n     * Useful for identifying objects during debugging.\n     */\n    get name() {\n        const wasm = this._engine.wasm;\n        return wasm.UTF8ToString(wasm._wl_object_name(this.objectId));\n    }\n    /**\n     * Set the object's name.\n     *\n     * @param newName The new name to set.\n     */\n    set name(newName) {\n        const wasm = this._engine.wasm;\n        wasm._wl_object_set_name(this.objectId, wasm.tempUTF8(newName));\n    }\n    /**\n     * Parent of this object or `null` if parented to root.\n     */\n    get parent() {\n        const p = this._engine.wasm._wl_object_parent(this.objectId);\n        return p === 0 ? null : this._engine.wrapObject(p);\n    }\n    /**\n     * Children of this object.\n     */\n    get children() {\n        const childrenCount = this._engine.wasm._wl_object_get_children_count(this.objectId);\n        if (childrenCount === 0)\n            return [];\n        const wasm = this._engine.wasm;\n        wasm.requireTempMem(childrenCount * 2);\n        this._engine.wasm._wl_object_get_children(this.objectId, wasm._tempMem, wasm._tempMemSize >> 1);\n        const children = new Array(childrenCount);\n        for (let i = 0; i < childrenCount; ++i) {\n            children[i] = this._engine.wrapObject(wasm._tempMemUint16[i]);\n        }\n        return children;\n    }\n    /**\n     * Reparent object to given object.\n     *\n     * @note Reparenting is not trivial and might have a noticeable performance impact.\n     *\n     * @param newParent New parent or `null` to parent to root\n     */\n    set parent(newParent) {\n        this._engine.wasm._wl_object_set_parent(this.objectId, newParent == null ? 0 : newParent.objectId);\n    }\n    /** Object index in the manager. */\n    get objectId() {\n        return this._objectId;\n    }\n    /** Hosting engine instance. */\n    get engine() {\n        return this._engine;\n    }\n    /** Reset local transformation (translation, rotation and scaling) to identity. */\n    resetTransform() {\n        this._engine.wasm._wl_object_reset_translation_rotation(this.objectId);\n        this._engine.wasm._wl_object_reset_scaling(this.objectId);\n    }\n    /** Reset local translation and rotation to identity */\n    resetTranslationRotation() {\n        this._engine.wasm._wl_object_reset_translation_rotation(this.objectId);\n    }\n    /**\n     * Reset local rotation, keep translation.\n     * @note To reset both rotation and translation, prefer\n     *       {@link resetTranslationRotation}.\n     */\n    resetRotation() {\n        this._engine.wasm._wl_object_reset_rotation(this.objectId);\n    }\n    /**\n     * Reset local translation, keep rotation.\n     * @note To reset both rotation and translation, prefer\n     *       {@link resetTranslationRotation}.\n     */\n    resetTranslation() {\n        this._engine.wasm._wl_object_reset_translation(this.objectId);\n    }\n    /** Reset local scaling to identity (``[1.0, 1.0, 1.0]``). */\n    resetScaling() {\n        this._engine.wasm._wl_object_reset_scaling(this.objectId);\n    }\n    /**\n     * Translate object by a vector in the parent's space.\n     * @param v Vector to translate by.\n     */\n    translate(v) {\n        this._engine.wasm._wl_object_translate(this.objectId, v[0], v[1], v[2]);\n    }\n    /**\n     * Translate object by a vector in object space.\n     * @param v Vector to translate by.\n     */\n    translateObject(v) {\n        this._engine.wasm._wl_object_translate_obj(this.objectId, v[0], v[1], v[2]);\n    }\n    /**\n     * Translate object by a vector in world space.\n     * @param v Vector to translate by.\n     */\n    translateWorld(v) {\n        this._engine.wasm._wl_object_translate_world(this.objectId, v[0], v[1], v[2]);\n    }\n    /**\n     * Rotate around given axis by given angle (degrees) in local space.\n     *\n     * @param a Vector representing the rotation axis.\n     * @param d Angle in degrees.\n     *\n     * @note If the object is translated the rotation will be around\n     *     the parent. To rotate around the object origin, use\n     *     {@link rotateAxisAngleDegObject}\n     *\n     * @see {@link rotateAxisAngleRad}\n     */\n    rotateAxisAngleDeg(a, d) {\n        this._engine.wasm._wl_object_rotate_axis_angle(this.objectId, a[0], a[1], a[2], d);\n    }\n    /**\n     * Rotate around given axis by given angle (radians) in local space.\n     *\n     * @param a Vector representing the rotation axis.\n     * @param d Angle in radians.\n     *\n     * @note If the object is translated the rotation will be around\n     *     the parent. To rotate around the object origin, use\n     *     {@link rotateAxisAngleDegObject}\n     *\n     * @see {@link rotateAxisAngleDeg}\n     */\n    rotateAxisAngleRad(a, d) {\n        this._engine.wasm._wl_object_rotate_axis_angle_rad(this.objectId, a[0], a[1], a[2], d);\n    }\n    /**\n     * Rotate around given axis by given angle (degrees) in object space.\n     *\n     * @param a Vector representing the rotation axis.\n     * @param d Angle in degrees.\n     *\n     * Equivalent to prepending a rotation quaternion to the object's\n     * local transformation.\n     *\n     * @see {@link rotateAxisAngleRadObject}\n     */\n    rotateAxisAngleDegObject(a, d) {\n        this._engine.wasm._wl_object_rotate_axis_angle_obj(this.objectId, a[0], a[1], a[2], d);\n    }\n    /**\n     * Rotate around given axis by given angle (radians) in object space\n     * Equivalent to prepending a rotation quaternion to the object's\n     * local transformation.\n     *\n     * @param a Vector representing the rotation axis\n     * @param d Angle in degrees\n     *\n     * @see {@link rotateAxisAngleDegObject}\n     */\n    rotateAxisAngleRadObject(a, d) {\n        this._engine.wasm._wl_object_rotate_axis_angle_rad_obj(this.objectId, a[0], a[1], a[2], d);\n    }\n    /**\n     * Rotate by a quaternion.\n     *\n     * @param q the Quaternion to rotate by.\n     */\n    rotate(q) {\n        this._engine.wasm._wl_object_rotate_quat(this.objectId, q[0], q[1], q[2], q[3]);\n    }\n    /**\n     * Rotate by a quaternion in object space.\n     *\n     * Equivalent to prepending a rotation quaternion to the object's\n     * local transformation.\n     *\n     * @param q the Quaternion to rotate by.\n     */\n    rotateObject(q) {\n        this._engine.wasm._wl_object_rotate_quat_obj(this.objectId, q[0], q[1], q[2], q[3]);\n    }\n    /**\n     * Scale object by a vector in object space.\n     *\n     * @param v Vector to scale by.\n     */\n    scale(v) {\n        this._engine.wasm._wl_object_scale(this.objectId, v[0], v[1], v[2]);\n    }\n    /** Local / object space transformation. */\n    get transformLocal() {\n        const wasm = this._engine.wasm;\n        return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_object_trans_local(this.objectId), 8);\n    }\n    /**\n     * Set local transform.\n     *\n     * @param t Local space transformation.\n     *\n     * @since 0.8.5\n     */\n    set transformLocal(t) {\n        this.transformLocal.set(t);\n        this.setDirty();\n    }\n    /**\n     * Compute local / object space translation from transformation.\n     *\n     * @param out Destination array/vector, expected to have at least 3 elements.\n     * @return The `out` parameter.\n     */\n    getTranslationLocal(out) {\n        const wasm = this._engine.wasm;\n        wasm._wl_object_get_translation_local(this.objectId, wasm._tempMem);\n        out[0] = wasm._tempMemFloat[0];\n        out[1] = wasm._tempMemFloat[1];\n        out[2] = wasm._tempMemFloat[2];\n        return out;\n    }\n    /**\n     * Compute world space translation from transformation.\n     *\n     * May recompute transformations of the hierarchy of this object,\n     * if they were changed by JavaScript components this frame.\n     *\n     * @param out Destination array/vector, expected to have at least 3 elements.\n     * @return The `out` parameter.\n     */\n    getTranslationWorld(out) {\n        const wasm = this._engine.wasm;\n        wasm._wl_object_get_translation_world(this.objectId, wasm._tempMem);\n        out[0] = wasm._tempMemFloat[0];\n        out[1] = wasm._tempMemFloat[1];\n        out[2] = wasm._tempMemFloat[2];\n        return out;\n    }\n    /**\n     * Set local / object space translation.\n     *\n     * Concatenates a new translation dual quaternion onto the existing rotation.\n     *\n     * @param v New local translation array/vector, expected to have at least 3 elements.\n     */\n    setTranslationLocal(v) {\n        this._engine.wasm._wl_object_set_translation_local(this.objectId, v[0], v[1], v[2]);\n    }\n    /**\n     * Set world space translation.\n     *\n     * Applies the inverse parent transform with a new translation dual quaternion\n     * which is concatenated onto the existing rotation.\n     *\n     * @param v New world translation array/vector, expected to have at least 3 elements.\n     */\n    setTranslationWorld(v) {\n        this._engine.wasm._wl_object_set_translation_world(this.objectId, v[0], v[1], v[2]);\n    }\n    /**\n     * Global / world space transformation.\n     *\n     * May recompute transformations of the hierarchy of this object,\n     * if they were changed by JavaScript components this frame.\n     */\n    get transformWorld() {\n        const wasm = this._engine.wasm;\n        return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_object_trans_world(this.objectId), 8);\n    }\n    /**\n     * Set world transform.\n     *\n     * @param t Global / world space transformation.\n     *\n     * @since 0.8.5\n     */\n    set transformWorld(t) {\n        this.transformWorld.set(t);\n        this._engine.wasm._wl_object_trans_world_to_local(this.objectId);\n    }\n    /** Local / object space scaling. */\n    get scalingLocal() {\n        const wasm = this._engine.wasm;\n        return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_object_scaling_local(this.objectId), 3);\n    }\n    /**\n     * Set local space scaling.\n     *\n     * @param s Global / world space transformation.\n     *\n     * @since 0.8.7\n     */\n    set scalingLocal(s) {\n        this.scalingLocal.set(s);\n        this.setDirty();\n    }\n    /**\n     * Global / world space scaling.\n     *\n     * May recompute transformations of the hierarchy of this object,\n     * if they were changed by JavaScript components this frame.\n     */\n    get scalingWorld() {\n        const wasm = this._engine.wasm;\n        return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_object_scaling_world(this.objectId), 3);\n    }\n    /**\n     * Set world space scaling.\n     *\n     * @param t Global / world space transformation.\n     *\n     * @since 0.8.7\n     */\n    set scalingWorld(s) {\n        this.scalingWorld.set(s);\n        this._engine.wasm._wl_object_scaling_world_to_local(this.objectId);\n    }\n    /**\n     * Local space rotation.\n     *\n     * @since 0.8.7\n     */\n    get rotationLocal() {\n        return this.transformLocal.subarray(0, 4);\n    }\n    /**\n     * Global / world space rotation\n     *\n     * @since 0.8.7\n     */\n    get rotationWorld() {\n        return this.transformWorld.subarray(0, 4);\n    }\n    /**\n     * Set local space rotation.\n     *\n     * @param r Local space rotation\n     *\n     * @since 0.8.7\n     */\n    set rotationLocal(r) {\n        this._engine.wasm._wl_object_set_rotation_local(this.objectId, r[0], r[1], r[2], r[3]);\n    }\n    /**\n     * Set world space rotation.\n     *\n     * @param r Global / world space rotation.\n     *\n     * @since 0.8.7\n     */\n    set rotationWorld(r) {\n        this._engine.wasm._wl_object_set_rotation_world(this.objectId, r[0], r[1], r[2], r[3]);\n    }\n    /**\n     * Compute the object's forward facing world space vector.\n     *\n     * The forward vector in object space is along the negative z-axis, i.e.,\n     * `[0, 0, -1]`.\n     *\n     * @param out Destination array/vector, expected to have at least 3 elements.\n     * @return The `out` parameter.\n     */\n    getForward(out) {\n        out[0] = 0;\n        out[1] = 0;\n        out[2] = -1;\n        this.transformVectorWorld(out);\n        return out;\n    }\n    /**\n     * Compute the object's up facing world space vector.\n     *\n     * @param out Destination array/vector, expected to have at least 3 elements.\n     * @return The `out` parameter.\n     */\n    getUp(out) {\n        out[0] = 0;\n        out[1] = 1;\n        out[2] = 0;\n        this.transformVectorWorld(out);\n        return out;\n    }\n    /**\n     * Compute the object's right facing world space vector.\n     *\n     * @param out Destination array/vector, expected to have at least 3 elements.\n     * @return The `out` parameter.\n     */\n    getRight(out) {\n        out[0] = 1;\n        out[1] = 0;\n        out[2] = 0;\n        this.transformVectorWorld(out);\n        return out;\n    }\n    /**\n     * Transform a vector by this object's world transform.\n     *\n     * @param out Out vector\n     * @param v Vector to transform, default `out`\n     * @return The `out` parameter.\n     *\n     * @since 0.8.7\n     */\n    transformVectorWorld(out, v = out) {\n        const wasm = this._engine.wasm;\n        wasm._tempMemFloat[0] = v[0];\n        wasm._tempMemFloat[1] = v[1];\n        wasm._tempMemFloat[2] = v[2];\n        wasm._wl_object_transformVectorWorld(this.objectId, wasm._tempMem);\n        out[0] = wasm._tempMemFloat[0];\n        out[1] = wasm._tempMemFloat[1];\n        out[2] = wasm._tempMemFloat[2];\n        return out;\n    }\n    /**\n     * Transform a vector by this object's local transform.\n     *\n     * @param out Out vector\n     * @param v Vector to transform, default `out`\n     * @return The `out` parameter.\n     *\n     * @since 0.8.7\n     */\n    transformVectorLocal(out, v = out) {\n        const wasm = this._engine.wasm;\n        wasm._tempMemFloat[0] = v[0];\n        wasm._tempMemFloat[1] = v[1];\n        wasm._tempMemFloat[2] = v[2];\n        wasm._wl_object_transformVectorLocal(this.objectId, wasm._tempMem);\n        out[0] = wasm._tempMemFloat[0];\n        out[1] = wasm._tempMemFloat[1];\n        out[2] = wasm._tempMemFloat[2];\n        return out;\n    }\n    /**\n     * Transform a point by this object's world transform.\n     *\n     * @param out Out point.\n     * @param p Point to transform, default `out`.\n     * @return The `out` parameter.\n     *\n     * @since 0.8.7\n     */\n    transformPointWorld(out, p = out) {\n        const wasm = this._engine.wasm;\n        wasm._tempMemFloat[0] = p[0];\n        wasm._tempMemFloat[1] = p[1];\n        wasm._tempMemFloat[2] = p[2];\n        wasm._wl_object_transformPointWorld(this.objectId, wasm._tempMem);\n        out[0] = wasm._tempMemFloat[0];\n        out[1] = wasm._tempMemFloat[1];\n        out[2] = wasm._tempMemFloat[2];\n        return out;\n    }\n    /**\n     * Transform a point by this object's local transform.\n     *\n     * @param out Out point.\n     * @param p Point to transform, default `out`.\n     * @return The `out` parameter.\n     *\n     * @since 0.8.7\n     */\n    transformPointLocal(out, p = out) {\n        const wasm = this._engine.wasm;\n        wasm._tempMemFloat[0] = p[0];\n        wasm._tempMemFloat[1] = p[1];\n        wasm._tempMemFloat[2] = p[2];\n        wasm._wl_object_transformPointLocal(this.objectId, wasm._tempMem);\n        out[0] = wasm._tempMemFloat[0];\n        out[1] = wasm._tempMemFloat[1];\n        out[2] = wasm._tempMemFloat[2];\n        return out;\n    }\n    /**\n     * Transform a vector by this object's inverse world transform.\n     *\n     * @param out Out vector.\n     * @param v Vector to transform, default `out`.\n     * @return The `out` parameter.\n     *\n     * @since 0.8.7\n     */\n    transformVectorInverseWorld(out, v = out) {\n        const wasm = this._engine.wasm;\n        wasm._tempMemFloat[0] = v[0];\n        wasm._tempMemFloat[1] = v[1];\n        wasm._tempMemFloat[2] = v[2];\n        wasm._wl_object_transformVectorInverseWorld(this.objectId, wasm._tempMem);\n        out[0] = wasm._tempMemFloat[0];\n        out[1] = wasm._tempMemFloat[1];\n        out[2] = wasm._tempMemFloat[2];\n        return out;\n    }\n    /**\n     * Transform a vector by this object's inverse local transform.\n     *\n     * @param out Out vector\n     * @param v Vector to transform, default `out`\n     * @return The `out` parameter.\n     *\n     * @since 0.8.7\n     */\n    transformVectorInverseLocal(out, v = out) {\n        const wasm = this._engine.wasm;\n        wasm._tempMemFloat[0] = v[0];\n        wasm._tempMemFloat[1] = v[1];\n        wasm._tempMemFloat[2] = v[2];\n        wasm._wl_object_transformVectorInverseLocal(this.objectId, wasm._tempMem);\n        out[0] = wasm._tempMemFloat[0];\n        out[1] = wasm._tempMemFloat[1];\n        out[2] = wasm._tempMemFloat[2];\n        return out;\n    }\n    /**\n     * Transform a point by this object's inverse world transform.\n     *\n     * @param out Out point.\n     * @param p Point to transform, default `out`.\n     * @return The `out` parameter.\n     *\n     * @since 0.8.7\n     */\n    transformPointInverseWorld(out, p = out) {\n        const wasm = this._engine.wasm;\n        wasm._tempMemFloat[0] = p[0];\n        wasm._tempMemFloat[1] = p[1];\n        wasm._tempMemFloat[2] = p[2];\n        wasm._wl_object_transformPointInverseWorld(this.objectId, wasm._tempMem);\n        out[0] = wasm._tempMemFloat[0];\n        out[1] = wasm._tempMemFloat[1];\n        out[2] = wasm._tempMemFloat[2];\n        return out;\n    }\n    /**\n     * Transform a point by this object's inverse local transform.\n     *\n     * @param out Out point.\n     * @param p Point to transform, default `out`.\n     * @return The `out` parameter.\n     *\n     * @since 0.8.7\n     */\n    transformPointInverseLocal(out, p = out) {\n        const wasm = this._engine.wasm;\n        wasm._tempMemFloat.set(p);\n        wasm._wl_object_transformPointInverseLocal(this.objectId, wasm._tempMem);\n        out[0] = wasm._tempMemFloat[0];\n        out[1] = wasm._tempMemFloat[1];\n        out[2] = wasm._tempMemFloat[2];\n        return out;\n    }\n    /**\n     * Transform an object space dual quaternion into world space.\n     *\n     * @param out Out transformation.\n     * @param q Local space transformation, default `out`.\n     * @return The `out` parameter.\n     *\n     * @since 0.8.7\n     */\n    toWorldSpaceTransform(out, q = out) {\n        const wasm = this._engine.wasm;\n        wasm._tempMemFloat.set(q);\n        wasm._wl_object_toWorldSpaceTransform(this.objectId, wasm._tempMem);\n        out[0] = wasm._tempMemFloat[0];\n        out[1] = wasm._tempMemFloat[1];\n        out[2] = wasm._tempMemFloat[2];\n        out[3] = wasm._tempMemFloat[3];\n        out[4] = wasm._tempMemFloat[4];\n        out[5] = wasm._tempMemFloat[5];\n        out[6] = wasm._tempMemFloat[6];\n        out[7] = wasm._tempMemFloat[7];\n        return out;\n    }\n    /**\n     * Transform a world space dual quaternion into local space.\n     *\n     * @param out Out transformation\n     * @param q World space transformation, default `out`\n     * @return The `out` parameter.\n     *\n     * @since 0.8.7\n     */\n    toLocalSpaceTransform(out, q = out) {\n        const p = this.parent;\n        if (p) {\n            p.toObjectSpaceTransform(out, q);\n            return out;\n        }\n        if (out !== q) {\n            out[0] = q[0];\n            out[1] = q[1];\n            out[2] = q[2];\n            out[3] = q[3];\n            out[4] = q[4];\n            out[5] = q[5];\n            out[6] = q[6];\n            out[7] = q[7];\n        }\n        return out;\n    }\n    /**\n     * Transform a world space dual quaternion into object space.\n     *\n     * @param out Out transformation.\n     * @param q World space transformation, default `out`\n     * @return The `out` parameter.\n     *\n     * @since 0.8.7\n     */\n    toObjectSpaceTransform(out, q = out) {\n        const wasm = this._engine.wasm;\n        wasm._tempMemFloat.set(q);\n        wasm._wl_object_toObjectSpaceTransform(this.objectId, wasm._tempMem);\n        out[0] = wasm._tempMemFloat[0];\n        out[1] = wasm._tempMemFloat[1];\n        out[2] = wasm._tempMemFloat[2];\n        out[3] = wasm._tempMemFloat[3];\n        out[4] = wasm._tempMemFloat[4];\n        out[5] = wasm._tempMemFloat[5];\n        out[6] = wasm._tempMemFloat[6];\n        out[7] = wasm._tempMemFloat[7];\n        return out;\n    }\n    /**\n     * Turn towards / look at target.\n     *\n     * Rotates the object so that its forward vector faces towards the target\n     * position. The `up` vector acts as a hint to uniquely orient the object's\n     * up direction. When orienting a view component, the projected `up` vector\n     * faces upwards on the viewing plane.\n     *\n     * @param p Target position to turn towards, in world space.\n     * @param up Up vector to align object with, in world space. Default is `[0, 1, 0]`.\n     */\n    lookAt(p, up = UP_VECTOR) {\n        this._engine.wasm._wl_object_lookAt(this.objectId, p[0], p[1], p[2], up[0], up[1], up[2]);\n    }\n    /** Destroy the object with all of its components and remove it from the scene */\n    destroy() {\n        this._engine.wasm._wl_scene_remove_object(this.objectId);\n        this._objectId = -1;\n    }\n    /**\n     * Mark transformation dirty.\n     *\n     * Causes an eventual recalculation of {@link transformWorld}, either\n     * on next {@link getTranslationWorld}, {@link transformWorld} or\n     * {@link scalingWorld} or the beginning of next frame, whichever\n     * happens first.\n     */\n    setDirty() {\n        this._engine.wasm._wl_object_set_dirty(this.objectId);\n    }\n    /**\n     * Disable/enable all components of this object.\n     *\n     * @param b New state for the components.\n     *\n     * @since 0.8.5\n     */\n    set active(b) {\n        const comps = this.getComponents();\n        for (let c of comps) {\n            c.active = b;\n        }\n    }\n    /**\n     * Get a component attached to this object.\n     *\n     * @param typeOrClass Type name. It's also possible to give a class definition.\n     *     In this case, the method will use the `class.TypeName` field to find the component.\n     * @param index=0 Index for component of given type. This can be used to access specific\n     *      components if the object has multiple components of the same type.\n     * @returns The component or `null` if there is no such component on this object\n     */\n    getComponent(typeOrClass, index = 0) {\n        const type = isString(typeOrClass) ? typeOrClass : typeOrClass.TypeName;\n        const wasm = this._engine.wasm;\n        const componentType = wasm._wl_get_component_manager_index(wasm.tempUTF8(type));\n        if (componentType < 0) {\n            /* Not a native component, try js: */\n            const typeIndex = wasm._componentTypeIndices[type];\n            const jsIndex = wasm._wl_get_js_component_index(this.objectId, typeIndex, index);\n            return jsIndex < 0 ? null : this._engine.wasm._components[jsIndex];\n        }\n        const componentId = this._engine.wasm._wl_get_component_id(this.objectId, componentType, index);\n        return this._engine._wrapComponent(type, componentType, componentId);\n    }\n    /**\n     * @param typeOrClass Type name, pass a falsey value (`undefined` or `null`) to retrieve all.\n     *     It's also possible to give a class definition. In this case, the method will use the `class.TypeName` field to\n     *     find the components.\n     * @returns All components of given type attached to this object.\n     *\n     * @note As this function is non-trivial, avoid using it in `update()` repeatedly,\n     *      but rather store its result in `init()` or `start()`\n     * @warning This method will currently return at most 341 components.\n     */\n    getComponents(typeOrClass) {\n        const wasm = this._engine.wasm;\n        let componentType = null;\n        let type = null;\n        if (typeOrClass) {\n            type = isString(typeOrClass) ? typeOrClass : typeOrClass.TypeName;\n            componentType = wasm._typeIndexFor(type);\n        }\n        const components = [];\n        const maxComps = Math.floor((wasm._tempMemSize / 3) * 2);\n        const componentsCount = wasm._wl_object_get_components(this.objectId, wasm._tempMem, maxComps);\n        const offset = 2 * componentsCount;\n        wasm._wl_object_get_component_types(this.objectId, wasm._tempMem + offset, maxComps);\n        const jsManagerIndex = wasm._typeIndexFor('js');\n        for (let i = 0; i < componentsCount; ++i) {\n            const t = wasm._tempMemUint8[i + offset];\n            const componentId = wasm._tempMemUint16[i];\n            /* Handle JS types separately */\n            if (t == jsManagerIndex) {\n                const typeIndex = wasm._wl_get_js_component_index_for_id(componentId);\n                const comp = wasm._components[typeIndex];\n                if (componentType === null || comp.type == type)\n                    components.push(comp);\n                continue;\n            }\n            if (componentType === null) {\n                const managerName = wasm._typeNameFor(t);\n                components.push(this._engine._wrapComponent(managerName, t, componentId));\n            }\n            else if (t == componentType) {\n                /* Optimized manager name retrieval, already have type */\n                components.push(this._engine._wrapComponent(type, componentType, componentId));\n            }\n        }\n        return components;\n    }\n    /**\n     * Add component of given type to the object.\n     *\n     * You can use this function to clone components, see the example below.\n     *\n     * ```js\n     *  // Clone existing component (since 0.8.10)\n     *  let original = this.object.getComponent('mesh');\n     *  otherObject.addComponent('mesh', original);\n     *  // Create component from parameters\n     *  this.object.addComponent('mesh', {\n     *      mesh: someMesh,\n     *      material: someMaterial,\n     *  });\n     * ```\n     *\n     * @param typeOrClass Typename to create a component of. Can be native or\n     *     custom JavaScript component type. It's also possible to give a class definition.\n     *     In this case, the method will use the `class.TypeName` field.\n     * @param params Parameters to initialize properties of the new component,\n     *      can be another component to copy properties from.\n     *\n     * @returns The component or `null` if the type was not found\n     */\n    addComponent(typeOrClass, params) {\n        const wasm = this._engine.wasm;\n        const type = isString(typeOrClass) ? typeOrClass : typeOrClass.TypeName;\n        const componentType = wasm._typeIndexFor(type);\n        let component = null;\n        let componentIndex = null;\n        if (componentType < 0) {\n            /* JavaScript component */\n            if (!(type in wasm._componentTypeIndices)) {\n                throw new TypeError(\"Unknown component type '\" + type + \"'\");\n            }\n            const componentId = wasm._wl_object_add_js_component(this.objectId, wasm._componentTypeIndices[type]);\n            componentIndex = wasm._wl_get_js_component_index_for_id(componentId);\n            component = wasm._components[componentIndex];\n        }\n        else {\n            /* native component */\n            const componentId = wasm._wl_object_add_component(this.objectId, componentType);\n            component = this._engine._wrapComponent(type, componentType, componentId);\n        }\n        if (params !== undefined) {\n            const ctor = component.constructor;\n            for (const key in params) {\n                if (!(key in ctor.Properties))\n                    continue;\n                component[key] = params[key];\n            }\n        }\n        /* Explicitly initialize native components */\n        if (componentType < 0) {\n            /* @todo: `componentIndex` can be null here, that's an error */\n            wasm._wljs_component_init(componentIndex);\n            /* start() is called through onActivate() */\n        }\n        /* If it was not explicitly requested by the user to leave the component inactive,\n         * we activate it as a final step. This invalidates componentIndex! */\n        if (!params || !('active' in params && !params.active)) {\n            component.active = true;\n        }\n        return component;\n    }\n    /**\n     * Whether given object's transformation has changed.\n     */\n    get changed() {\n        return !!this._engine.wasm._wl_object_is_changed(this.objectId);\n    }\n    /**\n     * Checks equality by comparing whether the wrapped native object ids are\n     * equal.\n     *\n     * @param otherObject Object to check equality with.\n     * @returns Whether this object equals the given object.\n     */\n    equals(otherObject) {\n        if (!otherObject)\n            return false;\n        return this.objectId == otherObject.objectId;\n    }\n}\n/**\n * Wrapper around a native skin data.\n */\nexport class Skin {\n    /**\n     * Index of the skin in the manager.\n     * @hidden\n     */\n    _index;\n    /** Wonderland Engine instance. @hidden */\n    _engine;\n    constructor(engine, index) {\n        this._engine = engine;\n        this._index = index;\n    }\n    /** Amount of joints in this skin. */\n    get jointCount() {\n        return this._engine.wasm._wl_skin_get_joint_count(this._index);\n    }\n    /** Joints object ids for this skin */\n    get jointIds() {\n        const wasm = this._engine.wasm;\n        return new Uint16Array(wasm.HEAPU16.buffer, wasm._wl_skin_joint_ids(this._index), this.jointCount);\n    }\n    /**\n     * Dual quaternions in a flat array of size 8 times {@link jointCount}.\n     *\n     * Inverse bind transforms of the skin.\n     */\n    get inverseBindTransforms() {\n        const wasm = this._engine.wasm;\n        return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_skin_inverse_bind_transforms(this._index), 8 * this.jointCount);\n    }\n    /**\n     * Vectors in a flat array of size 3 times {@link jointCount}.\n     *\n     * Inverse bind scalings of the skin.\n     */\n    get inverseBindScalings() {\n        const wasm = this._engine.wasm;\n        return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_skin_inverse_bind_scalings(this._index), 3 * this.jointCount);\n    }\n    /**\n     * Checks equality by comparing whether the wrapped native skin ids are\n     * equal.\n     *\n     * @param otherSkin Skin to check equality with.\n     * @returns Whether this skin equals the given skin.\n     *\n     * @since 1.0.0\n     */\n    equals(otherSkin) {\n        if (!otherSkin)\n            return false;\n        return this._index === otherSkin._index;\n    }\n}\n/* For backward compatibility with < 1.0.0. */\nexport { Object3D as Object };\n/**\n * Ray hit.\n *\n * Result of a {@link Scene.rayCast}.\n *\n * @note this class wraps internal engine data and should only be created internally.\n */\nexport class RayHit {\n    /** Wonderland Engine instance. @hidden */\n    _engine;\n    /** Pointer to the memory heap. */\n    _ptr;\n    /**\n     * @param ptr Pointer to the ray hits memory.\n     */\n    constructor(engine, ptr) {\n        if ((ptr & 3) !== 0) {\n            throw new Error('Misaligned pointer: please report a bug');\n        }\n        this._engine = engine;\n        this._ptr = ptr;\n    }\n    /** Array of ray hit locations. */\n    get locations() {\n        let p = this._ptr;\n        let l = [];\n        for (let i = 0; i < this.hitCount; ++i) {\n            l.push(new Float32Array(this._engine.wasm.HEAPF32.buffer, p + 12 * i, 3));\n        }\n        return l;\n    }\n    /** Array of ray hit normals (only when using {@link Physics#rayCast}. */\n    get normals() {\n        let p = this._ptr + 48;\n        let l = [];\n        for (let i = 0; i < this.hitCount; ++i) {\n            l.push(new Float32Array(this._engine.wasm.HEAPF32.buffer, p + 12 * i, 3));\n        }\n        return l;\n    }\n    /**\n     * Prefer these to recalculating the distance from locations.\n     *\n     * Distances of array hits to ray origin.\n     */\n    get distances() {\n        const p = this._ptr + 48 * 2;\n        return new Float32Array(this._engine.wasm.HEAPF32.buffer, p, this.hitCount);\n    }\n    /** Hit objects */\n    get objects() {\n        let p = this._ptr + (48 * 2 + 16);\n        let objIds = new Uint16Array(this._engine.wasm.HEAPU16.buffer, p, this.hitCount);\n        return [\n            objIds[0] <= 0 ? null : this._engine.wrapObject(objIds[0]),\n            objIds[1] <= 0 ? null : this._engine.wrapObject(objIds[1]),\n            objIds[2] <= 0 ? null : this._engine.wrapObject(objIds[2]),\n            objIds[3] <= 0 ? null : this._engine.wrapObject(objIds[3]),\n        ];\n    }\n    /** Number of hits (max 4) */\n    get hitCount() {\n        return Math.min(this._engine.wasm.HEAPU32[this._ptr / 4 + 30], 4);\n    }\n}\nclass math {\n    /** (Experimental!) Cubic Hermite spline interpolation for vector3 and quaternions.\n     *\n     * With `f == 0`, `out` will be `b`, if `f == 1`, `out` will be c.\n     *\n     * Whether a quaternion or vector3 interpolation is intended is determined by\n     * length of `a`.\n     *\n     * @param out Array to write result to.\n     * @param a First tangent/handle.\n     * @param b First point or quaternion.\n     * @param c Second point or quaternion.\n     * @param d Second handle.\n     * @param f Interpolation factor in [0; 1].\n     * @returns The `out` parameter.\n     *\n     * @since 0.8.6\n     */\n    static cubicHermite(out, a, b, c, d, f, engine = WL) {\n        const wasm = engine.wasm;\n        wasm._tempMemFloat.subarray(0).set(a);\n        wasm._tempMemFloat.subarray(4).set(b);\n        wasm._tempMemFloat.subarray(8).set(c);\n        wasm._tempMemFloat.subarray(12).set(d);\n        const isQuat = a.length == 4;\n        wasm._wl_math_cubicHermite(wasm._tempMem + 4 * 16, wasm._tempMem + 4 * 0, wasm._tempMem + 4 * 4, wasm._tempMem + 4 * 8, wasm._tempMem + 4 * 12, f, isQuat);\n        out[0] = wasm._tempMemFloat[16];\n        out[1] = wasm._tempMemFloat[17];\n        out[2] = wasm._tempMemFloat[18];\n        if (isQuat)\n            out[3] = wasm._tempMemFloat[19];\n        return out;\n    }\n}\nexport { math };\n/**\n * Class for accessing internationalization (i18n) features.\n *\n * Allows {@link I18N.onLanguageChanged \"detecting language change\"},\n * {@link I18N.language \"setting the current language\"} or translating\n * {@link I18N.translate() \"individual terms\"}.\n *\n * Internationalization works with terms,\n * a string type keyword that is linked to a different text for each language.\n *\n * Internally, string parameters for text and js components are\n * automatically swapped during language change, given they are linked to a term.\n * If manual text swapping is desired, {@link I18N.translate()}\n * can be used to retrieve the current translation for any term.\n *\n * You can also use the {@link I18N.onLanguageChanged} to manually update text\n * when a language is changed to for example update a number in a string.\n *\n * @since 1.0.0\n */\nexport class I18N {\n    /**\n     * {@link Emitter} for language change events.\n     *\n     * First parameter to a listener is the old language index,\n     * second parameter is the new language index.\n     *\n     * Usage from a within a component:\n     * ```js\n     * this.engine.i18n.onLanguageChanged.add((oldLanguageIndex, newLanguageIndex) => {\n     *     const oldLanguage = this.engine.i18n.languageName(oldLanguageIndex);\n     *     const newLanguage = this.engine.i18n.languageName(newLanguageIndex);\n     *     console.log(\"Switched from\", oldLanguage, \"to\", newLanguage);\n     * });\n     * ```\n     */\n    onLanguageChanged = new Emitter();\n    /** Wonderland Engine instance. @hidden */\n    _engine;\n    /**\n     * Constructor\n     */\n    constructor(engine) {\n        this._engine = engine;\n    }\n    /**\n     * Set current language and apply translations to linked text parameters.\n     *\n     * @param code Language code to switch to\n     */\n    set language(code) {\n        if (code == null)\n            return;\n        const wasm = this._engine.wasm;\n        wasm._wl_i18n_setLanguage(wasm.tempUTF8(code));\n    }\n    /**\n     * Get current language code.\n     *\n     */\n    get language() {\n        const wasm = this._engine.wasm;\n        const code = wasm._wl_i18n_currentLanguage();\n        if (code === 0)\n            return null;\n        return wasm.UTF8ToString(code);\n    }\n    /**\n     * Get translated string for a term for the currently loaded language.\n     *\n     * @param term Term to translate\n     */\n    translate(term) {\n        const wasm = this._engine.wasm;\n        const translation = wasm._wl_i18n_translate(wasm.tempUTF8(term));\n        if (translation === 0)\n            return null;\n        return wasm.UTF8ToString(translation);\n    }\n    /**\n     * Get the number of languages in the project.\n     *\n     */\n    languageCount() {\n        const wasm = this._engine.wasm;\n        return wasm._wl_i18n_languageCount();\n    }\n    /**\n     * Get a language code.\n     *\n     * @param index Index of the language to get the code from\n     */\n    languageIndex(code) {\n        const wasm = this._engine.wasm;\n        return wasm._wl_i18n_languageIndex(wasm.tempUTF8(code));\n    }\n    /**\n     * Get a language code.\n     *\n     * @param index Index of the language to get the code from\n     */\n    languageCode(index) {\n        const wasm = this._engine.wasm;\n        const code = wasm._wl_i18n_languageCode(index);\n        if (code === 0)\n            return null;\n        return wasm.UTF8ToString(code);\n    }\n    /**\n     * Get a language name.\n     *\n     * @param index Index of the language to get the name from\n     */\n    languageName(index) {\n        const wasm = this._engine.wasm;\n        const name = wasm._wl_i18n_languageName(index);\n        if (name === 0)\n            return null;\n        return wasm.UTF8ToString(name);\n    }\n}\n/** Properties of a WebXR session */\nexport class XR {\n    /** Wonderland WASM bridge. @hidden */\n    #wasm;\n    #mode;\n    constructor(wasm, mode) {\n        this.#wasm = wasm;\n        this.#mode = mode;\n    }\n    /** Current WebXR session mode */\n    get sessionMode() {\n        return this.#mode;\n    }\n    /** Current WebXR session */\n    get session() {\n        return this.#wasm.webxr_session;\n    }\n    /** Current WebXR frame */\n    get frame() {\n        return this.#wasm.webxr_frame;\n    }\n    /**\n     * Get a WebXR reference space of a given reference space type.\n     *\n     * @param type Type of reference space to get\n     * @returns Reference space, or `null` if there's no reference space\n     *     of the requested type available\n     */\n    referenceSpaceForType(type) {\n        return this.#wasm.webxr_refSpaces[type] ?? null;\n    }\n    /** Set current reference space type used for retrieving eye, head, hand and joint poses */\n    set currentReferenceSpace(refSpace) {\n        this.#wasm.webxr_refSpace = refSpace;\n        this.#wasm.webxr_refSpaceType = null;\n        for (const type of Object.keys(this.#wasm.webxr_refSpaces)) {\n            if (this.#wasm.webxr_refSpaces[type] === refSpace) {\n                /* Keep track of reference space type */\n                this.#wasm.webxr_refSpaceType = type;\n            }\n        }\n    }\n    /** Current reference space type used for retrieving eye, head, hand and joint poses */\n    get currentReferenceSpace() {\n        return this.#wasm.webxr_refSpace;\n    }\n    /** Current WebXR reference space type or `null` if not a default reference space */\n    get currentReferenceSpaceType() {\n        return this.#wasm.webxr_refSpaceType;\n    }\n    /** Current WebXR base layer  */\n    get baseLayer() {\n        return this.#wasm.webxr_baseLayer;\n    }\n    /** Current WebXR framebuffer */\n    get framebuffers() {\n        if (!Array.isArray(this.#wasm.webxr_fbo)) {\n            return [this.#wasm.GL.framebuffers[this.#wasm.webxr_fbo]];\n        }\n        return this.#wasm.webxr_fbo.map((id) => this.#wasm.GL.framebuffers[id]);\n    }\n}\n", "import { Type } from './property.js';\nimport { Animation, Component, Material, Mesh, Skin, Texture, XR, } from './wonderland.js';\n/**\n * Default component parameter value per type.\n */\nconst _componentDefaults = new Map([\n    [Type.Bool, false],\n    [Type.Int, 0],\n    [Type.Float, 0.0],\n    [Type.String, ''],\n    [Type.Enum, undefined],\n    [Type.Object, null],\n    [Type.Mesh, null],\n    [Type.Texture, null],\n    [Type.Material, null],\n    [Type.Animation, null],\n    [Type.Skin, null],\n    [Type.Color, [0.0, 0.0, 0.0, 1.0]],\n]);\n/**\n * Setup the defaults value of the properties on a given\n * component class.\n *\n * @param ctor The component class\n */\nfunction _setupDefaults(ctor) {\n    for (const name in ctor.Properties) {\n        const p = ctor.Properties[name];\n        if (p.type === Type.Enum) {\n            /* Enum default can be a string or an index. Convert to and/or\n             * sanity-check the index. */\n            if (p.values?.length) {\n                /* Don't try to look up the default if the user specified a\n                 * number or we already converted to one. */\n                if (typeof p.default !== 'number') {\n                    /* If undefined, missing element or wrong type this returns\n                     * -1 which becomes 0 below. This matches editor behavior. */\n                    p.default = p.values.indexOf(p.default);\n                }\n                if (p.default < 0 || p.default >= p.values.length) {\n                    p.default = 0;\n                }\n            }\n            else {\n                /* There's no index value that makes sense */\n                p.default = undefined;\n            }\n        }\n        else {\n            p.default = p.default ?? _componentDefaults.get(p.type);\n        }\n        ctor.prototype[name] = p.default;\n    }\n}\n/**\n * Low-level wrapper to interact with the WebAssembly code.\n *\n * @hidden\n */\nexport class WASM {\n    /**\n     * Emscripten worker field.\n     *\n     * @note This api is meant to be used internally.\n     */\n    worker = '';\n    /**\n     * Emscripten wasm field.\n     *\n     * @note This api is meant to be used internally.\n     */\n    wasm = null;\n    /** Current WebXR  */\n    /**\n     * Emscripten WebXR session.\n     *\n     * @note This api is meant to be used internally.\n     */\n    webxr_session = null;\n    /**\n     * Emscripten WebXR request session callback.\n     *\n     * @note This api is meant to be used internally.\n     */\n    webxr_requestSession = null;\n    /**\n     * Emscripten WebXR frame.\n     *\n     * @note This api is meant to be used internally.\n     */\n    webxr_frame = null;\n    /**\n     * Emscripten current WebXR reference space.\n     *\n     * @note This api is meant to be used internally.\n     */\n    webxr_refSpace = null;\n    /**\n     * Emscripten WebXR reference spaces.\n     *\n     * @note This api is meant to be used internally.\n     */\n    webxr_refSpaces = null;\n    /**\n     * Emscripten WebXR current reference space type.\n     *\n     * @note This api is meant to be used internally.\n     */\n    webxr_refSpaceType = null;\n    /**\n     * Emscripten WebXR GL projection layer.\n     *\n     * @note This api is meant to be used internally.\n     */\n    webxr_baseLayer = null;\n    /**\n     * Emscripten WebXR framebuffer scale factor.\n     *\n     * @note This api is meant to be used internally.\n     */\n    webxr_framebufferScaleFactor = 1.0;\n    /**\n     * Emscripten WebXR framebuffer(s).\n     *\n     * @note This api is meant to be used internally.\n     */\n    webxr_fbo = -1;\n    /**\n     * Convert a WASM memory view to a JavaScript string.\n     *\n     * @param ptr Pointer start\n     * @param ptrEnd Pointer end\n     * @returns JavaScript string\n     */\n    UTF8ViewToString;\n    /** If `true`, logs will not spam the console on error. */\n    _deactivate_component_on_error = false;\n    /** Temporary memory pointer. */\n    _tempMem = null;\n    /** Temporary memory size. */\n    _tempMemSize = 0;\n    /** Temporary float memory view. */\n    _tempMemFloat = null;\n    /** Temporary int memory view. */\n    _tempMemInt = null;\n    /** Temporary uint8 memory view. */\n    _tempMemUint8 = null;\n    /** Temporary uint32 memory view. */\n    _tempMemUint32 = null;\n    /** Temporary uint16 memory view. */\n    _tempMemUint16 = null;\n    /** Loading screen .bin file data */\n    _loadingScreen = null;\n    /** List of callbacks triggered when the scene is loaded. */\n    _sceneLoadedCallback = [];\n    /**\n     * Material definition cache. Each pipeline has its own\n     * associated material definition.\n     */\n    _materialDefinitions = [];\n    /** Image cache. */\n    _images = [];\n    /** Component instances. */\n    _components = [];\n    /** Component Type info. */\n    _componentTypes = [];\n    /** Index per component type name. */\n    _componentTypeIndices = {};\n    /** Wonderland engine instance. */\n    _engine = null;\n    /**\n     * `true` if this runtime is using physx.\n     *\n     * @note This api is meant to be used internally.\n     */\n    _withPhysX = false;\n    /** Decoder for UTF8 `ArrayBuffer` to JavaScript string. */\n    _utf8Decoder = new TextDecoder('utf8');\n    /**\n     * Create a new instance of the WebAssembly <> API bridge.\n     *\n     * @param threads `true` if the runtime used has threads support\n     */\n    constructor(threads) {\n        if (threads) {\n            this.UTF8ViewToString = (s, e) => {\n                if (!s)\n                    return '';\n                return this._utf8Decoder.decode(this.HEAPU8.slice(s, e));\n            };\n            return;\n        }\n        this.UTF8ViewToString = (s, e) => {\n            if (!s)\n                return '';\n            return this._utf8Decoder.decode(this.HEAPU8.subarray(s, e));\n        };\n    }\n    /**\n     * Reset the cache of the library\n     *\n     * @note Should only be called when tearing down the runtime.\n     */\n    reset() {\n        this._materialDefinitions = [];\n        this._images = [];\n        this._components = [];\n        this._componentTypes = [];\n        this._componentTypeIndices = {};\n    }\n    /**\n     * Checks whether the given component is registered or not.\n     *\n     * @param ctor  A string representing the component typename (e.g., `'cursor-component'`).\n     * @returns `true` if the component is registered, `false` otherwise.\n     */\n    isRegistered(type) {\n        return type in this._componentTypeIndices;\n    }\n    /**\n     * Register a legacy component in this Emscripten instance.\n     *\n     * @note This api is meant to be used internally.\n     *\n     * @param typeName The name of the component.\n     * @param params An object containing the parameters (properties).\n     * @param object The object's prototype.\n     * @returns The registration index\n     */\n    _registerComponentLegacy(typeName, params, object) {\n        const ctor = class CustomComponent extends Component {\n        };\n        ctor.TypeName = typeName;\n        ctor.Properties = params;\n        Object.assign(ctor.prototype, object);\n        return this._registerComponent(ctor);\n    }\n    /**\n     * Register a class component in this Emscripten instance.\n     *\n     * @note This api is meant to be used internally.\n     *\n     * @param ctor The class to register.\n     * @param recursive If `true`, automatically registers dependencies.\n     * @returns The registration index.\n     */\n    _registerComponent(ctor, recursive = false) {\n        if (!ctor.TypeName)\n            throw new Error('no name provided for component.');\n        const dependencies = ctor.Dependencies;\n        if (recursive && dependencies) {\n            for (const dependency of dependencies) {\n                /* For dependencies, we skip potential over-registration. */\n                if (!this.isRegistered(dependency.TypeName)) {\n                    this._registerComponent(dependency, recursive);\n                }\n            }\n        }\n        _setupDefaults(ctor);\n        const typeIndex = ctor.TypeName in this._componentTypeIndices\n            ? this._componentTypeIndices[ctor.TypeName]\n            : this._componentTypes.length;\n        this._componentTypes[typeIndex] = ctor;\n        this._componentTypeIndices[ctor.TypeName] = typeIndex;\n        console.log('WL: registered component', ctor.TypeName, 'with index', typeIndex);\n        return typeIndex;\n    }\n    /**\n     * Allocate the requested amount of temporary memory\n     * in this WASM instance.\n     *\n     * @param size The number of bytes to allocate\n     */\n    allocateTempMemory(size) {\n        console.log('Allocating temp mem:', size);\n        this._tempMemSize = size;\n        if (this._tempMem)\n            this._free(this._tempMem);\n        this._tempMem = this._malloc(this._tempMemSize);\n        this.updateTempMemory();\n    }\n    /**\n     * @todo: Delete this and only keep `allocateTempMemory`\n     *\n     * @param size Number of bytes to allocate\n     */\n    requireTempMem(size) {\n        if (this._tempMemSize >= size)\n            return;\n        /* Grow in 1kb increments */\n        this.allocateTempMemory(Math.ceil(size / 1024) * 1024);\n    }\n    /**\n     * Update the temporary memory views. This must be called whenever the\n     * temporary memory address changes.\n     *\n     * @note This api is meant to be used internally.\n     */\n    updateTempMemory() {\n        this._tempMemFloat = new Float32Array(this.HEAP8.buffer, this._tempMem, this._tempMemSize >> 2);\n        this._tempMemInt = new Int32Array(this.HEAP8.buffer, this._tempMem, this._tempMemSize >> 2);\n        this._tempMemUint32 = new Uint32Array(this.HEAP8.buffer, this._tempMem, this._tempMemSize >> 2);\n        this._tempMemUint16 = new Uint16Array(this.HEAP8.buffer, this._tempMem, this._tempMemSize >> 1);\n        this._tempMemUint8 = new Uint8Array(this.HEAP8.buffer, this._tempMem, this._tempMemSize);\n    }\n    /**\n     * Returns a uint8 buffer view on temporary WASM memory.\n     *\n     * **Note**: this method might allocate if the requested memory is bigger\n     * than the current temporary memory allocated.\n     *\n     * @param count The number of **elements** required\n     * @returns A {@link TypedArray} over the WASM memory\n     */\n    getTempBufferU8(count) {\n        this.requireTempMem(count);\n        return this._tempMemUint8;\n    }\n    /**\n     * Returns a uint16 buffer view on temporary WASM memory.\n     *\n     * **Note**: this method might allocate if the requested memory is bigger\n     * than the current temporary memory allocated.\n     *\n     * @param count The number of **elements** required\n     * @returns A {@link TypedArray} over the WASM memory\n     */\n    getTempBufferU16(count) {\n        this.requireTempMem(count * 2);\n        return this._tempMemUint16;\n    }\n    /**\n     * Returns a uint32 buffer view on temporary WASM memory.\n     *\n     * **Note**: this method might allocate if the requested memory is bigger\n     * than the current temporary memory allocated.\n     *\n     * @param count The number of **elements** required.\n     * @returns A {@link TypedArray} over the WASM memory.\n     */\n    getTempBufferU32(count) {\n        this.requireTempMem(count * 4);\n        return this._tempMemUint32;\n    }\n    /**\n     * Returns a int32 buffer view on temporary WASM memory.\n     *\n     * **Note**: this method might allocate if the requested memory is bigger\n     * than the current temporary memory allocated.\n     *\n     * @param count The number of **elements** required.\n     * @returns A {@link TypedArray} over the WASM memory.\n     */\n    getTempBufferI32(count) {\n        this.requireTempMem(count * 4);\n        return this._tempMemInt;\n    }\n    /**\n     * Returns a float32 buffer view on temporary WASM memory.\n     *\n     * **Note**: this method might allocate if the requested memory is bigger\n     * than the current temporary memory allocated.\n     *\n     * @param count The number of **elements** required.\n     * @returns A {@link TypedArray} over the WASM memory.\n     */\n    getTempBufferF32(count) {\n        this.requireTempMem(count * 4);\n        return this._tempMemFloat;\n    }\n    /**\n     * Copy the string into temporary WASM memory and retrieve the pointer.\n     *\n     * @note This method will compute the strlen and append a `\\0`.\n     *\n     * @note The result should be used **directly** otherwise it might get\n     * overridden by any next call modifying the temporary memory.\n     *\n     * @param str The string to write to temporary memory\n     * @return The temporary pointer onto the WASM memory\n     */\n    tempUTF8(str) {\n        const strLen = this.lengthBytesUTF8(str) + 1;\n        this.requireTempMem(strLen);\n        this.stringToUTF8(str, this._tempMem, strLen);\n        return this._tempMem;\n    }\n    /**\n     * Return the index of the component type.\n     *\n     * @note This method uses malloc and copies the string\n     * to avoid overwriting caller's temporary data.\n     *\n     * @param type The type\n     * @return The component type index\n     */\n    _typeIndexFor(type) {\n        const lengthBytes = this.lengthBytesUTF8(type) + 1;\n        const mem = this._malloc(lengthBytes);\n        this.stringToUTF8(type, mem, lengthBytes);\n        const componentType = this._wl_get_component_manager_index(mem);\n        this._free(mem);\n        return componentType;\n    }\n    /**\n     * Return the name of component type stored at the given index.\n     *\n     * @param typeIndex The type index\n     * @return The name as a string\n     */\n    _typeNameFor(typeIndex) {\n        return this.UTF8ToString(this._wl_component_manager_name(typeIndex));\n    }\n    /**\n     * Returns `true` if the runtime supports physx or not.\n     */\n    get withPhysX() {\n        return this._withPhysX;\n    }\n    /**\n     * Set the engine instance holding this bridge.\n     *\n     * @note This api is meant to be used internally.\n     *\n     * @param engine The engine instance.\n     */\n    _setEngine(engine) {\n        this._engine = engine;\n    }\n    /* WebAssembly to JS call bridge. */\n    _wljs_xr_session_start(mode) {\n        this._engine.xr = new XR(this, mode);\n        this._engine.onXRSessionStart.notify(this.webxr_session, mode);\n    }\n    _wljs_xr_session_end() {\n        this._engine.onXRSessionEnd.notify();\n        this._engine.xr = null;\n    }\n    _wljs_xr_disable() {\n        /* @todo This could directly be fully handled in JS. */\n        this._engine.arSupported = false;\n        this._engine.vrSupported = false;\n    }\n    _wljs_allocate(numComponents) {\n        this._components = new Array(numComponents);\n    }\n    _wljs_init(withPhysX) {\n        this._withPhysX = withPhysX;\n        /* Target memory for JS API functions that return arrays */\n        this.allocateTempMemory(1024);\n    }\n    _wljs_reallocate(numComponents) {\n        if (numComponents > this._components.length) {\n            this._components.length = numComponents;\n        }\n    }\n    _wljs_scene_add_material_definition(definitionId) {\n        const definition = new Map();\n        /* Cache material definition for faster read/write */\n        const nbParams = this._wl_material_definition_get_count(definitionId);\n        for (let i = 0; i < nbParams; ++i) {\n            const name = this.UTF8ToString(this._wl_material_definition_get_param_name(definitionId, i));\n            const t = this._wl_material_definition_get_param_type(definitionId, i);\n            definition.set(name, {\n                index: i,\n                type: {\n                    type: t & 0xff,\n                    componentCount: (t >> 8) & 0xff,\n                    metaType: (t >> 16) & 0xff,\n                },\n            });\n        }\n        this._materialDefinitions[definitionId] = definition;\n    }\n    _wljs_set_component_param_bool(c, p, pe, v) {\n        const param = this.UTF8ViewToString(p, pe);\n        this._components[c][param] = v !== 0;\n    }\n    _wljs_set_component_param_int(c, p, pe, v) {\n        const param = this.UTF8ViewToString(p, pe);\n        this._components[c][param] = v;\n    }\n    _wljs_set_component_param_float(c, p, pe, v) {\n        const param = this.UTF8ViewToString(p, pe);\n        this._components[c][param] = v;\n    }\n    _wljs_set_component_param_string(c, p, pe, v, ve) {\n        const param = this.UTF8ViewToString(p, pe);\n        const value = this.UTF8ViewToString(v, ve);\n        this._components[c][param] = value;\n    }\n    _wljs_set_component_param_color(c, p, pe, v) {\n        const param = this.UTF8ViewToString(p, pe);\n        this._components[c][param] = new Float32Array([0, 8, 16, 24].map((s) => ((v >>> s) & 0xff) / 255.0));\n    }\n    _wljs_set_component_param_object(c, p, pe, v) {\n        const param = this.UTF8ViewToString(p, pe);\n        this._components[c][param] =\n            v > 0 ? this._engine.wrapObject(v) : null;\n    }\n    _wljs_set_component_param_mesh(c, p, pe, v) {\n        const param = this.UTF8ViewToString(p, pe);\n        this._components[c][param] =\n            v > 0 ? new Mesh(this._engine, v) : null;\n    }\n    _wljs_set_component_param_texture(c, p, pe, v) {\n        const param = this.UTF8ViewToString(p, pe);\n        this._components[c][param] =\n            v > 0 ? new Texture(this._engine, v) : null;\n    }\n    _wljs_set_component_param_material(c, p, pe, v) {\n        const param = this.UTF8ViewToString(p, pe);\n        this._components[c][param] =\n            v > 0 ? new Material(this._engine, v) : null;\n    }\n    _wljs_set_component_param_animation(c, p, pe, v) {\n        const param = this.UTF8ViewToString(p, pe);\n        this._components[c][param] =\n            v > 0 ? new Animation(this._engine, v) : null;\n    }\n    _wljs_set_component_param_skin(c, p, pe, v) {\n        const param = this.UTF8ViewToString(p, pe);\n        this._components[c][param] =\n            v > 0 ? new Skin(this._engine, v) : null;\n    }\n    _wljs_get_component_type_index(namePtr, nameEndPtr) {\n        return this._componentTypeIndices[this.UTF8ViewToString(namePtr, nameEndPtr)];\n    }\n    _wljs_component_create(jsManagerIndex, index, id, type, object) {\n        const ctor = this._componentTypes[type];\n        const component = new ctor();\n        /* Sets the manager and identifier from the outside, to simplify the user's constructor. */\n        /* @ts-ignore */\n        component._engine = this._engine;\n        component._manager = jsManagerIndex;\n        component._id = id;\n        component._object = this._engine.wrapObject(object);\n        this._components[index] = component;\n        return component;\n    }\n    _wljs_component_init(component) {\n        const c = this._components[component];\n        if (c.init) {\n            try {\n                c.init();\n            }\n            catch (e) {\n                console.error(`Exception during ${c.type} init() on object ${c.object.name}`);\n                console.error(e);\n            }\n        }\n        if (c.start) {\n            /* Arm onActivate() with the initial start() call */\n            const oldActivate = c.onActivate;\n            c.onActivate = function () {\n                /* As \"component\" is the component index, which may change\n                 * through calls to init() and start(), we call it on the\n                 * calling object, which will be the component, instead of\n                 * wljs_component_start() etc */\n                try {\n                    if (this.start)\n                        this.start();\n                }\n                catch (e) {\n                    console.error(`Exception during ${this.type} start() on object ${this.object.name}`);\n                    console.error(e);\n                }\n                this.onActivate = oldActivate;\n                if (this.onActivate) {\n                    try {\n                        this.onActivate();\n                    }\n                    catch (e) {\n                        console.error(`Exception during ${this.type} onActivate() on object ${this.object.name}`);\n                        console.error(e);\n                    }\n                }\n            };\n        }\n    }\n    _wljs_component_update(component, dt) {\n        const c = this._components[component];\n        if (!c) {\n            console.warn('WL: component was undefined:', component);\n            this._components[component] = new Component(this._engine);\n            return;\n        }\n        if (!c.update)\n            return;\n        try {\n            c.update(dt);\n        }\n        catch (e) {\n            console.error(`Exception during ${c.type} update() on object ${c.object.name}`);\n            console.error(e);\n            if (this._deactivate_component_on_error)\n                c.active = false;\n        }\n    }\n    _wljs_component_onActivate(component) {\n        const c = this._components[component];\n        if (!c || !c.onActivate)\n            return;\n        try {\n            c.onActivate();\n        }\n        catch (e) {\n            console.error(`Exception during ${c.type} onActivate() on object ${c.object.name}`);\n            console.error(e);\n        }\n    }\n    _wljs_component_onDeactivate(component) {\n        const c = this._components[component];\n        if (!c.onDeactivate)\n            return;\n        try {\n            c.onDeactivate();\n        }\n        catch (e) {\n            console.error(`Exception during ${c.type} onDeactivate() on object ${c.object.name}`);\n            console.error(e);\n        }\n    }\n    _wljs_component_onDestroy(component) {\n        const c = this._components[component];\n        if (!c.onDestroy)\n            return;\n        try {\n            c.onDestroy();\n        }\n        catch (e) {\n            console.error(`Exception during ${c.type} onDestroy() on object ${c.object.name}`);\n            console.error(e);\n        }\n    }\n    _wljs_swap(a, b) {\n        const componentA = this._components[a];\n        this._components[a] = this._components[b];\n        this._components[b] = componentA;\n    }\n    /* JS to WebAssembly bridge. */\n    HEAP8 = null;\n    HEAPU8 = null;\n    HEAPU16 = null;\n    HEAPU32 = null;\n    HEAP32 = null;\n    HEAPF32 = null;\n    GL = null;\n    assert = null;\n    _free = null;\n    _malloc = null;\n    lengthBytesUTF8 = null;\n    stringToUTF8 = null;\n    UTF8ToString = null;\n    addFunction = null;\n    _wl_set_error_callback = null;\n    _wl_application_start = null;\n    _wl_scene_get_active_views = null;\n    _wl_scene_ray_cast = null;\n    _wl_scene_add_object = null;\n    _wl_scene_add_objects = null;\n    _wl_scene_reserve_objects = null;\n    _wl_scene_set_clearColor = null;\n    _wl_scene_enableColorClear = null;\n    _wl_load_scene = null;\n    _wl_append_scene = null;\n    _wl_scene_reset = null;\n    _wl_component_get_object = null;\n    _wl_component_setActive = null;\n    _wl_component_isActive = null;\n    _wl_component_remove = null;\n    _wl_collision_component_get_collider = null;\n    _wl_collision_component_set_collider = null;\n    _wl_collision_component_get_extents = null;\n    _wl_collision_component_get_group = null;\n    _wl_collision_component_set_group = null;\n    _wl_collision_component_query_overlaps = null;\n    _wl_text_component_get_horizontal_alignment = null;\n    _wl_text_component_set_horizontal_alignment = null;\n    _wl_text_component_get_vertical_alignment = null;\n    _wl_text_component_set_vertical_alignment = null;\n    _wl_text_component_get_character_spacing = null;\n    _wl_text_component_set_character_spacing = null;\n    _wl_text_component_get_line_spacing = null;\n    _wl_text_component_set_line_spacing = null;\n    _wl_text_component_get_effect = null;\n    _wl_text_component_set_effect = null;\n    _wl_text_component_get_text = null;\n    _wl_text_component_set_text = null;\n    _wl_text_component_set_material = null;\n    _wl_text_component_get_material = null;\n    _wl_view_component_get_projection_matrix = null;\n    _wl_view_component_get_near = null;\n    _wl_view_component_set_near = null;\n    _wl_view_component_get_far = null;\n    _wl_view_component_set_far = null;\n    _wl_view_component_get_fov = null;\n    _wl_view_component_set_fov = null;\n    _wl_input_component_get_type = null;\n    _wl_input_component_set_type = null;\n    _wl_light_component_get_color = null;\n    _wl_light_component_get_type = null;\n    _wl_light_component_set_type = null;\n    _wl_animation_component_get_animation = null;\n    _wl_animation_component_set_animation = null;\n    _wl_animation_component_get_playCount = null;\n    _wl_animation_component_set_playCount = null;\n    _wl_animation_component_get_speed = null;\n    _wl_animation_component_set_speed = null;\n    _wl_animation_component_play = null;\n    _wl_animation_component_stop = null;\n    _wl_animation_component_pause = null;\n    _wl_animation_component_state = null;\n    _wl_mesh_component_get_material = null;\n    _wl_mesh_component_set_material = null;\n    _wl_mesh_component_get_mesh = null;\n    _wl_mesh_component_set_mesh = null;\n    _wl_mesh_component_get_skin = null;\n    _wl_mesh_component_set_skin = null;\n    _wl_physx_component_get_static = null;\n    _wl_physx_component_set_static = null;\n    _wl_physx_component_get_kinematic = null;\n    _wl_physx_component_set_kinematic = null;\n    _wl_physx_component_get_gravity = null;\n    _wl_physx_component_set_gravity = null;\n    _wl_physx_component_get_simulate = null;\n    _wl_physx_component_set_simulate = null;\n    _wl_physx_component_get_allowSimulation = null;\n    _wl_physx_component_set_allowSimulation = null;\n    _wl_physx_component_get_allowQuery = null;\n    _wl_physx_component_set_allowQuery = null;\n    _wl_physx_component_get_trigger = null;\n    _wl_physx_component_set_trigger = null;\n    _wl_physx_component_get_shape = null;\n    _wl_physx_component_set_shape = null;\n    _wl_physx_component_get_shape_data = null;\n    _wl_physx_component_set_shape_data = null;\n    _wl_physx_component_get_extents = null;\n    _wl_physx_component_get_staticFriction = null;\n    _wl_physx_component_set_staticFriction = null;\n    _wl_physx_component_get_dynamicFriction = null;\n    _wl_physx_component_set_dynamicFriction = null;\n    _wl_physx_component_get_bounciness = null;\n    _wl_physx_component_set_bounciness = null;\n    _wl_physx_component_get_linearDamping = null;\n    _wl_physx_component_set_linearDamping = null;\n    _wl_physx_component_get_angularDamping = null;\n    _wl_physx_component_set_angularDamping = null;\n    _wl_physx_component_get_linearVelocity = null;\n    _wl_physx_component_set_linearVelocity = null;\n    _wl_physx_component_get_angularVelocity = null;\n    _wl_physx_component_set_angularVelocity = null;\n    _wl_physx_component_get_groupsMask = null;\n    _wl_physx_component_set_groupsMask = null;\n    _wl_physx_component_get_blocksMask = null;\n    _wl_physx_component_set_blocksMask = null;\n    _wl_physx_component_get_linearLockAxis = null;\n    _wl_physx_component_set_linearLockAxis = null;\n    _wl_physx_component_get_angularLockAxis = null;\n    _wl_physx_component_set_angularLockAxis = null;\n    _wl_physx_component_get_mass = null;\n    _wl_physx_component_set_mass = null;\n    _wl_physx_component_set_massSpaceInertiaTensor = null;\n    _wl_physx_component_addForce = null;\n    _wl_physx_component_addForceAt = null;\n    _wl_physx_component_addTorque = null;\n    _wl_physx_component_addCallback = null;\n    _wl_physx_component_removeCallback = null;\n    _wl_physx_update = null;\n    _wl_physx_update_global_pose = null;\n    _wl_physx_ray_cast = null;\n    _wl_physx_set_collision_callback = null;\n    _wl_mesh_create = null;\n    _wl_mesh_get_vertexData = null;\n    _wl_mesh_get_vertexCount = null;\n    _wl_mesh_get_indexData = null;\n    _wl_mesh_update = null;\n    _wl_mesh_get_boundingSphere = null;\n    _wl_mesh_get_attribute = null;\n    _wl_mesh_destroy = null;\n    _wl_mesh_get_attribute_values = null;\n    _wl_mesh_set_attribute_values = null;\n    _wl_material_create = null;\n    _wl_material_get_definition = null;\n    _wl_material_definition_get_count = null;\n    _wl_material_definition_get_param_name = null;\n    _wl_material_definition_get_param_type = null;\n    /** @deprecated */\n    _wl_material_get_shader = null;\n    _wl_material_get_pipeline = null;\n    _wl_material_clone = null;\n    _wl_material_get_param_index = null;\n    _wl_material_get_param_type = null;\n    _wl_material_get_param_value = null;\n    _wl_material_set_param_value_uint = null;\n    _wl_material_set_param_value_float = null;\n    _wl_renderer_addImage = null;\n    _wl_texture_width = null;\n    _wl_texture_height = null;\n    _wl_renderer_updateImage = null;\n    _wl_texture_destroy = null;\n    _wl_animation_get_duration = null;\n    _wl_animation_get_trackCount = null;\n    _wl_animation_retargetToSkin = null;\n    _wl_animation_retarget = null;\n    _wl_object_name = null;\n    _wl_object_set_name = null;\n    _wl_object_parent = null;\n    _wl_object_get_children_count = null;\n    _wl_object_get_children = null;\n    _wl_object_set_parent = null;\n    _wl_object_reset_scaling = null;\n    _wl_object_reset_translation_rotation = null;\n    _wl_object_reset_rotation = null;\n    _wl_object_reset_translation = null;\n    _wl_object_translate = null;\n    _wl_object_translate_obj = null;\n    _wl_object_translate_world = null;\n    _wl_object_rotate_axis_angle = null;\n    _wl_object_rotate_axis_angle_rad = null;\n    _wl_object_rotate_axis_angle_obj = null;\n    _wl_object_rotate_axis_angle_rad_obj = null;\n    _wl_object_rotate_quat = null;\n    _wl_object_rotate_quat_obj = null;\n    _wl_object_scale = null;\n    _wl_object_trans_local = null;\n    _wl_object_get_translation_local = null;\n    _wl_object_set_translation_local = null;\n    _wl_object_get_translation_world = null;\n    _wl_object_set_translation_world = null;\n    _wl_object_trans_world = null;\n    _wl_object_trans_world_to_local = null;\n    _wl_object_scaling_local = null;\n    _wl_object_scaling_world = null;\n    _wl_object_scaling_world_to_local = null;\n    _wl_object_set_rotation_local = null;\n    _wl_object_set_rotation_world = null;\n    _wl_object_transformVectorWorld = null;\n    _wl_object_transformVectorLocal = null;\n    _wl_object_transformPointWorld = null;\n    _wl_object_transformPointLocal = null;\n    _wl_object_transformVectorInverseWorld = null;\n    _wl_object_transformVectorInverseLocal = null;\n    _wl_object_transformPointInverseWorld = null;\n    _wl_object_transformPointInverseLocal = null;\n    _wl_object_toWorldSpaceTransform = null;\n    _wl_object_toObjectSpaceTransform = null;\n    _wl_object_lookAt = null;\n    _wl_scene_remove_object = null;\n    _wl_object_set_dirty = null;\n    _wl_get_component_manager_index = null;\n    _wl_get_js_component_index = null;\n    _wl_get_js_component_index_for_id = null;\n    _wl_get_component_id = null;\n    _wl_object_get_components = null;\n    _wl_object_get_component_types = null;\n    _wl_object_add_js_component = null;\n    _wl_object_add_component = null;\n    _wl_object_is_changed = null;\n    _wl_component_manager_name = null;\n    _wl_skin_get_joint_count = null;\n    _wl_skin_joint_ids = null;\n    _wl_skin_inverse_bind_transforms = null;\n    _wl_skin_inverse_bind_scalings = null;\n    _wl_math_cubicHermite = null;\n    _wl_i18n_setLanguage = null;\n    _wl_i18n_currentLanguage = null;\n    _wl_i18n_translate = null;\n    _wl_i18n_languageCount = null;\n    _wl_i18n_languageIndex = null;\n    _wl_i18n_languageCode = null;\n    _wl_i18n_languageName = null;\n}\n", "import { Component, Type } from '@wonderlandengine/api';\n/**\n * 8thwall camera component.\n *\n * Sets up the 8thwall pipeline and retrieves tracking events to place an\n * object at the location of the tracked AR camera / mobile device.\n *\n * Use this for SLAM tracking based on 8thwall.\n *\n * Make sure to enable 8thwall in \"Project Settings\" > \"AR\". See also the\n * [AR Getting Started Guide](/getting-started/quick-start-ar)\n *\n *\n * Currently only supports world-tracking (SLAM) using BACK camera.\n *\n * - remove any occurrences of the old 8thwall-camera component in the editor\n * - Add this component to NonVrCamera\n *\n * IMPORTANT!\n * - until it get's fixed, select 'customIndexHtml' in the project settings\n * - open a generated index.html and crossorigin=\"anonymous\" attribute to the <script> tag where //apps.8thwall.com/xrweb is loaded\n *\n *\n * ######### Using UI overlays #############\n * By default, this component renders own UI to give the user feedback about rejected permissions or tracking errors.\n * It can be changed by enabling useCustomUIOverlays flag.\n *\n * If useCustomUIOverlays is enabled, you are expected handle the following events dispatched by the window object:\n * - \"8thwall-request-user-interaction\" - used only on iOS safari. Request a user to perform and interaction with the page so that javascript is allowed to allowed to request a motion/camera/mic permissions.\n *  Make sure the window object is dispatching an '8thwall-safe-to-request-permissions' event after interaction has happened.\n * ```\n * <button onclick=\"window.dispatchEvent(new Event('8thwall-safe-to-request-permissions'))\">Allow Sensors</button>\n * ```\n *\n * - \"8thwall-permission-fail\" - user rejected any of the permissions\n *\n * - \"8thwall-error\" - runtime 8thwall error occurred\n */\nclass ARCamera8thwall extends Component {\n    static TypeName = '8thwall-camera';\n    static Properties = {\n        /** Override the WL html overlays for handling camera/motion permissions and error handling */\n        useCustomUIOverlays: { type: Type.Bool, default: false },\n    };\n    /* 8thwall camera pipeline module name */\n    name = 'wonderland-engine-8thwall-camera';\n    started = false;\n    view = null; // cache camera\n    position = [0, 0, 0]; // cache 8thwall cam position\n    rotation = [0, 0, 0, -1]; // cache 8thwall cam rotation\n    glTextureRenderer = null; // cache XR8.GlTextureRenderer.pipelineModule\n    promptForDeviceMotion() {\n        return new Promise(async (resolve, reject) => {\n            // Tell anyone who's interested that we want to get some user interaction\n            window.dispatchEvent(new Event('8thwall-request-user-interaction'));\n            // Wait until someone response that user interaction happened\n            window.addEventListener('8thwall-safe-to-request-permissions', async () => {\n                try {\n                    const motionEvent = await DeviceMotionEvent.requestPermission();\n                    resolve(motionEvent);\n                }\n                catch (exception) {\n                    reject(exception);\n                }\n            });\n        });\n    }\n    async getPermissions() {\n        // iOS \"feature\". If we want to request the DeviceMotion permission, user has to interact with the page at first (touch it).\n        // If there was no interaction done so far, we will render a HTML overlay with would get the user to interact with the screen\n        if (DeviceMotionEvent && DeviceMotionEvent.requestPermission) {\n            try {\n                const result = await DeviceMotionEvent.requestPermission();\n                // The user must have rejected the motion event on previous page load. (safari remembers this choice).\n                if (result !== 'granted') {\n                    throw new Error('MotionEvent');\n                }\n            }\n            catch (exception) {\n                // User had no interaction with the page so far\n                if (exception.name === 'NotAllowedError') {\n                    const motionEvent = await this.promptForDeviceMotion();\n                    if (motionEvent !== 'granted') {\n                        throw new Error('MotionEvent');\n                    }\n                }\n                else {\n                    throw new Error('MotionEvent');\n                }\n            }\n        }\n        try {\n            // make sure we get the camera stream\n            const stream = await navigator.mediaDevices.getUserMedia({\n                video: true,\n                audio: true,\n            });\n            // If we successfully acquired the camera stream - we can stop it and wait until 8thwall requests it again\n            stream.getTracks().forEach((track) => {\n                track.stop();\n            });\n        }\n        catch (exception) {\n            throw new Error('Camera');\n        }\n    }\n    init() {\n        this.view = this.object.getComponent('view');\n        this.onUpdate = this.onUpdate.bind(this);\n        this.onAttach = this.onAttach.bind(this);\n        this.onException = this.onException.bind(this);\n        this.onCameraStatusChange = this.onCameraStatusChange.bind(this);\n    }\n    async start() {\n        this.view = this.object.getComponent('view');\n        if (!this.useCustomUIOverlays) {\n            OverlaysHandler.init();\n        }\n        try {\n            await this.getPermissions();\n        }\n        catch (error) {\n            // User did not grant the camera or motionEvent permissions\n            window.dispatchEvent(new CustomEvent('8thwall-permission-fail', { detail: error }));\n            return;\n        }\n        await this.waitForXR8();\n        XR8.XrController.configure({\n            disableWorldTracking: false,\n        });\n        this.glTextureRenderer = XR8.GlTextureRenderer.pipelineModule();\n        XR8.addCameraPipelineModules([\n            this.glTextureRenderer,\n            XR8.XrController.pipelineModule(),\n            this,\n        ]);\n        const config = {\n            cameraConfig: {\n                direction: XR8.XrConfig.camera().BACK,\n            },\n            canvas: Module.canvas,\n            allowedDevices: XR8.XrConfig.device().ANY,\n            ownRunLoop: false,\n        };\n        XR8.run(config);\n    }\n    /**\n     * @private\n     * 8thwall pipeline function\n     */\n    onAttach(params) {\n        this.started = true;\n        this.engine.scene.colorClearEnabled = false;\n        const gl = Module.ctx;\n        const rot = this.object.rotationWorld;\n        const pos = this.object.getTranslationWorld([]);\n        this.position = Array.from(pos);\n        this.rotation = Array.from(rot);\n        XR8.XrController.updateCameraProjectionMatrix({\n            origin: { x: pos[0], y: pos[1], z: pos[2] },\n            facing: { x: rot[0], y: rot[1], z: rot[2], w: rot[3] },\n            cam: {\n                pixelRectWidth: Module.canvas.width,\n                pixelRectHeight: Module.canvas.height,\n                nearClipPlane: this.view.near,\n                farClipPlane: this.view.far,\n            },\n        });\n        this.engine.scene.onPreRender.push(() => {\n            gl.bindFramebuffer(gl.DRAW_FRAMEBUFFER, null);\n            XR8.runPreRender(Date.now());\n            XR8.runRender(); // <--- tell 8thwall to do it's thing (alternatively call this.glTextureRenderer.onRender() if you only care about camera feed )\n        });\n        this.engine.scene.onPostRender.push(() => {\n            XR8.runPostRender(Date.now());\n        });\n    }\n    /**\n     * @private\n     * 8thwall pipeline function\n     */\n    onCameraStatusChange(e) {\n        if (e && e.status === 'failed') {\n            this.onException(new Error(`Camera failed with status: ${e.status}`));\n        }\n    }\n    /**\n     * @private\n     * 8thwall pipeline function\n     */\n    onUpdate(e) {\n        if (!e.processCpuResult.reality)\n            return;\n        const { rotation, position, intrinsics } = e.processCpuResult.reality;\n        this.rotation[0] = rotation.x;\n        this.rotation[1] = rotation.y;\n        this.rotation[2] = rotation.z;\n        this.rotation[3] = rotation.w;\n        this.position[0] = position.x;\n        this.position[1] = position.y;\n        this.position[2] = position.z;\n        if (intrinsics) {\n            const projectionMatrix = this.view.projectionMatrix;\n            for (let i = 0; i < 16; i++) {\n                /* Some processCpuResult.reality.intrinsics are set to Infinity,\n                 * which brakes our projectionMatrix. So we just filter those elements out. */\n                if (Number.isFinite(intrinsics[i])) {\n                    projectionMatrix[i] = intrinsics[i];\n                }\n            }\n        }\n        if (position && rotation) {\n            this.object.rotationWorld = this.rotation;\n            this.object.setTranslationWorld(this.position);\n        }\n    }\n    /**\n     * @private\n     * 8thwall pipeline function\n     */\n    onException(error) {\n        console.error('8thwall exception:', error);\n        window.dispatchEvent(new CustomEvent('8thwall-error', { detail: error }));\n    }\n    waitForXR8() {\n        return new Promise((resolve, _rej) => {\n            if (window.XR8) {\n                resolve();\n            }\n            else {\n                window.addEventListener('xrloaded', () => resolve());\n            }\n        });\n    }\n}\nexport { ARCamera8thwall };\nconst OverlaysHandler = {\n    init: function () {\n        this.handleRequestUserInteraction = this.handleRequestUserInteraction.bind(this);\n        this.handlePermissionFail = this.handlePermissionFail.bind(this);\n        this.handleError = this.handleError.bind(this);\n        window.addEventListener('8thwall-request-user-interaction', this.handleRequestUserInteraction);\n        window.addEventListener('8thwall-permission-fail', this.handlePermissionFail);\n        window.addEventListener('8thwall-error', this.handleError);\n    },\n    handleRequestUserInteraction: function () {\n        const overlay = this.showOverlay(requestPermissionOverlay);\n        window.addEventListener('8thwall-safe-to-request-permissions', () => {\n            overlay.remove();\n        });\n    },\n    handlePermissionFail: function (_reason) {\n        this.showOverlay(failedPermissionOverlay);\n    },\n    handleError: function (_error) {\n        this.showOverlay(runtimeErrorOverlay);\n    },\n    showOverlay: function (htmlContent) {\n        const overlay = document.createElement('div');\n        overlay.innerHTML = htmlContent;\n        document.body.appendChild(overlay);\n        return overlay;\n    },\n};\nconst requestPermissionOverlay = `\n<style>\n  #request-permission-overlay {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    z-index: 999;\n    color: #fff;\n    background-color: rgba(0, 0, 0, 0.5);\n    text-align: center;\n    font-family: sans-serif;\n  }\n\n  .request-permission-overlay_title {\n    margin: 30px;\n    font-size: 32px;\n  }\n\n  .request-permission-overlay_button {\n    background-color: #e80086;\n    font-size: 22px;\n    padding: 10px 30px;\n    color: #fff;\n    border-radius: 15px;\n    border: none;\n  }\n</style>\n\n<div id=\"request-permission-overlay\">\n  <div class=\"request-permission-overlay_title\">This app requires to use your camera and motion sensors</div>\n\n  <button class=\"request-permission-overlay_button\" onclick=\"window.dispatchEvent(new Event('8thwall-safe-to-request-permissions'))\">OK</button>\n</div>`;\nconst failedPermissionOverlay = `\n<style>\n  #failed-permission-overlay {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    z-index: 999;\n    color: #fff;\n    background-color: rgba(0, 0, 0, 0.5);\n    text-align: center;\n    font-family: sans-serif;\n  }\n\n  .failed-permission-overlay_title {\n    margin: 30px;\n    font-size: 32px;\n  }\n\n  .failed-permission-overlay_button {\n    background-color: #e80086;\n    font-size: 22px;\n    padding: 10px 30px;\n    color: #fff;\n    border-radius: 15px;\n    border: none;\n  }\n</style>\n\n<div id=\"failed-permission-overlay\">\n  <div class=\"failed-permission-overlay_title\">Failed to grant permissions. Reset the the permissions and refresh the page.</div>\n\n  <button class=\"failed-permission-overlay_button\" onclick=\"window.location.reload()\">Refresh the page</button>\n</div>`;\nconst runtimeErrorOverlay = `\n<style>\n  #wall-error-overlay {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    z-index: 999;\n    color: #fff;\n    background-color: rgba(0, 0, 0, 0.5);\n    text-align: center;\n    font-family: sans-serif;\n  }\n\n  .wall-error-overlay_title {\n    margin: 30px;\n    font-size: 32px;\n  }\n\n  .wall-error-overlay_button {\n    background-color: #e80086;\n    font-size: 22px;\n    padding: 10px 30px;\n    color: #fff;\n    border-radius: 15px;\n    border: none;\n  }\n</style>\n\n<div id=\"wall-error-overlay\">\n  <div class=\"wall-error-overlay_title\">Error has occurred. Please reload the page</div>\n\n  <button class=\"wall-error-overlay_button\" onclick=\"window.location.reload()\">Reload</button>\n</div>`;\n", "import { Component, Emitter } from '@wonderlandengine/api';\n/**\n * Click/hover/move/button target for [cursor](#cursor).\n *\n * To trigger code when clicking, hovering, unhovering, moving cursor, pressing\n * cursor button or releasing cursor button, use `.addClickFunction(f)`,\n * `.addHoverFunction(f)`, `.addUnHoverFunction(f)`,\n * `.addMoveFunction(f)`, `.addDownFunction(f)` and\n * `.addUpFunction(f)` respectively with any `function f() {}`.\n *\n * To call members on a different component, you can set up a cursor target like\n * so:\n *\n * ```js\n * start: function() {\n *   let target = this.object.addComponent('cursor-target');\n *   target.onClick.add(this.onClick.bind(this));\n * },\n * onClick: function() {\n *   console.log(this.object.name, \"was clicked!\");\n * }\n * ```\n * **Functions:**\n *\n * ```js\n * const target = this.object.getComponent(CursorTarget);\n * const callback = function(object, cursorComponent) {};\n *\n * target.onHover.add(callback);\n * target.onHover.remove(callback);\n *\n * target.onUnHover.add(callback);\n * target.onUnHover.remove(callback);\n *\n * target.onClick.add(callback);\n * target.onClick.remove(callback);\n *\n * target.onMove.add(callback);\n * target.onMove.remove(callback);\n *\n * target.onDown.add(callback);\n * target.onDown.remove(callback);\n *\n * target.onUp.add(callback);\n * target.onUp.remove(callback);\n * ```\n *\n * **Requirements:**\n * - a `collision` component to be attached to the same object.\n *\n * See [Animation Example](/showcase/animation).\n */\nclass CursorTarget extends Component {\n    static TypeName = 'cursor-target';\n    static Properties = {};\n    /** Emitter for events when the target is hovered */\n    onHover = new Emitter();\n    /** Emitter for events when the target is unhovered */\n    onUnhover = new Emitter();\n    /** Emitter for events when the target is clicked */\n    onClick = new Emitter();\n    /** Emitter for events when the cursor moves on the target */\n    onMove = new Emitter();\n    /** Emitter for events when the user pressed the select button on the target */\n    onDown = new Emitter();\n    /** Emitter for events when the user unpressed the select button on the target */\n    onUp = new Emitter();\n    /**\n     * @deprecated Use the emitter instead.\n     *\n     * @example\n     *    this.onHover.add(f);\n     */\n    addHoverFunction(f) {\n        this.onHover.add(f);\n    }\n    /**\n     * @deprecated Use the emitter instead.\n     *\n     * @example\n     *    this.onHover.remove(f);\n     */\n    removeHoverFunction(f) {\n        this.onHover.remove(f);\n    }\n    /**\n     * @deprecated Use the emitter instead.\n     *\n     * @example\n     *    this.onUnhover.add(f);\n     */\n    addUnHoverFunction(f) {\n        this.onUnhover.add(f);\n    }\n    /**\n     * @deprecated Use the emitter instead.\n     *\n     * @example\n     *    this.onUnhover.remove(f);\n     */\n    removeUnHoverFunction(f) {\n        this.onUnhover.remove(f);\n    }\n    /**\n     * @deprecated Use the emitter instead.\n     *\n     * @example\n     *    this.onClick.add(f);\n     */\n    addClickFunction(f) {\n        this.onClick.add(f);\n    }\n    /**\n     * @deprecated Use the emitter instead.\n     *\n     * @example\n     *    component.onClick.remove(f);\n     */\n    removeClickFunction(f) {\n        this.onClick.remove(f);\n    }\n    /**\n     * @deprecated Use the emitter instead.\n     *\n     * @example\n     *    component.onMove.add(f);\n     */\n    addMoveFunction(f) {\n        this.onMove.add(f);\n    }\n    /**\n     * @deprecated Use the emitter instead.\n     *\n     * @example\n     *    component.onMove.remove(f);\n     */\n    removeMoveFunction(f) {\n        this.onMove.remove(f);\n    }\n    /**\n     * @deprecated Use the emitter instead.\n     *\n     * @example\n     *    component.onDown.add(f);\n     */\n    addDownFunction(f) {\n        this.onDown.add(f);\n    }\n    /**\n     * @deprecated Use the emitter instead.\n     *\n     * @example\n     *    component.onDown.remove(f);\n     */\n    removeDownFunction(f) {\n        this.onDown.remove(f);\n    }\n    /**\n     * @deprecated Use the emitter instead.\n     *\n     * @example\n     *    component.onUp.add(f);\n     */\n    addUpFunction(f) {\n        this.onUp.add(f);\n    }\n    /**\n     * @deprecated Use the emitter instead.\n     *\n     * @example\n     *    component.onUp.remove(f);\n     */\n    removeUpFunction(f) {\n        this.onUp.remove(f);\n    }\n}\nexport { CursorTarget };\n", "/**\n * Common utilities\n * @module glMatrix\n */\n// Configuration Constants\nexport var EPSILON = 0.000001;\nexport var ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nexport var RANDOM = Math.random;\n/**\n * Sets the type of array used when creating new vectors and matrices\n *\n * @param {Float32ArrayConstructor | ArrayConstructor} type Array type, such as Float32Array or Array\n */\n\nexport function setMatrixArrayType(type) {\n  ARRAY_TYPE = type;\n}\nvar degree = Math.PI / 180;\n/**\n * Convert Degree To Radian\n *\n * @param {Number} a Angle in Degrees\n */\n\nexport function toRadian(a) {\n  return a * degree;\n}\n/**\n * Tests whether or not the arguments have approximately the same value, within an absolute\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\n * than or equal to 1.0, and a relative tolerance is used for larger values)\n *\n * @param {Number} a The first number to test.\n * @param {Number} b The second number to test.\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}\nif (!Math.hypot) Math.hypot = function () {\n  var y = 0,\n      i = arguments.length;\n\n  while (i--) {\n    y += arguments[i] * arguments[i];\n  }\n\n  return Math.sqrt(y);\n};", "import * as glMatrix from \"./common.js\";\n/**\n * 3x3 Matrix\n * @module mat3\n */\n\n/**\n * Creates a new identity mat3\n *\n * @returns {mat3} a new 3x3 matrix\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(9);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[5] = 0;\n    out[6] = 0;\n    out[7] = 0;\n  }\n\n  out[0] = 1;\n  out[4] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\n * Copies the upper-left 3x3 values into the given mat3.\n *\n * @param {mat3} out the receiving 3x3 matrix\n * @param {ReadonlyMat4} a   the source 4x4 matrix\n * @returns {mat3} out\n */\n\nexport function fromMat4(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[4];\n  out[4] = a[5];\n  out[5] = a[6];\n  out[6] = a[8];\n  out[7] = a[9];\n  out[8] = a[10];\n  return out;\n}\n/**\n * Creates a new mat3 initialized with values from an existing matrix\n *\n * @param {ReadonlyMat3} a matrix to clone\n * @returns {mat3} a new 3x3 matrix\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Copy the values from one mat3 to another\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Create a new mat3 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} A new mat3\n */\n\nexport function fromValues(m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\n * Set the components of a mat3 to the given values\n *\n * @param {mat3} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} out\n */\n\nexport function set(out, m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\n * Set a mat3 to the identity matrix\n *\n * @param {mat3} out the receiving matrix\n * @returns {mat3} out\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Transpose the values of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a12 = a[5];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a01;\n    out[5] = a[7];\n    out[6] = a02;\n    out[7] = a12;\n  } else {\n    out[0] = a[0];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a[1];\n    out[4] = a[4];\n    out[5] = a[7];\n    out[6] = a[2];\n    out[7] = a[5];\n    out[8] = a[8];\n  }\n\n  return out;\n}\n/**\n * Inverts a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b01 = a22 * a11 - a12 * a21;\n  var b11 = -a22 * a10 + a12 * a20;\n  var b21 = a21 * a10 - a11 * a20; // Calculate the determinant\n\n  var det = a00 * b01 + a01 * b11 + a02 * b21;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = b01 * det;\n  out[1] = (-a22 * a01 + a02 * a21) * det;\n  out[2] = (a12 * a01 - a02 * a11) * det;\n  out[3] = b11 * det;\n  out[4] = (a22 * a00 - a02 * a20) * det;\n  out[5] = (-a12 * a00 + a02 * a10) * det;\n  out[6] = b21 * det;\n  out[7] = (-a21 * a00 + a01 * a20) * det;\n  out[8] = (a11 * a00 - a01 * a10) * det;\n  return out;\n}\n/**\n * Calculates the adjugate of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  out[0] = a11 * a22 - a12 * a21;\n  out[1] = a02 * a21 - a01 * a22;\n  out[2] = a01 * a12 - a02 * a11;\n  out[3] = a12 * a20 - a10 * a22;\n  out[4] = a00 * a22 - a02 * a20;\n  out[5] = a02 * a10 - a00 * a12;\n  out[6] = a10 * a21 - a11 * a20;\n  out[7] = a01 * a20 - a00 * a21;\n  out[8] = a00 * a11 - a01 * a10;\n  return out;\n}\n/**\n * Calculates the determinant of a mat3\n *\n * @param {ReadonlyMat3} a the source matrix\n * @returns {Number} determinant of a\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  return a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);\n}\n/**\n * Multiplies two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b00 = b[0],\n      b01 = b[1],\n      b02 = b[2];\n  var b10 = b[3],\n      b11 = b[4],\n      b12 = b[5];\n  var b20 = b[6],\n      b21 = b[7],\n      b22 = b[8];\n  out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n  out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n  out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n  out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n  out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n  out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n  out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n  out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n  out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n  return out;\n}\n/**\n * Translate a mat3 by the given vector\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to translate\n * @param {ReadonlyVec2} v vector to translate by\n * @returns {mat3} out\n */\n\nexport function translate(out, a, v) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      x = v[0],\n      y = v[1];\n  out[0] = a00;\n  out[1] = a01;\n  out[2] = a02;\n  out[3] = a10;\n  out[4] = a11;\n  out[5] = a12;\n  out[6] = x * a00 + y * a10 + a20;\n  out[7] = x * a01 + y * a11 + a21;\n  out[8] = x * a02 + y * a12 + a22;\n  return out;\n}\n/**\n * Rotates a mat3 by the given angle\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\n\nexport function rotate(out, a, rad) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c * a00 + s * a10;\n  out[1] = c * a01 + s * a11;\n  out[2] = c * a02 + s * a12;\n  out[3] = c * a10 - s * a00;\n  out[4] = c * a11 - s * a01;\n  out[5] = c * a12 - s * a02;\n  out[6] = a20;\n  out[7] = a21;\n  out[8] = a22;\n  return out;\n}\n/**\n * Scales the mat3 by the dimensions in the given vec2\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to rotate\n * @param {ReadonlyVec2} v the vec2 to scale the matrix by\n * @returns {mat3} out\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1];\n  out[0] = x * a[0];\n  out[1] = x * a[1];\n  out[2] = x * a[2];\n  out[3] = y * a[3];\n  out[4] = y * a[4];\n  out[5] = y * a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.translate(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyVec2} v Translation vector\n * @returns {mat3} out\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = v[0];\n  out[7] = v[1];\n  out[8] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a given angle\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.rotate(dest, dest, rad);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\n\nexport function fromRotation(out, rad) {\n  var s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = -s;\n  out[4] = c;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.scale(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyVec2} v Scaling vector\n * @returns {mat3} out\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = v[1];\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Copies the values from a mat2d into a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat2d} a the matrix to copy\n * @returns {mat3} out\n **/\n\nexport function fromMat2d(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = 0;\n  out[3] = a[2];\n  out[4] = a[3];\n  out[5] = 0;\n  out[6] = a[4];\n  out[7] = a[5];\n  out[8] = 1;\n  return out;\n}\n/**\n * Calculates a 3x3 matrix from the given quaternion\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyQuat} q Quaternion to create matrix from\n *\n * @returns {mat3} out\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[3] = yx - wz;\n  out[6] = zx + wy;\n  out[1] = yx + wz;\n  out[4] = 1 - xx - zz;\n  out[7] = zy - wx;\n  out[2] = zx - wy;\n  out[5] = zy + wx;\n  out[8] = 1 - xx - yy;\n  return out;\n}\n/**\n * Calculates a 3x3 normal matrix (transpose inverse) from the 4x4 matrix\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyMat4} a Mat4 to derive the normal matrix from\n *\n * @returns {mat3} out\n */\n\nexport function normalFromMat4(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[3] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[4] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[5] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[6] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[7] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[8] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  return out;\n}\n/**\n * Generates a 2D projection matrix with the given bounds\n *\n * @param {mat3} out mat3 frustum matrix will be written into\n * @param {number} width Width of your gl context\n * @param {number} height Height of gl context\n * @returns {mat3} out\n */\n\nexport function projection(out, width, height) {\n  out[0] = 2 / width;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -2 / height;\n  out[5] = 0;\n  out[6] = -1;\n  out[7] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\n * Returns a string representation of a mat3\n *\n * @param {ReadonlyMat3} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\n\nexport function str(a) {\n  return \"mat3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \")\";\n}\n/**\n * Returns Frobenius norm of a mat3\n *\n * @param {ReadonlyMat3} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8]);\n}\n/**\n * Adds two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  return out;\n}\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  return out;\n}\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat3} out\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  return out;\n}\n/**\n * Adds two mat3's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat3} out the receiving vector\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat3} out\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  return out;\n}\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyMat3} a The first matrix.\n * @param {ReadonlyMat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8];\n}\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {ReadonlyMat3} a The first matrix.\n * @param {ReadonlyMat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7],\n      a8 = a[8];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7],\n      b8 = b[8];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8));\n}\n/**\n * Alias for {@link mat3.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link mat3.subtract}\n * @function\n */\n\nexport var sub = subtract;", "import * as glMatrix from \"./common.js\";\n/**\n * 4x4 Matrix<br>Format: column-major, when typed out it looks like row-major<br>The matrices are being post multiplied.\n * @module mat4\n */\n\n/**\n * Creates a new identity mat4\n *\n * @returns {mat4} a new 4x4 matrix\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(16);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[11] = 0;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n  }\n\n  out[0] = 1;\n  out[5] = 1;\n  out[10] = 1;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a new mat4 initialized with values from an existing matrix\n *\n * @param {ReadonlyMat4} a matrix to clone\n * @returns {mat4} a new 4x4 matrix\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\n * Copy the values from one mat4 to another\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\n * Create a new mat4 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\n * @returns {mat4} A new mat4\n */\n\nexport function fromValues(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\n * Set the components of a mat4 to the given values\n *\n * @param {mat4} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\n * @returns {mat4} out\n */\n\nexport function set(out, m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\n * Set a mat4 to the identity matrix\n *\n * @param {mat4} out the receiving matrix\n * @returns {mat4} out\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Transpose the values of a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a03 = a[3];\n    var a12 = a[6],\n        a13 = a[7];\n    var a23 = a[11];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a01;\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a02;\n    out[9] = a12;\n    out[11] = a[14];\n    out[12] = a03;\n    out[13] = a13;\n    out[14] = a23;\n  } else {\n    out[0] = a[0];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a[1];\n    out[5] = a[5];\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a[2];\n    out[9] = a[6];\n    out[10] = a[10];\n    out[11] = a[14];\n    out[12] = a[3];\n    out[13] = a[7];\n    out[14] = a[11];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\n * Inverts a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;\n  out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;\n  out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;\n  out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;\n  out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;\n  out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;\n  out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;\n  return out;\n}\n/**\n * Calculates the adjugate of a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  out[0] = a11 * (a22 * a33 - a23 * a32) - a21 * (a12 * a33 - a13 * a32) + a31 * (a12 * a23 - a13 * a22);\n  out[1] = -(a01 * (a22 * a33 - a23 * a32) - a21 * (a02 * a33 - a03 * a32) + a31 * (a02 * a23 - a03 * a22));\n  out[2] = a01 * (a12 * a33 - a13 * a32) - a11 * (a02 * a33 - a03 * a32) + a31 * (a02 * a13 - a03 * a12);\n  out[3] = -(a01 * (a12 * a23 - a13 * a22) - a11 * (a02 * a23 - a03 * a22) + a21 * (a02 * a13 - a03 * a12));\n  out[4] = -(a10 * (a22 * a33 - a23 * a32) - a20 * (a12 * a33 - a13 * a32) + a30 * (a12 * a23 - a13 * a22));\n  out[5] = a00 * (a22 * a33 - a23 * a32) - a20 * (a02 * a33 - a03 * a32) + a30 * (a02 * a23 - a03 * a22);\n  out[6] = -(a00 * (a12 * a33 - a13 * a32) - a10 * (a02 * a33 - a03 * a32) + a30 * (a02 * a13 - a03 * a12));\n  out[7] = a00 * (a12 * a23 - a13 * a22) - a10 * (a02 * a23 - a03 * a22) + a20 * (a02 * a13 - a03 * a12);\n  out[8] = a10 * (a21 * a33 - a23 * a31) - a20 * (a11 * a33 - a13 * a31) + a30 * (a11 * a23 - a13 * a21);\n  out[9] = -(a00 * (a21 * a33 - a23 * a31) - a20 * (a01 * a33 - a03 * a31) + a30 * (a01 * a23 - a03 * a21));\n  out[10] = a00 * (a11 * a33 - a13 * a31) - a10 * (a01 * a33 - a03 * a31) + a30 * (a01 * a13 - a03 * a11);\n  out[11] = -(a00 * (a11 * a23 - a13 * a21) - a10 * (a01 * a23 - a03 * a21) + a20 * (a01 * a13 - a03 * a11));\n  out[12] = -(a10 * (a21 * a32 - a22 * a31) - a20 * (a11 * a32 - a12 * a31) + a30 * (a11 * a22 - a12 * a21));\n  out[13] = a00 * (a21 * a32 - a22 * a31) - a20 * (a01 * a32 - a02 * a31) + a30 * (a01 * a22 - a02 * a21);\n  out[14] = -(a00 * (a11 * a32 - a12 * a31) - a10 * (a01 * a32 - a02 * a31) + a30 * (a01 * a12 - a02 * a11));\n  out[15] = a00 * (a11 * a22 - a12 * a21) - a10 * (a01 * a22 - a02 * a21) + a20 * (a01 * a12 - a02 * a11);\n  return out;\n}\n/**\n * Calculates the determinant of a mat4\n *\n * @param {ReadonlyMat4} a the source matrix\n * @returns {Number} determinant of a\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  return b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n}\n/**\n * Multiplies two mat4s\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @returns {mat4} out\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15]; // Cache only the current line of the second matrix\n\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  out[0] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[1] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[2] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[3] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[4];\n  b1 = b[5];\n  b2 = b[6];\n  b3 = b[7];\n  out[4] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[5] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[6] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[7] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[8];\n  b1 = b[9];\n  b2 = b[10];\n  b3 = b[11];\n  out[8] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[9] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[10] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[11] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[12];\n  b1 = b[13];\n  b2 = b[14];\n  b3 = b[15];\n  out[12] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[13] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[14] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[15] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  return out;\n}\n/**\n * Translate a mat4 by the given vector\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to translate\n * @param {ReadonlyVec3} v vector to translate by\n * @returns {mat4} out\n */\n\nexport function translate(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n\n  if (a === out) {\n    out[12] = a[0] * x + a[4] * y + a[8] * z + a[12];\n    out[13] = a[1] * x + a[5] * y + a[9] * z + a[13];\n    out[14] = a[2] * x + a[6] * y + a[10] * z + a[14];\n    out[15] = a[3] * x + a[7] * y + a[11] * z + a[15];\n  } else {\n    a00 = a[0];\n    a01 = a[1];\n    a02 = a[2];\n    a03 = a[3];\n    a10 = a[4];\n    a11 = a[5];\n    a12 = a[6];\n    a13 = a[7];\n    a20 = a[8];\n    a21 = a[9];\n    a22 = a[10];\n    a23 = a[11];\n    out[0] = a00;\n    out[1] = a01;\n    out[2] = a02;\n    out[3] = a03;\n    out[4] = a10;\n    out[5] = a11;\n    out[6] = a12;\n    out[7] = a13;\n    out[8] = a20;\n    out[9] = a21;\n    out[10] = a22;\n    out[11] = a23;\n    out[12] = a00 * x + a10 * y + a20 * z + a[12];\n    out[13] = a01 * x + a11 * y + a21 * z + a[13];\n    out[14] = a02 * x + a12 * y + a22 * z + a[14];\n    out[15] = a03 * x + a13 * y + a23 * z + a[15];\n  }\n\n  return out;\n}\n/**\n * Scales the mat4 by the dimensions in the given vec3 not using vectorization\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to scale\n * @param {ReadonlyVec3} v the vec3 to scale the matrix by\n * @returns {mat4} out\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  out[0] = a[0] * x;\n  out[1] = a[1] * x;\n  out[2] = a[2] * x;\n  out[3] = a[3] * x;\n  out[4] = a[4] * y;\n  out[5] = a[5] * y;\n  out[6] = a[6] * y;\n  out[7] = a[7] * y;\n  out[8] = a[8] * z;\n  out[9] = a[9] * z;\n  out[10] = a[10] * z;\n  out[11] = a[11] * z;\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\n * Rotates a mat4 by the given angle around the given axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @param {ReadonlyVec3} axis the axis to rotate around\n * @returns {mat4} out\n */\n\nexport function rotate(out, a, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n  var b00, b01, b02;\n  var b10, b11, b12;\n  var b20, b21, b22;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c;\n  a00 = a[0];\n  a01 = a[1];\n  a02 = a[2];\n  a03 = a[3];\n  a10 = a[4];\n  a11 = a[5];\n  a12 = a[6];\n  a13 = a[7];\n  a20 = a[8];\n  a21 = a[9];\n  a22 = a[10];\n  a23 = a[11]; // Construct the elements of the rotation matrix\n\n  b00 = x * x * t + c;\n  b01 = y * x * t + z * s;\n  b02 = z * x * t - y * s;\n  b10 = x * y * t - z * s;\n  b11 = y * y * t + c;\n  b12 = z * y * t + x * s;\n  b20 = x * z * t + y * s;\n  b21 = y * z * t - x * s;\n  b22 = z * z * t + c; // Perform rotation-specific matrix multiplication\n\n  out[0] = a00 * b00 + a10 * b01 + a20 * b02;\n  out[1] = a01 * b00 + a11 * b01 + a21 * b02;\n  out[2] = a02 * b00 + a12 * b01 + a22 * b02;\n  out[3] = a03 * b00 + a13 * b01 + a23 * b02;\n  out[4] = a00 * b10 + a10 * b11 + a20 * b12;\n  out[5] = a01 * b10 + a11 * b11 + a21 * b12;\n  out[6] = a02 * b10 + a12 * b11 + a22 * b12;\n  out[7] = a03 * b10 + a13 * b11 + a23 * b12;\n  out[8] = a00 * b20 + a10 * b21 + a20 * b22;\n  out[9] = a01 * b20 + a11 * b21 + a21 * b22;\n  out[10] = a02 * b20 + a12 * b21 + a22 * b22;\n  out[11] = a03 * b20 + a13 * b21 + a23 * b22;\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\n * Rotates a matrix by the given angle around the X axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function rotateX(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[4] = a10 * c + a20 * s;\n  out[5] = a11 * c + a21 * s;\n  out[6] = a12 * c + a22 * s;\n  out[7] = a13 * c + a23 * s;\n  out[8] = a20 * c - a10 * s;\n  out[9] = a21 * c - a11 * s;\n  out[10] = a22 * c - a12 * s;\n  out[11] = a23 * c - a13 * s;\n  return out;\n}\n/**\n * Rotates a matrix by the given angle around the Y axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function rotateY(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[4] = a[4];\n    out[5] = a[5];\n    out[6] = a[6];\n    out[7] = a[7];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c - a20 * s;\n  out[1] = a01 * c - a21 * s;\n  out[2] = a02 * c - a22 * s;\n  out[3] = a03 * c - a23 * s;\n  out[8] = a00 * s + a20 * c;\n  out[9] = a01 * s + a21 * c;\n  out[10] = a02 * s + a22 * c;\n  out[11] = a03 * s + a23 * c;\n  return out;\n}\n/**\n * Rotates a matrix by the given angle around the Z axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function rotateZ(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[8] = a[8];\n    out[9] = a[9];\n    out[10] = a[10];\n    out[11] = a[11];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c + a10 * s;\n  out[1] = a01 * c + a11 * s;\n  out[2] = a02 * c + a12 * s;\n  out[3] = a03 * c + a13 * s;\n  out[4] = a10 * c - a00 * s;\n  out[5] = a11 * c - a01 * s;\n  out[6] = a12 * c - a02 * s;\n  out[7] = a13 * c - a03 * s;\n  return out;\n}\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, dest, vec);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {ReadonlyVec3} v Translation vector\n * @returns {mat4} out\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.scale(dest, dest, vec);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {ReadonlyVec3} v Scaling vector\n * @returns {mat4} out\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = v[1];\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = v[2];\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a given angle around a given axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotate(dest, dest, rad, axis);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @param {ReadonlyVec3} axis the axis to rotate around\n * @returns {mat4} out\n */\n\nexport function fromRotation(out, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c; // Perform rotation-specific matrix multiplication\n\n  out[0] = x * x * t + c;\n  out[1] = y * x * t + z * s;\n  out[2] = z * x * t - y * s;\n  out[3] = 0;\n  out[4] = x * y * t - z * s;\n  out[5] = y * y * t + c;\n  out[6] = z * y * t + x * s;\n  out[7] = 0;\n  out[8] = x * z * t + y * s;\n  out[9] = y * z * t - x * s;\n  out[10] = z * z * t + c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from the given angle around the X axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateX(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function fromXRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = c;\n  out[6] = s;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = -s;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from the given angle around the Y axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateY(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function fromYRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = 0;\n  out[2] = -s;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = s;\n  out[9] = 0;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from the given angle around the Z axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateZ(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function fromZRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -s;\n  out[5] = c;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a quaternion rotation and vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {ReadonlyVec3} v Translation vector\n * @returns {mat4} out\n */\n\nexport function fromRotationTranslation(out, q, v) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - (yy + zz);\n  out[1] = xy + wz;\n  out[2] = xz - wy;\n  out[3] = 0;\n  out[4] = xy - wz;\n  out[5] = 1 - (xx + zz);\n  out[6] = yz + wx;\n  out[7] = 0;\n  out[8] = xz + wy;\n  out[9] = yz - wx;\n  out[10] = 1 - (xx + yy);\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a new mat4 from a dual quat.\n *\n * @param {mat4} out Matrix\n * @param {ReadonlyQuat2} a Dual Quaternion\n * @returns {mat4} mat4 receiving operation result\n */\n\nexport function fromQuat2(out, a) {\n  var translation = new glMatrix.ARRAY_TYPE(3);\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7];\n  var magnitude = bx * bx + by * by + bz * bz + bw * bw; //Only scale if it makes sense\n\n  if (magnitude > 0) {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2 / magnitude;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2 / magnitude;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2 / magnitude;\n  } else {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;\n  }\n\n  fromRotationTranslation(out, a, translation);\n  return out;\n}\n/**\n * Returns the translation vector component of a transformation\n *  matrix. If a matrix is built with fromRotationTranslation,\n *  the returned vector will be the same as the translation vector\n *  originally supplied.\n * @param  {vec3} out Vector to receive translation component\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\n * @return {vec3} out\n */\n\nexport function getTranslation(out, mat) {\n  out[0] = mat[12];\n  out[1] = mat[13];\n  out[2] = mat[14];\n  return out;\n}\n/**\n * Returns the scaling factor component of a transformation\n *  matrix. If a matrix is built with fromRotationTranslationScale\n *  with a normalized Quaternion paramter, the returned vector will be\n *  the same as the scaling vector\n *  originally supplied.\n * @param  {vec3} out Vector to receive scaling factor component\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\n * @return {vec3} out\n */\n\nexport function getScaling(out, mat) {\n  var m11 = mat[0];\n  var m12 = mat[1];\n  var m13 = mat[2];\n  var m21 = mat[4];\n  var m22 = mat[5];\n  var m23 = mat[6];\n  var m31 = mat[8];\n  var m32 = mat[9];\n  var m33 = mat[10];\n  out[0] = Math.hypot(m11, m12, m13);\n  out[1] = Math.hypot(m21, m22, m23);\n  out[2] = Math.hypot(m31, m32, m33);\n  return out;\n}\n/**\n * Returns a quaternion representing the rotational component\n *  of a transformation matrix. If a matrix is built with\n *  fromRotationTranslation, the returned quaternion will be the\n *  same as the quaternion originally supplied.\n * @param {quat} out Quaternion to receive the rotation component\n * @param {ReadonlyMat4} mat Matrix to be decomposed (input)\n * @return {quat} out\n */\n\nexport function getRotation(out, mat) {\n  var scaling = new glMatrix.ARRAY_TYPE(3);\n  getScaling(scaling, mat);\n  var is1 = 1 / scaling[0];\n  var is2 = 1 / scaling[1];\n  var is3 = 1 / scaling[2];\n  var sm11 = mat[0] * is1;\n  var sm12 = mat[1] * is2;\n  var sm13 = mat[2] * is3;\n  var sm21 = mat[4] * is1;\n  var sm22 = mat[5] * is2;\n  var sm23 = mat[6] * is3;\n  var sm31 = mat[8] * is1;\n  var sm32 = mat[9] * is2;\n  var sm33 = mat[10] * is3;\n  var trace = sm11 + sm22 + sm33;\n  var S = 0;\n\n  if (trace > 0) {\n    S = Math.sqrt(trace + 1.0) * 2;\n    out[3] = 0.25 * S;\n    out[0] = (sm23 - sm32) / S;\n    out[1] = (sm31 - sm13) / S;\n    out[2] = (sm12 - sm21) / S;\n  } else if (sm11 > sm22 && sm11 > sm33) {\n    S = Math.sqrt(1.0 + sm11 - sm22 - sm33) * 2;\n    out[3] = (sm23 - sm32) / S;\n    out[0] = 0.25 * S;\n    out[1] = (sm12 + sm21) / S;\n    out[2] = (sm31 + sm13) / S;\n  } else if (sm22 > sm33) {\n    S = Math.sqrt(1.0 + sm22 - sm11 - sm33) * 2;\n    out[3] = (sm31 - sm13) / S;\n    out[0] = (sm12 + sm21) / S;\n    out[1] = 0.25 * S;\n    out[2] = (sm23 + sm32) / S;\n  } else {\n    S = Math.sqrt(1.0 + sm33 - sm11 - sm22) * 2;\n    out[3] = (sm12 - sm21) / S;\n    out[0] = (sm31 + sm13) / S;\n    out[1] = (sm23 + sm32) / S;\n    out[2] = 0.25 * S;\n  }\n\n  return out;\n}\n/**\n * Creates a matrix from a quaternion rotation, vector translation and vector scale\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *     mat4.scale(dest, scale)\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {ReadonlyVec3} v Translation vector\n * @param {ReadonlyVec3} s Scaling vector\n * @returns {mat4} out\n */\n\nexport function fromRotationTranslationScale(out, q, v, s) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  out[0] = (1 - (yy + zz)) * sx;\n  out[1] = (xy + wz) * sx;\n  out[2] = (xz - wy) * sx;\n  out[3] = 0;\n  out[4] = (xy - wz) * sy;\n  out[5] = (1 - (xx + zz)) * sy;\n  out[6] = (yz + wx) * sy;\n  out[7] = 0;\n  out[8] = (xz + wy) * sz;\n  out[9] = (yz - wx) * sz;\n  out[10] = (1 - (xx + yy)) * sz;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a quaternion rotation, vector translation and vector scale, rotating and scaling around the given origin\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     mat4.translate(dest, origin);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *     mat4.scale(dest, scale)\n *     mat4.translate(dest, negativeOrigin);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {ReadonlyVec3} v Translation vector\n * @param {ReadonlyVec3} s Scaling vector\n * @param {ReadonlyVec3} o The origin vector around which to scale and rotate\n * @returns {mat4} out\n */\n\nexport function fromRotationTranslationScaleOrigin(out, q, v, s, o) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  var ox = o[0];\n  var oy = o[1];\n  var oz = o[2];\n  var out0 = (1 - (yy + zz)) * sx;\n  var out1 = (xy + wz) * sx;\n  var out2 = (xz - wy) * sx;\n  var out4 = (xy - wz) * sy;\n  var out5 = (1 - (xx + zz)) * sy;\n  var out6 = (yz + wx) * sy;\n  var out8 = (xz + wy) * sz;\n  var out9 = (yz - wx) * sz;\n  var out10 = (1 - (xx + yy)) * sz;\n  out[0] = out0;\n  out[1] = out1;\n  out[2] = out2;\n  out[3] = 0;\n  out[4] = out4;\n  out[5] = out5;\n  out[6] = out6;\n  out[7] = 0;\n  out[8] = out8;\n  out[9] = out9;\n  out[10] = out10;\n  out[11] = 0;\n  out[12] = v[0] + ox - (out0 * ox + out4 * oy + out8 * oz);\n  out[13] = v[1] + oy - (out1 * ox + out5 * oy + out9 * oz);\n  out[14] = v[2] + oz - (out2 * ox + out6 * oy + out10 * oz);\n  out[15] = 1;\n  return out;\n}\n/**\n * Calculates a 4x4 matrix from the given quaternion\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {ReadonlyQuat} q Quaternion to create matrix from\n *\n * @returns {mat4} out\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[1] = yx + wz;\n  out[2] = zx - wy;\n  out[3] = 0;\n  out[4] = yx - wz;\n  out[5] = 1 - xx - zz;\n  out[6] = zy + wx;\n  out[7] = 0;\n  out[8] = zx + wy;\n  out[9] = zy - wx;\n  out[10] = 1 - xx - yy;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Generates a frustum matrix with the given bounds\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {Number} left Left bound of the frustum\n * @param {Number} right Right bound of the frustum\n * @param {Number} bottom Bottom bound of the frustum\n * @param {Number} top Top bound of the frustum\n * @param {Number} near Near bound of the frustum\n * @param {Number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nexport function frustum(out, left, right, bottom, top, near, far) {\n  var rl = 1 / (right - left);\n  var tb = 1 / (top - bottom);\n  var nf = 1 / (near - far);\n  out[0] = near * 2 * rl;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = near * 2 * tb;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = (right + left) * rl;\n  out[9] = (top + bottom) * tb;\n  out[10] = (far + near) * nf;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = far * near * 2 * nf;\n  out[15] = 0;\n  return out;\n}\n/**\n * Generates a perspective projection matrix with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [-1, 1],\n * which matches WebGL/OpenGL's clip volume.\n * Passing null/undefined/no value for far will generate infinite projection matrix.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} fovy Vertical field of view in radians\n * @param {number} aspect Aspect ratio. typically viewport width/height\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum, can be null or Infinity\n * @returns {mat4} out\n */\n\nexport function perspectiveNO(out, fovy, aspect, near, far) {\n  var f = 1.0 / Math.tan(fovy / 2),\n      nf;\n  out[0] = f / aspect;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = f;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[15] = 0;\n\n  if (far != null && far !== Infinity) {\n    nf = 1 / (near - far);\n    out[10] = (far + near) * nf;\n    out[14] = 2 * far * near * nf;\n  } else {\n    out[10] = -1;\n    out[14] = -2 * near;\n  }\n\n  return out;\n}\n/**\n * Alias for {@link mat4.perspectiveNO}\n * @function\n */\n\nexport var perspective = perspectiveNO;\n/**\n * Generates a perspective projection matrix suitable for WebGPU with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [0, 1],\n * which matches WebGPU/Vulkan/DirectX/Metal's clip volume.\n * Passing null/undefined/no value for far will generate infinite projection matrix.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} fovy Vertical field of view in radians\n * @param {number} aspect Aspect ratio. typically viewport width/height\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum, can be null or Infinity\n * @returns {mat4} out\n */\n\nexport function perspectiveZO(out, fovy, aspect, near, far) {\n  var f = 1.0 / Math.tan(fovy / 2),\n      nf;\n  out[0] = f / aspect;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = f;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[15] = 0;\n\n  if (far != null && far !== Infinity) {\n    nf = 1 / (near - far);\n    out[10] = far * nf;\n    out[14] = far * near * nf;\n  } else {\n    out[10] = -1;\n    out[14] = -near;\n  }\n\n  return out;\n}\n/**\n * Generates a perspective projection matrix with the given field of view.\n * This is primarily useful for generating projection matrices to be used\n * with the still experiemental WebVR API.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {Object} fov Object containing the following values: upDegrees, downDegrees, leftDegrees, rightDegrees\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nexport function perspectiveFromFieldOfView(out, fov, near, far) {\n  var upTan = Math.tan(fov.upDegrees * Math.PI / 180.0);\n  var downTan = Math.tan(fov.downDegrees * Math.PI / 180.0);\n  var leftTan = Math.tan(fov.leftDegrees * Math.PI / 180.0);\n  var rightTan = Math.tan(fov.rightDegrees * Math.PI / 180.0);\n  var xScale = 2.0 / (leftTan + rightTan);\n  var yScale = 2.0 / (upTan + downTan);\n  out[0] = xScale;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  out[4] = 0.0;\n  out[5] = yScale;\n  out[6] = 0.0;\n  out[7] = 0.0;\n  out[8] = -((leftTan - rightTan) * xScale * 0.5);\n  out[9] = (upTan - downTan) * yScale * 0.5;\n  out[10] = far / (near - far);\n  out[11] = -1.0;\n  out[12] = 0.0;\n  out[13] = 0.0;\n  out[14] = far * near / (near - far);\n  out[15] = 0.0;\n  return out;\n}\n/**\n * Generates a orthogonal projection matrix with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [-1, 1],\n * which matches WebGL/OpenGL's clip volume.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} left Left bound of the frustum\n * @param {number} right Right bound of the frustum\n * @param {number} bottom Bottom bound of the frustum\n * @param {number} top Top bound of the frustum\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nexport function orthoNO(out, left, right, bottom, top, near, far) {\n  var lr = 1 / (left - right);\n  var bt = 1 / (bottom - top);\n  var nf = 1 / (near - far);\n  out[0] = -2 * lr;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = -2 * bt;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 2 * nf;\n  out[11] = 0;\n  out[12] = (left + right) * lr;\n  out[13] = (top + bottom) * bt;\n  out[14] = (far + near) * nf;\n  out[15] = 1;\n  return out;\n}\n/**\n * Alias for {@link mat4.orthoNO}\n * @function\n */\n\nexport var ortho = orthoNO;\n/**\n * Generates a orthogonal projection matrix with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [0, 1],\n * which matches WebGPU/Vulkan/DirectX/Metal's clip volume.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} left Left bound of the frustum\n * @param {number} right Right bound of the frustum\n * @param {number} bottom Bottom bound of the frustum\n * @param {number} top Top bound of the frustum\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nexport function orthoZO(out, left, right, bottom, top, near, far) {\n  var lr = 1 / (left - right);\n  var bt = 1 / (bottom - top);\n  var nf = 1 / (near - far);\n  out[0] = -2 * lr;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = -2 * bt;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = nf;\n  out[11] = 0;\n  out[12] = (left + right) * lr;\n  out[13] = (top + bottom) * bt;\n  out[14] = near * nf;\n  out[15] = 1;\n  return out;\n}\n/**\n * Generates a look-at matrix with the given eye position, focal point, and up axis.\n * If you want a matrix that actually makes an object look at another object, you should use targetTo instead.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {ReadonlyVec3} eye Position of the viewer\n * @param {ReadonlyVec3} center Point the viewer is looking at\n * @param {ReadonlyVec3} up vec3 pointing up\n * @returns {mat4} out\n */\n\nexport function lookAt(out, eye, center, up) {\n  var x0, x1, x2, y0, y1, y2, z0, z1, z2, len;\n  var eyex = eye[0];\n  var eyey = eye[1];\n  var eyez = eye[2];\n  var upx = up[0];\n  var upy = up[1];\n  var upz = up[2];\n  var centerx = center[0];\n  var centery = center[1];\n  var centerz = center[2];\n\n  if (Math.abs(eyex - centerx) < glMatrix.EPSILON && Math.abs(eyey - centery) < glMatrix.EPSILON && Math.abs(eyez - centerz) < glMatrix.EPSILON) {\n    return identity(out);\n  }\n\n  z0 = eyex - centerx;\n  z1 = eyey - centery;\n  z2 = eyez - centerz;\n  len = 1 / Math.hypot(z0, z1, z2);\n  z0 *= len;\n  z1 *= len;\n  z2 *= len;\n  x0 = upy * z2 - upz * z1;\n  x1 = upz * z0 - upx * z2;\n  x2 = upx * z1 - upy * z0;\n  len = Math.hypot(x0, x1, x2);\n\n  if (!len) {\n    x0 = 0;\n    x1 = 0;\n    x2 = 0;\n  } else {\n    len = 1 / len;\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  y0 = z1 * x2 - z2 * x1;\n  y1 = z2 * x0 - z0 * x2;\n  y2 = z0 * x1 - z1 * x0;\n  len = Math.hypot(y0, y1, y2);\n\n  if (!len) {\n    y0 = 0;\n    y1 = 0;\n    y2 = 0;\n  } else {\n    len = 1 / len;\n    y0 *= len;\n    y1 *= len;\n    y2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = y0;\n  out[2] = z0;\n  out[3] = 0;\n  out[4] = x1;\n  out[5] = y1;\n  out[6] = z1;\n  out[7] = 0;\n  out[8] = x2;\n  out[9] = y2;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = -(x0 * eyex + x1 * eyey + x2 * eyez);\n  out[13] = -(y0 * eyex + y1 * eyey + y2 * eyez);\n  out[14] = -(z0 * eyex + z1 * eyey + z2 * eyez);\n  out[15] = 1;\n  return out;\n}\n/**\n * Generates a matrix that makes something look at something else.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {ReadonlyVec3} eye Position of the viewer\n * @param {ReadonlyVec3} center Point the viewer is looking at\n * @param {ReadonlyVec3} up vec3 pointing up\n * @returns {mat4} out\n */\n\nexport function targetTo(out, eye, target, up) {\n  var eyex = eye[0],\n      eyey = eye[1],\n      eyez = eye[2],\n      upx = up[0],\n      upy = up[1],\n      upz = up[2];\n  var z0 = eyex - target[0],\n      z1 = eyey - target[1],\n      z2 = eyez - target[2];\n  var len = z0 * z0 + z1 * z1 + z2 * z2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    z0 *= len;\n    z1 *= len;\n    z2 *= len;\n  }\n\n  var x0 = upy * z2 - upz * z1,\n      x1 = upz * z0 - upx * z2,\n      x2 = upx * z1 - upy * z0;\n  len = x0 * x0 + x1 * x1 + x2 * x2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = x1;\n  out[2] = x2;\n  out[3] = 0;\n  out[4] = z1 * x2 - z2 * x1;\n  out[5] = z2 * x0 - z0 * x2;\n  out[6] = z0 * x1 - z1 * x0;\n  out[7] = 0;\n  out[8] = z0;\n  out[9] = z1;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = eyex;\n  out[13] = eyey;\n  out[14] = eyez;\n  out[15] = 1;\n  return out;\n}\n/**\n * Returns a string representation of a mat4\n *\n * @param {ReadonlyMat4} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\n\nexport function str(a) {\n  return \"mat4(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \", \" + a[9] + \", \" + a[10] + \", \" + a[11] + \", \" + a[12] + \", \" + a[13] + \", \" + a[14] + \", \" + a[15] + \")\";\n}\n/**\n * Returns Frobenius norm of a mat4\n *\n * @param {ReadonlyMat4} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8], a[9], a[10], a[11], a[12], a[13], a[14], a[15]);\n}\n/**\n * Adds two mat4's\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @returns {mat4} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  out[9] = a[9] + b[9];\n  out[10] = a[10] + b[10];\n  out[11] = a[11] + b[11];\n  out[12] = a[12] + b[12];\n  out[13] = a[13] + b[13];\n  out[14] = a[14] + b[14];\n  out[15] = a[15] + b[15];\n  return out;\n}\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @returns {mat4} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  out[9] = a[9] - b[9];\n  out[10] = a[10] - b[10];\n  out[11] = a[11] - b[11];\n  out[12] = a[12] - b[12];\n  out[13] = a[13] - b[13];\n  out[14] = a[14] - b[14];\n  out[15] = a[15] - b[15];\n  return out;\n}\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat4} out\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  out[9] = a[9] * b;\n  out[10] = a[10] * b;\n  out[11] = a[11] * b;\n  out[12] = a[12] * b;\n  out[13] = a[13] * b;\n  out[14] = a[14] * b;\n  out[15] = a[15] * b;\n  return out;\n}\n/**\n * Adds two mat4's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat4} out the receiving vector\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat4} out\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  out[9] = a[9] + b[9] * scale;\n  out[10] = a[10] + b[10] * scale;\n  out[11] = a[11] + b[11] * scale;\n  out[12] = a[12] + b[12] * scale;\n  out[13] = a[13] + b[13] * scale;\n  out[14] = a[14] + b[14] * scale;\n  out[15] = a[15] + b[15] * scale;\n  return out;\n}\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyMat4} a The first matrix.\n * @param {ReadonlyMat4} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8] && a[9] === b[9] && a[10] === b[10] && a[11] === b[11] && a[12] === b[12] && a[13] === b[13] && a[14] === b[14] && a[15] === b[15];\n}\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {ReadonlyMat4} a The first matrix.\n * @param {ReadonlyMat4} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7];\n  var a8 = a[8],\n      a9 = a[9],\n      a10 = a[10],\n      a11 = a[11];\n  var a12 = a[12],\n      a13 = a[13],\n      a14 = a[14],\n      a15 = a[15];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  var b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7];\n  var b8 = b[8],\n      b9 = b[9],\n      b10 = b[10],\n      b11 = b[11];\n  var b12 = b[12],\n      b13 = b[13],\n      b14 = b[14],\n      b15 = b[15];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8)) && Math.abs(a9 - b9) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a9), Math.abs(b9)) && Math.abs(a10 - b10) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a10), Math.abs(b10)) && Math.abs(a11 - b11) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a11), Math.abs(b11)) && Math.abs(a12 - b12) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a12), Math.abs(b12)) && Math.abs(a13 - b13) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a13), Math.abs(b13)) && Math.abs(a14 - b14) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a14), Math.abs(b14)) && Math.abs(a15 - b15) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a15), Math.abs(b15));\n}\n/**\n * Alias for {@link mat4.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link mat4.subtract}\n * @function\n */\n\nexport var sub = subtract;", "import * as glMatrix from \"./common.js\";\nimport * as mat3 from \"./mat3.js\";\nimport * as vec3 from \"./vec3.js\";\nimport * as vec4 from \"./vec4.js\";\n/**\n * Quaternion\n * @module quat\n */\n\n/**\n * Creates a new identity quat\n *\n * @returns {quat} a new quaternion\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(4);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  out[3] = 1;\n  return out;\n}\n/**\n * Set a quat to the identity quaternion\n *\n * @param {quat} out the receiving quaternion\n * @returns {quat} out\n */\n\nexport function identity(out) {\n  out[0] = 0;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  return out;\n}\n/**\n * Sets a quat from the given angle and rotation axis,\n * then returns it.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyVec3} axis the axis around which to rotate\n * @param {Number} rad the angle in radians\n * @returns {quat} out\n **/\n\nexport function setAxisAngle(out, axis, rad) {\n  rad = rad * 0.5;\n  var s = Math.sin(rad);\n  out[0] = s * axis[0];\n  out[1] = s * axis[1];\n  out[2] = s * axis[2];\n  out[3] = Math.cos(rad);\n  return out;\n}\n/**\n * Gets the rotation axis and angle for a given\n *  quaternion. If a quaternion is created with\n *  setAxisAngle, this method will return the same\n *  values as providied in the original parameter list\n *  OR functionally equivalent values.\n * Example: The quaternion formed by axis [0, 0, 1] and\n *  angle -90 is the same as the quaternion formed by\n *  [0, 0, 1] and 270. This method favors the latter.\n * @param  {vec3} out_axis  Vector receiving the axis of rotation\n * @param  {ReadonlyQuat} q     Quaternion to be decomposed\n * @return {Number}     Angle, in radians, of the rotation\n */\n\nexport function getAxisAngle(out_axis, q) {\n  var rad = Math.acos(q[3]) * 2.0;\n  var s = Math.sin(rad / 2.0);\n\n  if (s > glMatrix.EPSILON) {\n    out_axis[0] = q[0] / s;\n    out_axis[1] = q[1] / s;\n    out_axis[2] = q[2] / s;\n  } else {\n    // If s is zero, return any axis (no rotation - axis does not matter)\n    out_axis[0] = 1;\n    out_axis[1] = 0;\n    out_axis[2] = 0;\n  }\n\n  return rad;\n}\n/**\n * Gets the angular distance between two unit quaternions\n *\n * @param  {ReadonlyQuat} a     Origin unit quaternion\n * @param  {ReadonlyQuat} b     Destination unit quaternion\n * @return {Number}     Angle, in radians, between the two quaternions\n */\n\nexport function getAngle(a, b) {\n  var dotproduct = dot(a, b);\n  return Math.acos(2 * dotproduct * dotproduct - 1);\n}\n/**\n * Multiplies two quat's\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @returns {quat} out\n */\n\nexport function multiply(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2],\n      bw = b[3];\n  out[0] = ax * bw + aw * bx + ay * bz - az * by;\n  out[1] = ay * bw + aw * by + az * bx - ax * bz;\n  out[2] = az * bw + aw * bz + ax * by - ay * bx;\n  out[3] = aw * bw - ax * bx - ay * by - az * bz;\n  return out;\n}\n/**\n * Rotates a quaternion by the given angle about the X axis\n *\n * @param {quat} out quat receiving operation result\n * @param {ReadonlyQuat} a quat to rotate\n * @param {number} rad angle (in radians) to rotate\n * @returns {quat} out\n */\n\nexport function rotateX(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw + aw * bx;\n  out[1] = ay * bw + az * bx;\n  out[2] = az * bw - ay * bx;\n  out[3] = aw * bw - ax * bx;\n  return out;\n}\n/**\n * Rotates a quaternion by the given angle about the Y axis\n *\n * @param {quat} out quat receiving operation result\n * @param {ReadonlyQuat} a quat to rotate\n * @param {number} rad angle (in radians) to rotate\n * @returns {quat} out\n */\n\nexport function rotateY(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var by = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw - az * by;\n  out[1] = ay * bw + aw * by;\n  out[2] = az * bw + ax * by;\n  out[3] = aw * bw - ay * by;\n  return out;\n}\n/**\n * Rotates a quaternion by the given angle about the Z axis\n *\n * @param {quat} out quat receiving operation result\n * @param {ReadonlyQuat} a quat to rotate\n * @param {number} rad angle (in radians) to rotate\n * @returns {quat} out\n */\n\nexport function rotateZ(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bz = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw + ay * bz;\n  out[1] = ay * bw - ax * bz;\n  out[2] = az * bw + aw * bz;\n  out[3] = aw * bw - az * bz;\n  return out;\n}\n/**\n * Calculates the W component of a quat from the X, Y, and Z components.\n * Assumes that quaternion is 1 unit in length.\n * Any existing W component will be ignored.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate W component of\n * @returns {quat} out\n */\n\nexport function calculateW(out, a) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = Math.sqrt(Math.abs(1.0 - x * x - y * y - z * z));\n  return out;\n}\n/**\n * Calculate the exponential of a unit quaternion.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate the exponential of\n * @returns {quat} out\n */\n\nexport function exp(out, a) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  var r = Math.sqrt(x * x + y * y + z * z);\n  var et = Math.exp(w);\n  var s = r > 0 ? et * Math.sin(r) / r : 0;\n  out[0] = x * s;\n  out[1] = y * s;\n  out[2] = z * s;\n  out[3] = et * Math.cos(r);\n  return out;\n}\n/**\n * Calculate the natural logarithm of a unit quaternion.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate the exponential of\n * @returns {quat} out\n */\n\nexport function ln(out, a) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  var r = Math.sqrt(x * x + y * y + z * z);\n  var t = r > 0 ? Math.atan2(r, w) / r : 0;\n  out[0] = x * t;\n  out[1] = y * t;\n  out[2] = z * t;\n  out[3] = 0.5 * Math.log(x * x + y * y + z * z + w * w);\n  return out;\n}\n/**\n * Calculate the scalar power of a unit quaternion.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate the exponential of\n * @param {Number} b amount to scale the quaternion by\n * @returns {quat} out\n */\n\nexport function pow(out, a, b) {\n  ln(out, a);\n  scale(out, out, b);\n  exp(out, out);\n  return out;\n}\n/**\n * Performs a spherical linear interpolation between two quat\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {quat} out\n */\n\nexport function slerp(out, a, b, t) {\n  // benchmarks:\n  //    http://jsperf.com/quaternion-slerp-implementations\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2],\n      bw = b[3];\n  var omega, cosom, sinom, scale0, scale1; // calc cosine\n\n  cosom = ax * bx + ay * by + az * bz + aw * bw; // adjust signs (if necessary)\n\n  if (cosom < 0.0) {\n    cosom = -cosom;\n    bx = -bx;\n    by = -by;\n    bz = -bz;\n    bw = -bw;\n  } // calculate coefficients\n\n\n  if (1.0 - cosom > glMatrix.EPSILON) {\n    // standard case (slerp)\n    omega = Math.acos(cosom);\n    sinom = Math.sin(omega);\n    scale0 = Math.sin((1.0 - t) * omega) / sinom;\n    scale1 = Math.sin(t * omega) / sinom;\n  } else {\n    // \"from\" and \"to\" quaternions are very close\n    //  ... so we can do a linear interpolation\n    scale0 = 1.0 - t;\n    scale1 = t;\n  } // calculate final values\n\n\n  out[0] = scale0 * ax + scale1 * bx;\n  out[1] = scale0 * ay + scale1 * by;\n  out[2] = scale0 * az + scale1 * bz;\n  out[3] = scale0 * aw + scale1 * bw;\n  return out;\n}\n/**\n * Generates a random unit quaternion\n *\n * @param {quat} out the receiving quaternion\n * @returns {quat} out\n */\n\nexport function random(out) {\n  // Implementation of http://planning.cs.uiuc.edu/node198.html\n  // TODO: Calling random 3 times is probably not the fastest solution\n  var u1 = glMatrix.RANDOM();\n  var u2 = glMatrix.RANDOM();\n  var u3 = glMatrix.RANDOM();\n  var sqrt1MinusU1 = Math.sqrt(1 - u1);\n  var sqrtU1 = Math.sqrt(u1);\n  out[0] = sqrt1MinusU1 * Math.sin(2.0 * Math.PI * u2);\n  out[1] = sqrt1MinusU1 * Math.cos(2.0 * Math.PI * u2);\n  out[2] = sqrtU1 * Math.sin(2.0 * Math.PI * u3);\n  out[3] = sqrtU1 * Math.cos(2.0 * Math.PI * u3);\n  return out;\n}\n/**\n * Calculates the inverse of a quat\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate inverse of\n * @returns {quat} out\n */\n\nexport function invert(out, a) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var dot = a0 * a0 + a1 * a1 + a2 * a2 + a3 * a3;\n  var invDot = dot ? 1.0 / dot : 0; // TODO: Would be faster to return [0,0,0,0] immediately if dot == 0\n\n  out[0] = -a0 * invDot;\n  out[1] = -a1 * invDot;\n  out[2] = -a2 * invDot;\n  out[3] = a3 * invDot;\n  return out;\n}\n/**\n * Calculates the conjugate of a quat\n * If the quaternion is normalized, this function is faster than quat.inverse and produces the same result.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate conjugate of\n * @returns {quat} out\n */\n\nexport function conjugate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\n * Creates a quaternion from the given 3x3 rotation matrix.\n *\n * NOTE: The resultant quaternion is not normalized, so you should be sure\n * to renormalize the quaternion yourself where necessary.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyMat3} m rotation matrix\n * @returns {quat} out\n * @function\n */\n\nexport function fromMat3(out, m) {\n  // Algorithm in Ken Shoemake's article in 1987 SIGGRAPH course notes\n  // article \"Quaternion Calculus and Fast Animation\".\n  var fTrace = m[0] + m[4] + m[8];\n  var fRoot;\n\n  if (fTrace > 0.0) {\n    // |w| > 1/2, may as well choose w > 1/2\n    fRoot = Math.sqrt(fTrace + 1.0); // 2w\n\n    out[3] = 0.5 * fRoot;\n    fRoot = 0.5 / fRoot; // 1/(4w)\n\n    out[0] = (m[5] - m[7]) * fRoot;\n    out[1] = (m[6] - m[2]) * fRoot;\n    out[2] = (m[1] - m[3]) * fRoot;\n  } else {\n    // |w| <= 1/2\n    var i = 0;\n    if (m[4] > m[0]) i = 1;\n    if (m[8] > m[i * 3 + i]) i = 2;\n    var j = (i + 1) % 3;\n    var k = (i + 2) % 3;\n    fRoot = Math.sqrt(m[i * 3 + i] - m[j * 3 + j] - m[k * 3 + k] + 1.0);\n    out[i] = 0.5 * fRoot;\n    fRoot = 0.5 / fRoot;\n    out[3] = (m[j * 3 + k] - m[k * 3 + j]) * fRoot;\n    out[j] = (m[j * 3 + i] + m[i * 3 + j]) * fRoot;\n    out[k] = (m[k * 3 + i] + m[i * 3 + k]) * fRoot;\n  }\n\n  return out;\n}\n/**\n * Creates a quaternion from the given euler angle x, y, z.\n *\n * @param {quat} out the receiving quaternion\n * @param {x} Angle to rotate around X axis in degrees.\n * @param {y} Angle to rotate around Y axis in degrees.\n * @param {z} Angle to rotate around Z axis in degrees.\n * @returns {quat} out\n * @function\n */\n\nexport function fromEuler(out, x, y, z) {\n  var halfToRad = 0.5 * Math.PI / 180.0;\n  x *= halfToRad;\n  y *= halfToRad;\n  z *= halfToRad;\n  var sx = Math.sin(x);\n  var cx = Math.cos(x);\n  var sy = Math.sin(y);\n  var cy = Math.cos(y);\n  var sz = Math.sin(z);\n  var cz = Math.cos(z);\n  out[0] = sx * cy * cz - cx * sy * sz;\n  out[1] = cx * sy * cz + sx * cy * sz;\n  out[2] = cx * cy * sz - sx * sy * cz;\n  out[3] = cx * cy * cz + sx * sy * sz;\n  return out;\n}\n/**\n * Returns a string representation of a quatenion\n *\n * @param {ReadonlyQuat} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"quat(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \")\";\n}\n/**\n * Creates a new quat initialized with values from an existing quaternion\n *\n * @param {ReadonlyQuat} a quaternion to clone\n * @returns {quat} a new quaternion\n * @function\n */\n\nexport var clone = vec4.clone;\n/**\n * Creates a new quat initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {quat} a new quaternion\n * @function\n */\n\nexport var fromValues = vec4.fromValues;\n/**\n * Copy the values from one quat to another\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the source quaternion\n * @returns {quat} out\n * @function\n */\n\nexport var copy = vec4.copy;\n/**\n * Set the components of a quat to the given values\n *\n * @param {quat} out the receiving quaternion\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {quat} out\n * @function\n */\n\nexport var set = vec4.set;\n/**\n * Adds two quat's\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @returns {quat} out\n * @function\n */\n\nexport var add = vec4.add;\n/**\n * Alias for {@link quat.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Scales a quat by a scalar number\n *\n * @param {quat} out the receiving vector\n * @param {ReadonlyQuat} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {quat} out\n * @function\n */\n\nexport var scale = vec4.scale;\n/**\n * Calculates the dot product of two quat's\n *\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @returns {Number} dot product of a and b\n * @function\n */\n\nexport var dot = vec4.dot;\n/**\n * Performs a linear interpolation between two quat's\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {quat} out\n * @function\n */\n\nexport var lerp = vec4.lerp;\n/**\n * Calculates the length of a quat\n *\n * @param {ReadonlyQuat} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport var length = vec4.length;\n/**\n * Alias for {@link quat.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Calculates the squared length of a quat\n *\n * @param {ReadonlyQuat} a vector to calculate squared length of\n * @returns {Number} squared length of a\n * @function\n */\n\nexport var squaredLength = vec4.squaredLength;\n/**\n * Alias for {@link quat.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Normalize a quat\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quaternion to normalize\n * @returns {quat} out\n * @function\n */\n\nexport var normalize = vec4.normalize;\n/**\n * Returns whether or not the quaternions have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyQuat} a The first quaternion.\n * @param {ReadonlyQuat} b The second quaternion.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport var exactEquals = vec4.exactEquals;\n/**\n * Returns whether or not the quaternions have approximately the same elements in the same position.\n *\n * @param {ReadonlyQuat} a The first vector.\n * @param {ReadonlyQuat} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport var equals = vec4.equals;\n/**\n * Sets a quaternion to represent the shortest rotation from one\n * vector to another.\n *\n * Both vectors are assumed to be unit length.\n *\n * @param {quat} out the receiving quaternion.\n * @param {ReadonlyVec3} a the initial vector\n * @param {ReadonlyVec3} b the destination vector\n * @returns {quat} out\n */\n\nexport var rotationTo = function () {\n  var tmpvec3 = vec3.create();\n  var xUnitVec3 = vec3.fromValues(1, 0, 0);\n  var yUnitVec3 = vec3.fromValues(0, 1, 0);\n  return function (out, a, b) {\n    var dot = vec3.dot(a, b);\n\n    if (dot < -0.999999) {\n      vec3.cross(tmpvec3, xUnitVec3, a);\n      if (vec3.len(tmpvec3) < 0.000001) vec3.cross(tmpvec3, yUnitVec3, a);\n      vec3.normalize(tmpvec3, tmpvec3);\n      setAxisAngle(out, tmpvec3, Math.PI);\n      return out;\n    } else if (dot > 0.999999) {\n      out[0] = 0;\n      out[1] = 0;\n      out[2] = 0;\n      out[3] = 1;\n      return out;\n    } else {\n      vec3.cross(tmpvec3, a, b);\n      out[0] = tmpvec3[0];\n      out[1] = tmpvec3[1];\n      out[2] = tmpvec3[2];\n      out[3] = 1 + dot;\n      return normalize(out, out);\n    }\n  };\n}();\n/**\n * Performs a spherical linear interpolation with two control points\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @param {ReadonlyQuat} c the third operand\n * @param {ReadonlyQuat} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {quat} out\n */\n\nexport var sqlerp = function () {\n  var temp1 = create();\n  var temp2 = create();\n  return function (out, a, b, c, d, t) {\n    slerp(temp1, a, d, t);\n    slerp(temp2, b, c, t);\n    slerp(out, temp1, temp2, 2 * t * (1 - t));\n    return out;\n  };\n}();\n/**\n * Sets the specified quaternion with values corresponding to the given\n * axes. Each axis is a vec3 and is expected to be unit length and\n * perpendicular to all other specified axes.\n *\n * @param {ReadonlyVec3} view  the vector representing the viewing direction\n * @param {ReadonlyVec3} right the vector representing the local \"right\" direction\n * @param {ReadonlyVec3} up    the vector representing the local \"up\" direction\n * @returns {quat} out\n */\n\nexport var setAxes = function () {\n  var matr = mat3.create();\n  return function (out, view, right, up) {\n    matr[0] = right[0];\n    matr[3] = right[1];\n    matr[6] = right[2];\n    matr[1] = up[0];\n    matr[4] = up[1];\n    matr[7] = up[2];\n    matr[2] = -view[0];\n    matr[5] = -view[1];\n    matr[8] = -view[2];\n    return normalize(out, fromMat3(out, matr));\n  };\n}();", "import * as glMatrix from \"./common.js\";\n/**\n * 3 Dimensional Vector\n * @module vec3\n */\n\n/**\n * Creates a new, empty vec3\n *\n * @returns {vec3} a new 3D vector\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(3);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec3 initialized with values from an existing vector\n *\n * @param {ReadonlyVec3} a vector to clone\n * @returns {vec3} a new 3D vector\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Calculates the length of a vec3\n *\n * @param {ReadonlyVec3} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return Math.hypot(x, y, z);\n}\n/**\n * Creates a new vec3 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} a new 3D vector\n */\n\nexport function fromValues(x, y, z) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Copy the values from one vec3 to another\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the source vector\n * @returns {vec3} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Set the components of a vec3 to the given values\n *\n * @param {vec3} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} out\n */\n\nexport function set(out, x, y, z) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Adds two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n/**\n * Multiplies two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n/**\n * Divides two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n/**\n * Math.ceil the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to ceil\n * @returns {vec3} out\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  return out;\n}\n/**\n * Math.floor the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to floor\n * @returns {vec3} out\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  return out;\n}\n/**\n * Returns the minimum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  return out;\n}\n/**\n * Returns the maximum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  return out;\n}\n/**\n * Math.round the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to round\n * @returns {vec3} out\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  return out;\n}\n/**\n * Scales a vec3 by a scalar number\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec3} out\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  return out;\n}\n/**\n * Adds two vec3's after scaling the second operand by a scalar value\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec3} out\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} distance between a and b\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return Math.hypot(x, y, z);\n}\n/**\n * Calculates the squared euclidian distance between two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Calculates the squared length of a vec3\n *\n * @param {ReadonlyVec3} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Negates the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to negate\n * @returns {vec3} out\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to invert\n * @returns {vec3} out\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  return out;\n}\n/**\n * Normalize a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to normalize\n * @returns {vec3} out\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var len = x * x + y * y + z * z;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  out[2] = a[2] * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n/**\n * Computes the cross product of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function cross(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2];\n  out[0] = ay * bz - az * by;\n  out[1] = az * bx - ax * bz;\n  out[2] = ax * by - ay * bx;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  return out;\n}\n/**\n * Performs a hermite interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {ReadonlyVec3} c the third operand\n * @param {ReadonlyVec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function hermite(out, a, b, c, d, t) {\n  var factorTimes2 = t * t;\n  var factor1 = factorTimes2 * (2 * t - 3) + 1;\n  var factor2 = factorTimes2 * (t - 2) + t;\n  var factor3 = factorTimes2 * (t - 1);\n  var factor4 = factorTimes2 * (3 - 2 * t);\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Performs a bezier interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {ReadonlyVec3} c the third operand\n * @param {ReadonlyVec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function bezier(out, a, b, c, d, t) {\n  var inverseFactor = 1 - t;\n  var inverseFactorTimesTwo = inverseFactor * inverseFactor;\n  var factorTimes2 = t * t;\n  var factor1 = inverseFactorTimesTwo * inverseFactor;\n  var factor2 = 3 * t * inverseFactorTimesTwo;\n  var factor3 = 3 * factorTimes2 * inverseFactor;\n  var factor4 = factorTimes2 * t;\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec3} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec3} out\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  var z = glMatrix.RANDOM() * 2.0 - 1.0;\n  var zScale = Math.sqrt(1.0 - z * z) * scale;\n  out[0] = Math.cos(r) * zScale;\n  out[1] = Math.sin(r) * zScale;\n  out[2] = z * scale;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat4.\n * 4th vector component is implicitly '1'\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec3} out\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  w = w || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat3.\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyMat3} m the 3x3 matrix to transform with\n * @returns {vec3} out\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x * m[0] + y * m[3] + z * m[6];\n  out[1] = x * m[1] + y * m[4] + z * m[7];\n  out[2] = x * m[2] + y * m[5] + z * m[8];\n  return out;\n}\n/**\n * Transforms the vec3 with a quat\n * Can also be used for dual quaternions. (Multiply it with the real part)\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyQuat} q quaternion to transform with\n * @returns {vec3} out\n */\n\nexport function transformQuat(out, a, q) {\n  // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3];\n  var x = a[0],\n      y = a[1],\n      z = a[2]; // var qvec = [qx, qy, qz];\n  // var uv = vec3.cross([], qvec, a);\n\n  var uvx = qy * z - qz * y,\n      uvy = qz * x - qx * z,\n      uvz = qx * y - qy * x; // var uuv = vec3.cross([], qvec, uv);\n\n  var uuvx = qy * uvz - qz * uvy,\n      uuvy = qz * uvx - qx * uvz,\n      uuvz = qx * uvy - qy * uvx; // vec3.scale(uv, uv, 2 * w);\n\n  var w2 = qw * 2;\n  uvx *= w2;\n  uvy *= w2;\n  uvz *= w2; // vec3.scale(uuv, uuv, 2);\n\n  uuvx *= 2;\n  uuvy *= 2;\n  uuvz *= 2; // return vec3.add(out, a, vec3.add(out, uv, uuv));\n\n  out[0] = x + uvx + uuvx;\n  out[1] = y + uvy + uuvy;\n  out[2] = z + uvz + uuvz;\n  return out;\n}\n/**\n * Rotate a 3D vector around the x-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateX(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0];\n  r[1] = p[1] * Math.cos(rad) - p[2] * Math.sin(rad);\n  r[2] = p[1] * Math.sin(rad) + p[2] * Math.cos(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the y-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateY(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[2] * Math.sin(rad) + p[0] * Math.cos(rad);\n  r[1] = p[1];\n  r[2] = p[2] * Math.cos(rad) - p[0] * Math.sin(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the z-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateZ(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0] * Math.cos(rad) - p[1] * Math.sin(rad);\n  r[1] = p[0] * Math.sin(rad) + p[1] * Math.cos(rad);\n  r[2] = p[2]; //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Get the angle between two 3D vectors\n * @param {ReadonlyVec3} a The first operand\n * @param {ReadonlyVec3} b The second operand\n * @returns {Number} The angle in radians\n */\n\nexport function angle(a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      bx = b[0],\n      by = b[1],\n      bz = b[2],\n      mag1 = Math.sqrt(ax * ax + ay * ay + az * az),\n      mag2 = Math.sqrt(bx * bx + by * by + bz * bz),\n      mag = mag1 * mag2,\n      cosine = mag && dot(a, b) / mag;\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\n * Set the components of a vec3 to zero\n *\n * @param {vec3} out the receiving vector\n * @returns {vec3} out\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec3} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"vec3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \")\";\n}\n/**\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec3} a The first vector.\n * @param {ReadonlyVec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec3} a The first vector.\n * @param {ReadonlyVec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));\n}\n/**\n * Alias for {@link vec3.subtract}\n * @function\n */\n\nexport var sub = subtract;\n/**\n * Alias for {@link vec3.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link vec3.divide}\n * @function\n */\n\nexport var div = divide;\n/**\n * Alias for {@link vec3.distance}\n * @function\n */\n\nexport var dist = distance;\n/**\n * Alias for {@link vec3.squaredDistance}\n * @function\n */\n\nexport var sqrDist = squaredDistance;\n/**\n * Alias for {@link vec3.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Alias for {@link vec3.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec3s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 3;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n    }\n\n    return a;\n  };\n}();", "import * as glMatrix from \"./common.js\";\n/**\n * 4 Dimensional Vector\n * @module vec4\n */\n\n/**\n * Creates a new, empty vec4\n *\n * @returns {vec4} a new 4D vector\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(4);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec4 initialized with values from an existing vector\n *\n * @param {ReadonlyVec4} a vector to clone\n * @returns {vec4} a new 4D vector\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\n * Creates a new vec4 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {vec4} a new 4D vector\n */\n\nexport function fromValues(x, y, z, w) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\n * Copy the values from one vec4 to another\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the source vector\n * @returns {vec4} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\n * Set the components of a vec4 to the given values\n *\n * @param {vec4} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {vec4} out\n */\n\nexport function set(out, x, y, z, w) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\n * Adds two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  return out;\n}\n/**\n * Multiplies two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  out[3] = a[3] * b[3];\n  return out;\n}\n/**\n * Divides two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  out[3] = a[3] / b[3];\n  return out;\n}\n/**\n * Math.ceil the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to ceil\n * @returns {vec4} out\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  out[3] = Math.ceil(a[3]);\n  return out;\n}\n/**\n * Math.floor the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to floor\n * @returns {vec4} out\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  out[3] = Math.floor(a[3]);\n  return out;\n}\n/**\n * Returns the minimum of two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  out[3] = Math.min(a[3], b[3]);\n  return out;\n}\n/**\n * Returns the maximum of two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  out[3] = Math.max(a[3], b[3]);\n  return out;\n}\n/**\n * Math.round the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to round\n * @returns {vec4} out\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  out[3] = Math.round(a[3]);\n  return out;\n}\n/**\n * Scales a vec4 by a scalar number\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec4} out\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  return out;\n}\n/**\n * Adds two vec4's after scaling the second operand by a scalar value\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec4} out\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec4's\n *\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {Number} distance between a and b\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return Math.hypot(x, y, z, w);\n}\n/**\n * Calculates the squared euclidian distance between two vec4's\n *\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\n * Calculates the length of a vec4\n *\n * @param {ReadonlyVec4} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return Math.hypot(x, y, z, w);\n}\n/**\n * Calculates the squared length of a vec4\n *\n * @param {ReadonlyVec4} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\n * Negates the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to negate\n * @returns {vec4} out\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = -a[3];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to invert\n * @returns {vec4} out\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  out[3] = 1.0 / a[3];\n  return out;\n}\n/**\n * Normalize a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to normalize\n * @returns {vec4} out\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  var len = x * x + y * y + z * z + w * w;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = x * len;\n  out[1] = y * len;\n  out[2] = z * len;\n  out[3] = w * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec4's\n *\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3];\n}\n/**\n * Returns the cross-product of three vectors in a 4-dimensional space\n *\n * @param {ReadonlyVec4} result the receiving vector\n * @param {ReadonlyVec4} U the first vector\n * @param {ReadonlyVec4} V the second vector\n * @param {ReadonlyVec4} W the third vector\n * @returns {vec4} result\n */\n\nexport function cross(out, u, v, w) {\n  var A = v[0] * w[1] - v[1] * w[0],\n      B = v[0] * w[2] - v[2] * w[0],\n      C = v[0] * w[3] - v[3] * w[0],\n      D = v[1] * w[2] - v[2] * w[1],\n      E = v[1] * w[3] - v[3] * w[1],\n      F = v[2] * w[3] - v[3] * w[2];\n  var G = u[0];\n  var H = u[1];\n  var I = u[2];\n  var J = u[3];\n  out[0] = H * F - I * E + J * D;\n  out[1] = -(G * F) + I * C - J * B;\n  out[2] = G * E - H * C + J * A;\n  out[3] = -(G * D) + H * B - I * A;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec4} out\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  var aw = a[3];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  out[3] = aw + t * (b[3] - aw);\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec4} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec4} out\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0; // Marsaglia, George. Choosing a Point from the Surface of a\n  // Sphere. Ann. Math. Statist. 43 (1972), no. 2, 645--646.\n  // http://projecteuclid.org/euclid.aoms/1177692644;\n\n  var v1, v2, v3, v4;\n  var s1, s2;\n\n  do {\n    v1 = glMatrix.RANDOM() * 2 - 1;\n    v2 = glMatrix.RANDOM() * 2 - 1;\n    s1 = v1 * v1 + v2 * v2;\n  } while (s1 >= 1);\n\n  do {\n    v3 = glMatrix.RANDOM() * 2 - 1;\n    v4 = glMatrix.RANDOM() * 2 - 1;\n    s2 = v3 * v3 + v4 * v4;\n  } while (s2 >= 1);\n\n  var d = Math.sqrt((1 - s1) / s2);\n  out[0] = scale * v1;\n  out[1] = scale * v2;\n  out[2] = scale * v3 * d;\n  out[3] = scale * v4 * d;\n  return out;\n}\n/**\n * Transforms the vec4 with a mat4.\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec4} out\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  out[0] = m[0] * x + m[4] * y + m[8] * z + m[12] * w;\n  out[1] = m[1] * x + m[5] * y + m[9] * z + m[13] * w;\n  out[2] = m[2] * x + m[6] * y + m[10] * z + m[14] * w;\n  out[3] = m[3] * x + m[7] * y + m[11] * z + m[15] * w;\n  return out;\n}\n/**\n * Transforms the vec4 with a quat\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the vector to transform\n * @param {ReadonlyQuat} q quaternion to transform with\n * @returns {vec4} out\n */\n\nexport function transformQuat(out, a, q) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3]; // calculate quat * vec\n\n  var ix = qw * x + qy * z - qz * y;\n  var iy = qw * y + qz * x - qx * z;\n  var iz = qw * z + qx * y - qy * x;\n  var iw = -qx * x - qy * y - qz * z; // calculate result * inverse quat\n\n  out[0] = ix * qw + iw * -qx + iy * -qz - iz * -qy;\n  out[1] = iy * qw + iw * -qy + iz * -qx - ix * -qz;\n  out[2] = iz * qw + iw * -qz + ix * -qy - iy * -qx;\n  out[3] = a[3];\n  return out;\n}\n/**\n * Set the components of a vec4 to zero\n *\n * @param {vec4} out the receiving vector\n * @returns {vec4} out\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec4} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"vec4(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \")\";\n}\n/**\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec4} a The first vector.\n * @param {ReadonlyVec4} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec4} a The first vector.\n * @param {ReadonlyVec4} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3));\n}\n/**\n * Alias for {@link vec4.subtract}\n * @function\n */\n\nexport var sub = subtract;\n/**\n * Alias for {@link vec4.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link vec4.divide}\n * @function\n */\n\nexport var div = divide;\n/**\n * Alias for {@link vec4.distance}\n * @function\n */\n\nexport var dist = distance;\n/**\n * Alias for {@link vec4.squaredDistance}\n * @function\n */\n\nexport var sqrDist = squaredDistance;\n/**\n * Alias for {@link vec4.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Alias for {@link vec4.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec4s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec4. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec4s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 4;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      vec[3] = a[i + 3];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n      a[i + 3] = vec[3];\n    }\n\n    return a;\n  };\n}();", "import * as glMatrix from \"./common.js\";\nimport * as quat from \"./quat.js\";\nimport * as mat4 from \"./mat4.js\";\n/**\n * Dual Quaternion<br>\n * Format: [real, dual]<br>\n * Quaternion format: XYZW<br>\n * Make sure to have normalized dual quaternions, otherwise the functions may not work as intended.<br>\n * @module quat2\n */\n\n/**\n * Creates a new identity dual quat\n *\n * @returns {quat2} a new dual quaternion [real -> rotation, dual -> translation]\n */\n\nexport function create() {\n  var dq = new glMatrix.ARRAY_TYPE(8);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    dq[0] = 0;\n    dq[1] = 0;\n    dq[2] = 0;\n    dq[4] = 0;\n    dq[5] = 0;\n    dq[6] = 0;\n    dq[7] = 0;\n  }\n\n  dq[3] = 1;\n  return dq;\n}\n/**\n * Creates a new quat initialized with values from an existing quaternion\n *\n * @param {ReadonlyQuat2} a dual quaternion to clone\n * @returns {quat2} new dual quaternion\n * @function\n */\n\nexport function clone(a) {\n  var dq = new glMatrix.ARRAY_TYPE(8);\n  dq[0] = a[0];\n  dq[1] = a[1];\n  dq[2] = a[2];\n  dq[3] = a[3];\n  dq[4] = a[4];\n  dq[5] = a[5];\n  dq[6] = a[6];\n  dq[7] = a[7];\n  return dq;\n}\n/**\n * Creates a new dual quat initialized with the given values\n *\n * @param {Number} x1 X component\n * @param {Number} y1 Y component\n * @param {Number} z1 Z component\n * @param {Number} w1 W component\n * @param {Number} x2 X component\n * @param {Number} y2 Y component\n * @param {Number} z2 Z component\n * @param {Number} w2 W component\n * @returns {quat2} new dual quaternion\n * @function\n */\n\nexport function fromValues(x1, y1, z1, w1, x2, y2, z2, w2) {\n  var dq = new glMatrix.ARRAY_TYPE(8);\n  dq[0] = x1;\n  dq[1] = y1;\n  dq[2] = z1;\n  dq[3] = w1;\n  dq[4] = x2;\n  dq[5] = y2;\n  dq[6] = z2;\n  dq[7] = w2;\n  return dq;\n}\n/**\n * Creates a new dual quat from the given values (quat and translation)\n *\n * @param {Number} x1 X component\n * @param {Number} y1 Y component\n * @param {Number} z1 Z component\n * @param {Number} w1 W component\n * @param {Number} x2 X component (translation)\n * @param {Number} y2 Y component (translation)\n * @param {Number} z2 Z component (translation)\n * @returns {quat2} new dual quaternion\n * @function\n */\n\nexport function fromRotationTranslationValues(x1, y1, z1, w1, x2, y2, z2) {\n  var dq = new glMatrix.ARRAY_TYPE(8);\n  dq[0] = x1;\n  dq[1] = y1;\n  dq[2] = z1;\n  dq[3] = w1;\n  var ax = x2 * 0.5,\n      ay = y2 * 0.5,\n      az = z2 * 0.5;\n  dq[4] = ax * w1 + ay * z1 - az * y1;\n  dq[5] = ay * w1 + az * x1 - ax * z1;\n  dq[6] = az * w1 + ax * y1 - ay * x1;\n  dq[7] = -ax * x1 - ay * y1 - az * z1;\n  return dq;\n}\n/**\n * Creates a dual quat from a quaternion and a translation\n *\n * @param {ReadonlyQuat2} dual quaternion receiving operation result\n * @param {ReadonlyQuat} q a normalized quaternion\n * @param {ReadonlyVec3} t tranlation vector\n * @returns {quat2} dual quaternion receiving operation result\n * @function\n */\n\nexport function fromRotationTranslation(out, q, t) {\n  var ax = t[0] * 0.5,\n      ay = t[1] * 0.5,\n      az = t[2] * 0.5,\n      bx = q[0],\n      by = q[1],\n      bz = q[2],\n      bw = q[3];\n  out[0] = bx;\n  out[1] = by;\n  out[2] = bz;\n  out[3] = bw;\n  out[4] = ax * bw + ay * bz - az * by;\n  out[5] = ay * bw + az * bx - ax * bz;\n  out[6] = az * bw + ax * by - ay * bx;\n  out[7] = -ax * bx - ay * by - az * bz;\n  return out;\n}\n/**\n * Creates a dual quat from a translation\n *\n * @param {ReadonlyQuat2} dual quaternion receiving operation result\n * @param {ReadonlyVec3} t translation vector\n * @returns {quat2} dual quaternion receiving operation result\n * @function\n */\n\nexport function fromTranslation(out, t) {\n  out[0] = 0;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = t[0] * 0.5;\n  out[5] = t[1] * 0.5;\n  out[6] = t[2] * 0.5;\n  out[7] = 0;\n  return out;\n}\n/**\n * Creates a dual quat from a quaternion\n *\n * @param {ReadonlyQuat2} dual quaternion receiving operation result\n * @param {ReadonlyQuat} q the quaternion\n * @returns {quat2} dual quaternion receiving operation result\n * @function\n */\n\nexport function fromRotation(out, q) {\n  out[0] = q[0];\n  out[1] = q[1];\n  out[2] = q[2];\n  out[3] = q[3];\n  out[4] = 0;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  return out;\n}\n/**\n * Creates a new dual quat from a matrix (4x4)\n *\n * @param {quat2} out the dual quaternion\n * @param {ReadonlyMat4} a the matrix\n * @returns {quat2} dual quat receiving operation result\n * @function\n */\n\nexport function fromMat4(out, a) {\n  //TODO Optimize this\n  var outer = quat.create();\n  mat4.getRotation(outer, a);\n  var t = new glMatrix.ARRAY_TYPE(3);\n  mat4.getTranslation(t, a);\n  fromRotationTranslation(out, outer, t);\n  return out;\n}\n/**\n * Copy the values from one dual quat to another\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the source dual quaternion\n * @returns {quat2} out\n * @function\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  return out;\n}\n/**\n * Set a dual quat to the identity dual quaternion\n *\n * @param {quat2} out the receiving quaternion\n * @returns {quat2} out\n */\n\nexport function identity(out) {\n  out[0] = 0;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = 0;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  return out;\n}\n/**\n * Set the components of a dual quat to the given values\n *\n * @param {quat2} out the receiving quaternion\n * @param {Number} x1 X component\n * @param {Number} y1 Y component\n * @param {Number} z1 Z component\n * @param {Number} w1 W component\n * @param {Number} x2 X component\n * @param {Number} y2 Y component\n * @param {Number} z2 Z component\n * @param {Number} w2 W component\n * @returns {quat2} out\n * @function\n */\n\nexport function set(out, x1, y1, z1, w1, x2, y2, z2, w2) {\n  out[0] = x1;\n  out[1] = y1;\n  out[2] = z1;\n  out[3] = w1;\n  out[4] = x2;\n  out[5] = y2;\n  out[6] = z2;\n  out[7] = w2;\n  return out;\n}\n/**\n * Gets the real part of a dual quat\n * @param  {quat} out real part\n * @param  {ReadonlyQuat2} a Dual Quaternion\n * @return {quat} real part\n */\n\nexport var getReal = quat.copy;\n/**\n * Gets the dual part of a dual quat\n * @param  {quat} out dual part\n * @param  {ReadonlyQuat2} a Dual Quaternion\n * @return {quat} dual part\n */\n\nexport function getDual(out, a) {\n  out[0] = a[4];\n  out[1] = a[5];\n  out[2] = a[6];\n  out[3] = a[7];\n  return out;\n}\n/**\n * Set the real component of a dual quat to the given quaternion\n *\n * @param {quat2} out the receiving quaternion\n * @param {ReadonlyQuat} q a quaternion representing the real part\n * @returns {quat2} out\n * @function\n */\n\nexport var setReal = quat.copy;\n/**\n * Set the dual component of a dual quat to the given quaternion\n *\n * @param {quat2} out the receiving quaternion\n * @param {ReadonlyQuat} q a quaternion representing the dual part\n * @returns {quat2} out\n * @function\n */\n\nexport function setDual(out, q) {\n  out[4] = q[0];\n  out[5] = q[1];\n  out[6] = q[2];\n  out[7] = q[3];\n  return out;\n}\n/**\n * Gets the translation of a normalized dual quat\n * @param  {vec3} out translation\n * @param  {ReadonlyQuat2} a Dual Quaternion to be decomposed\n * @return {vec3} translation\n */\n\nexport function getTranslation(out, a) {\n  var ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7],\n      bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3];\n  out[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;\n  out[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;\n  out[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;\n  return out;\n}\n/**\n * Translates a dual quat by the given vector\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the dual quaternion to translate\n * @param {ReadonlyVec3} v vector to translate by\n * @returns {quat2} out\n */\n\nexport function translate(out, a, v) {\n  var ax1 = a[0],\n      ay1 = a[1],\n      az1 = a[2],\n      aw1 = a[3],\n      bx1 = v[0] * 0.5,\n      by1 = v[1] * 0.5,\n      bz1 = v[2] * 0.5,\n      ax2 = a[4],\n      ay2 = a[5],\n      az2 = a[6],\n      aw2 = a[7];\n  out[0] = ax1;\n  out[1] = ay1;\n  out[2] = az1;\n  out[3] = aw1;\n  out[4] = aw1 * bx1 + ay1 * bz1 - az1 * by1 + ax2;\n  out[5] = aw1 * by1 + az1 * bx1 - ax1 * bz1 + ay2;\n  out[6] = aw1 * bz1 + ax1 * by1 - ay1 * bx1 + az2;\n  out[7] = -ax1 * bx1 - ay1 * by1 - az1 * bz1 + aw2;\n  return out;\n}\n/**\n * Rotates a dual quat around the X axis\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\n * @param {number} rad how far should the rotation be\n * @returns {quat2} out\n */\n\nexport function rotateX(out, a, rad) {\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7],\n      ax1 = ax * bw + aw * bx + ay * bz - az * by,\n      ay1 = ay * bw + aw * by + az * bx - ax * bz,\n      az1 = az * bw + aw * bz + ax * by - ay * bx,\n      aw1 = aw * bw - ax * bx - ay * by - az * bz;\n  quat.rotateX(out, a, rad);\n  bx = out[0];\n  by = out[1];\n  bz = out[2];\n  bw = out[3];\n  out[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n  out[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n  out[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n  out[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n  return out;\n}\n/**\n * Rotates a dual quat around the Y axis\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\n * @param {number} rad how far should the rotation be\n * @returns {quat2} out\n */\n\nexport function rotateY(out, a, rad) {\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7],\n      ax1 = ax * bw + aw * bx + ay * bz - az * by,\n      ay1 = ay * bw + aw * by + az * bx - ax * bz,\n      az1 = az * bw + aw * bz + ax * by - ay * bx,\n      aw1 = aw * bw - ax * bx - ay * by - az * bz;\n  quat.rotateY(out, a, rad);\n  bx = out[0];\n  by = out[1];\n  bz = out[2];\n  bw = out[3];\n  out[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n  out[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n  out[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n  out[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n  return out;\n}\n/**\n * Rotates a dual quat around the Z axis\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\n * @param {number} rad how far should the rotation be\n * @returns {quat2} out\n */\n\nexport function rotateZ(out, a, rad) {\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7],\n      ax1 = ax * bw + aw * bx + ay * bz - az * by,\n      ay1 = ay * bw + aw * by + az * bx - ax * bz,\n      az1 = az * bw + aw * bz + ax * by - ay * bx,\n      aw1 = aw * bw - ax * bx - ay * by - az * bz;\n  quat.rotateZ(out, a, rad);\n  bx = out[0];\n  by = out[1];\n  bz = out[2];\n  bw = out[3];\n  out[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n  out[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n  out[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n  out[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n  return out;\n}\n/**\n * Rotates a dual quat by a given quaternion (a * q)\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\n * @param {ReadonlyQuat} q quaternion to rotate by\n * @returns {quat2} out\n */\n\nexport function rotateByQuatAppend(out, a, q) {\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3],\n      ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  out[0] = ax * qw + aw * qx + ay * qz - az * qy;\n  out[1] = ay * qw + aw * qy + az * qx - ax * qz;\n  out[2] = az * qw + aw * qz + ax * qy - ay * qx;\n  out[3] = aw * qw - ax * qx - ay * qy - az * qz;\n  ax = a[4];\n  ay = a[5];\n  az = a[6];\n  aw = a[7];\n  out[4] = ax * qw + aw * qx + ay * qz - az * qy;\n  out[5] = ay * qw + aw * qy + az * qx - ax * qz;\n  out[6] = az * qw + aw * qz + ax * qy - ay * qx;\n  out[7] = aw * qw - ax * qx - ay * qy - az * qz;\n  return out;\n}\n/**\n * Rotates a dual quat by a given quaternion (q * a)\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat} q quaternion to rotate by\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\n * @returns {quat2} out\n */\n\nexport function rotateByQuatPrepend(out, q, a) {\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3],\n      bx = a[0],\n      by = a[1],\n      bz = a[2],\n      bw = a[3];\n  out[0] = qx * bw + qw * bx + qy * bz - qz * by;\n  out[1] = qy * bw + qw * by + qz * bx - qx * bz;\n  out[2] = qz * bw + qw * bz + qx * by - qy * bx;\n  out[3] = qw * bw - qx * bx - qy * by - qz * bz;\n  bx = a[4];\n  by = a[5];\n  bz = a[6];\n  bw = a[7];\n  out[4] = qx * bw + qw * bx + qy * bz - qz * by;\n  out[5] = qy * bw + qw * by + qz * bx - qx * bz;\n  out[6] = qz * bw + qw * bz + qx * by - qy * bx;\n  out[7] = qw * bw - qx * bx - qy * by - qz * bz;\n  return out;\n}\n/**\n * Rotates a dual quat around a given axis. Does the normalisation automatically\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\n * @param {ReadonlyVec3} axis the axis to rotate around\n * @param {Number} rad how far the rotation should be\n * @returns {quat2} out\n */\n\nexport function rotateAroundAxis(out, a, axis, rad) {\n  //Special case for rad = 0\n  if (Math.abs(rad) < glMatrix.EPSILON) {\n    return copy(out, a);\n  }\n\n  var axisLength = Math.hypot(axis[0], axis[1], axis[2]);\n  rad = rad * 0.5;\n  var s = Math.sin(rad);\n  var bx = s * axis[0] / axisLength;\n  var by = s * axis[1] / axisLength;\n  var bz = s * axis[2] / axisLength;\n  var bw = Math.cos(rad);\n  var ax1 = a[0],\n      ay1 = a[1],\n      az1 = a[2],\n      aw1 = a[3];\n  out[0] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n  out[1] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n  out[2] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n  out[3] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n  var ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7];\n  out[4] = ax * bw + aw * bx + ay * bz - az * by;\n  out[5] = ay * bw + aw * by + az * bx - ax * bz;\n  out[6] = az * bw + aw * bz + ax * by - ay * bx;\n  out[7] = aw * bw - ax * bx - ay * by - az * bz;\n  return out;\n}\n/**\n * Adds two dual quat's\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the first operand\n * @param {ReadonlyQuat2} b the second operand\n * @returns {quat2} out\n * @function\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  return out;\n}\n/**\n * Multiplies two dual quat's\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the first operand\n * @param {ReadonlyQuat2} b the second operand\n * @returns {quat2} out\n */\n\nexport function multiply(out, a, b) {\n  var ax0 = a[0],\n      ay0 = a[1],\n      az0 = a[2],\n      aw0 = a[3],\n      bx1 = b[4],\n      by1 = b[5],\n      bz1 = b[6],\n      bw1 = b[7],\n      ax1 = a[4],\n      ay1 = a[5],\n      az1 = a[6],\n      aw1 = a[7],\n      bx0 = b[0],\n      by0 = b[1],\n      bz0 = b[2],\n      bw0 = b[3];\n  out[0] = ax0 * bw0 + aw0 * bx0 + ay0 * bz0 - az0 * by0;\n  out[1] = ay0 * bw0 + aw0 * by0 + az0 * bx0 - ax0 * bz0;\n  out[2] = az0 * bw0 + aw0 * bz0 + ax0 * by0 - ay0 * bx0;\n  out[3] = aw0 * bw0 - ax0 * bx0 - ay0 * by0 - az0 * bz0;\n  out[4] = ax0 * bw1 + aw0 * bx1 + ay0 * bz1 - az0 * by1 + ax1 * bw0 + aw1 * bx0 + ay1 * bz0 - az1 * by0;\n  out[5] = ay0 * bw1 + aw0 * by1 + az0 * bx1 - ax0 * bz1 + ay1 * bw0 + aw1 * by0 + az1 * bx0 - ax1 * bz0;\n  out[6] = az0 * bw1 + aw0 * bz1 + ax0 * by1 - ay0 * bx1 + az1 * bw0 + aw1 * bz0 + ax1 * by0 - ay1 * bx0;\n  out[7] = aw0 * bw1 - ax0 * bx1 - ay0 * by1 - az0 * bz1 + aw1 * bw0 - ax1 * bx0 - ay1 * by0 - az1 * bz0;\n  return out;\n}\n/**\n * Alias for {@link quat2.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Scales a dual quat by a scalar number\n *\n * @param {quat2} out the receiving dual quat\n * @param {ReadonlyQuat2} a the dual quat to scale\n * @param {Number} b amount to scale the dual quat by\n * @returns {quat2} out\n * @function\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  return out;\n}\n/**\n * Calculates the dot product of two dual quat's (The dot product of the real parts)\n *\n * @param {ReadonlyQuat2} a the first operand\n * @param {ReadonlyQuat2} b the second operand\n * @returns {Number} dot product of a and b\n * @function\n */\n\nexport var dot = quat.dot;\n/**\n * Performs a linear interpolation between two dual quats's\n * NOTE: The resulting dual quaternions won't always be normalized (The error is most noticeable when t = 0.5)\n *\n * @param {quat2} out the receiving dual quat\n * @param {ReadonlyQuat2} a the first operand\n * @param {ReadonlyQuat2} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {quat2} out\n */\n\nexport function lerp(out, a, b, t) {\n  var mt = 1 - t;\n  if (dot(a, b) < 0) t = -t;\n  out[0] = a[0] * mt + b[0] * t;\n  out[1] = a[1] * mt + b[1] * t;\n  out[2] = a[2] * mt + b[2] * t;\n  out[3] = a[3] * mt + b[3] * t;\n  out[4] = a[4] * mt + b[4] * t;\n  out[5] = a[5] * mt + b[5] * t;\n  out[6] = a[6] * mt + b[6] * t;\n  out[7] = a[7] * mt + b[7] * t;\n  return out;\n}\n/**\n * Calculates the inverse of a dual quat. If they are normalized, conjugate is cheaper\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a dual quat to calculate inverse of\n * @returns {quat2} out\n */\n\nexport function invert(out, a) {\n  var sqlen = squaredLength(a);\n  out[0] = -a[0] / sqlen;\n  out[1] = -a[1] / sqlen;\n  out[2] = -a[2] / sqlen;\n  out[3] = a[3] / sqlen;\n  out[4] = -a[4] / sqlen;\n  out[5] = -a[5] / sqlen;\n  out[6] = -a[6] / sqlen;\n  out[7] = a[7] / sqlen;\n  return out;\n}\n/**\n * Calculates the conjugate of a dual quat\n * If the dual quaternion is normalized, this function is faster than quat2.inverse and produces the same result.\n *\n * @param {quat2} out the receiving quaternion\n * @param {ReadonlyQuat2} a quat to calculate conjugate of\n * @returns {quat2} out\n */\n\nexport function conjugate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = a[3];\n  out[4] = -a[4];\n  out[5] = -a[5];\n  out[6] = -a[6];\n  out[7] = a[7];\n  return out;\n}\n/**\n * Calculates the length of a dual quat\n *\n * @param {ReadonlyQuat2} a dual quat to calculate length of\n * @returns {Number} length of a\n * @function\n */\n\nexport var length = quat.length;\n/**\n * Alias for {@link quat2.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Calculates the squared length of a dual quat\n *\n * @param {ReadonlyQuat2} a dual quat to calculate squared length of\n * @returns {Number} squared length of a\n * @function\n */\n\nexport var squaredLength = quat.squaredLength;\n/**\n * Alias for {@link quat2.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Normalize a dual quat\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a dual quaternion to normalize\n * @returns {quat2} out\n * @function\n */\n\nexport function normalize(out, a) {\n  var magnitude = squaredLength(a);\n\n  if (magnitude > 0) {\n    magnitude = Math.sqrt(magnitude);\n    var a0 = a[0] / magnitude;\n    var a1 = a[1] / magnitude;\n    var a2 = a[2] / magnitude;\n    var a3 = a[3] / magnitude;\n    var b0 = a[4];\n    var b1 = a[5];\n    var b2 = a[6];\n    var b3 = a[7];\n    var a_dot_b = a0 * b0 + a1 * b1 + a2 * b2 + a3 * b3;\n    out[0] = a0;\n    out[1] = a1;\n    out[2] = a2;\n    out[3] = a3;\n    out[4] = (b0 - a0 * a_dot_b) / magnitude;\n    out[5] = (b1 - a1 * a_dot_b) / magnitude;\n    out[6] = (b2 - a2 * a_dot_b) / magnitude;\n    out[7] = (b3 - a3 * a_dot_b) / magnitude;\n  }\n\n  return out;\n}\n/**\n * Returns a string representation of a dual quatenion\n *\n * @param {ReadonlyQuat2} a dual quaternion to represent as a string\n * @returns {String} string representation of the dual quat\n */\n\nexport function str(a) {\n  return \"quat2(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \")\";\n}\n/**\n * Returns whether or not the dual quaternions have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyQuat2} a the first dual quaternion.\n * @param {ReadonlyQuat2} b the second dual quaternion.\n * @returns {Boolean} true if the dual quaternions are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7];\n}\n/**\n * Returns whether or not the dual quaternions have approximately the same elements in the same position.\n *\n * @param {ReadonlyQuat2} a the first dual quat.\n * @param {ReadonlyQuat2} b the second dual quat.\n * @returns {Boolean} true if the dual quats are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7));\n}", "import { Component, Type, ViewComponent, } from '@wonderlandengine/api';\nimport { vec3, mat4 } from 'gl-matrix';\nimport { CursorTarget } from './cursor-target.js';\n/**\n * 3D cursor for desktop/mobile/VR.\n *\n * Implements a ray-casting cursor into the scene. To react to\n * clicking/hover/unhover/cursor down/cursor up/move use a\n * [cursor-target](#cursor-target).\n *\n * For VR, the ray is cast in direction of\n * [this.object.getForward()](/jsapi/object/#getforward). For desktop and mobile, the\n * forward vector is inverse-projected to account for where on screen the user clicked.\n *\n * `.globalTarget` can be used to call callbacks for all objects, even those that\n * do not have a cursor target attached, but match the collision group.\n *\n * See [Animation Example](/showcase/animation).\n */\nclass Cursor extends Component {\n    static TypeName = 'cursor';\n    static Properties = {\n        /** Collision group for the ray cast. Only objects in this group will be affected by this cursor. */\n        collisionGroup: { type: Type.Int, default: 1 },\n        /** (optional) Object that visualizes the cursor's ray. */\n        cursorRayObject: { type: Type.Object },\n        /** Axis along which to scale the `cursorRayObject`. */\n        cursorRayScalingAxis: {\n            type: Type.Enum,\n            values: ['x', 'y', 'z', 'none'],\n            default: 'z',\n        },\n        /** (optional) Object that visualizes the cursor's hit location. */\n        cursorObject: { type: Type.Object },\n        /** Handedness for VR cursors to accept trigger events only from respective controller. */\n        handedness: {\n            type: Type.Enum,\n            values: ['input component', 'left', 'right', 'none'],\n            default: 'input component',\n        },\n        /** Mode for raycasting, whether to use PhysX or simple collision components */\n        rayCastMode: {\n            type: Type.Enum,\n            values: ['collision', 'physx'],\n            default: 'collision',\n        },\n        /** Whether to set the CSS style of the mouse cursor on desktop */\n        styleCursor: { type: Type.Bool, default: true },\n    };\n    collisionMask = 0;\n    maxDistance = 100;\n    onDestroyCallbacks = [];\n    input = null;\n    origin = new Float32Array(3);\n    cursorObjScale = new Float32Array(3);\n    direction = new Float32Array(3);\n    tempVec = new Float32Array(3);\n    projectionMatrix = new Float32Array(16);\n    viewComponent = null;\n    visible = true;\n    isDown = false;\n    lastIsDown = false;\n    arTouchDown = false;\n    cursorPos = new Float32Array(3);\n    lastCursorPosOnTarget = new Float32Array(3);\n    hoveringObject = null;\n    hoveringObjectTarget = null;\n    cursorRayScale = new Float32Array(3);\n    globalTarget = null;\n    /* TODO: Move to decorators, once available */\n    collisionGroup = 1;\n    cursorRayObject = null;\n    cursorRayScalingAxis = 2;\n    cursorObject = null;\n    handedness = 0;\n    rayCastMode = 0;\n    styleCursor = true;\n    start() {\n        this.collisionMask = 1 << this.collisionGroup;\n        if (this.handedness == 0) {\n            const inputComp = this.object.getComponent('input');\n            if (!inputComp) {\n                console.warn('cursor component on object', this.object.name, 'was configured with handedness \"input component\", ' +\n                    'but object has no input component.');\n            }\n            else {\n                this.handedness = inputComp.handedness || 'none';\n                this.input = inputComp;\n            }\n        }\n        else {\n            this.handedness = ['left', 'right', 'none'][this.handedness - 1];\n        }\n        this.globalTarget = this.object.addComponent(CursorTarget);\n        this.viewComponent = this.object.getComponent(ViewComponent);\n        /* If this object also has a view component, we will enable inverse-projected mouse clicks,\n         * otherwise just use the objects transformation */\n        if (this.viewComponent != null) {\n            const onClick = this.onClick.bind(this);\n            this.engine.canvas.addEventListener('click', onClick);\n            const onPointerMove = this.onPointerMove.bind(this);\n            this.engine.canvas.addEventListener('pointermove', onPointerMove);\n            const onPointerDown = this.onPointerDown.bind(this);\n            this.engine.canvas.addEventListener('pointerdown', onPointerDown);\n            const onPointerUp = this.onPointerUp.bind(this);\n            this.engine.canvas.addEventListener('pointerup', onPointerUp);\n            mat4.invert(this.projectionMatrix, this.viewComponent.projectionMatrix);\n            const onViewportResize = this.onViewportResize.bind(this);\n            window.addEventListener('resize', onViewportResize);\n            this.onDestroyCallbacks.push(() => {\n                this.engine.canvas.removeEventListener('click', onClick);\n                this.engine.canvas.removeEventListener('pointermove', onPointerMove);\n                this.engine.canvas.removeEventListener('pointerdown', onPointerDown);\n                this.engine.canvas.removeEventListener('pointerup', onPointerUp);\n                window.removeEventListener('resize', onViewportResize);\n            });\n        }\n        const onXRSessionStart = this.setupVREvents.bind(this);\n        this.engine.onXRSessionStart.add(onXRSessionStart);\n        this.onDestroyCallbacks.push(() => {\n            this.engine.onXRSessionStart.remove(onXRSessionStart);\n        });\n        if (this.cursorRayObject) {\n            this.cursorRayScale.set(this.cursorRayObject.scalingLocal);\n            /* Set ray to a good default distance of the cursor of 1m */\n            this.object.getTranslationWorld(this.origin);\n            this.object.getForward(this.direction);\n            this._setCursorRayTransform(vec3.add(this.tempVec, this.origin, this.direction));\n        }\n    }\n    onViewportResize() {\n        if (!this.viewComponent)\n            return;\n        /* Projection matrix will change if the viewport is resized, which will affect the\n         * projection matrix because of the aspect ratio. */\n        mat4.invert(this.projectionMatrix, this.viewComponent.projectionMatrix);\n    }\n    _setCursorRayTransform(hitPosition) {\n        if (!this.cursorRayObject)\n            return;\n        const dist = vec3.dist(this.origin, hitPosition);\n        this.cursorRayObject.setTranslationLocal([0.0, 0.0, -dist / 2]);\n        if (this.cursorRayScalingAxis != 4) {\n            this.cursorRayObject.resetScaling();\n            this.cursorRayScale[this.cursorRayScalingAxis] = dist / 2;\n            this.cursorRayObject.scale(this.cursorRayScale);\n        }\n    }\n    _setCursorVisibility(visible) {\n        if (this.visible == visible)\n            return;\n        this.visible = visible;\n        if (!this.cursorObject)\n            return;\n        if (visible) {\n            this.cursorObject.resetScaling();\n            this.cursorObject.scale(this.cursorObjScale);\n        }\n        else {\n            this.cursorObjScale.set(this.cursorObject.scalingLocal);\n            this.cursorObject.scale([0, 0, 0]);\n        }\n    }\n    update() {\n        this.doUpdate(false);\n    }\n    doUpdate(doClick) {\n        /* If in VR, set the cursor ray based on object transform */\n        if (this.engine.xrSession) {\n            /* Since Google Cardboard tap is registered as arTouchDown without a gamepad, we need to check for gamepad presence */\n            if (this.arTouchDown &&\n                this.input &&\n                this.engine.xrSession.inputSources[0].handedness === 'none' &&\n                this.engine.xrSession.inputSources[0].gamepad) {\n                const p = this.engine.xrSession.inputSources[0].gamepad.axes;\n                /* Screenspace Y is inverted */\n                this.direction[0] = p[0];\n                this.direction[1] = -p[1];\n                this.direction[2] = -1.0;\n                this.updateDirection();\n            }\n            else {\n                this.object.getTranslationWorld(this.origin);\n                this.object.getForward(this.direction);\n            }\n        }\n        const rayHit = this.rayCastMode == 0\n            ? this.engine.scene.rayCast(this.origin, this.direction, this.collisionMask)\n            : this.engine.physics.rayCast(this.origin, this.direction, this.collisionMask, this.maxDistance);\n        if (rayHit.hitCount > 0) {\n            this.cursorPos.set(rayHit.locations[0]);\n        }\n        else {\n            this.cursorPos.fill(0);\n        }\n        this.hoverBehaviour(rayHit, doClick);\n        if (this.cursorObject) {\n            if (this.hoveringObject &&\n                (this.cursorPos[0] != 0 || this.cursorPos[1] != 0 || this.cursorPos[2] != 0)) {\n                this._setCursorVisibility(true);\n                this.cursorObject.setTranslationWorld(this.cursorPos);\n                this._setCursorRayTransform(this.cursorPos);\n            }\n            else {\n                this._setCursorVisibility(false);\n            }\n        }\n    }\n    hoverBehaviour(rayHit, doClick) {\n        if (rayHit.hitCount > 0) {\n            if (!this.hoveringObject || !this.hoveringObject.equals(rayHit.objects[0])) {\n                /* Unhover previous, if exists */\n                if (this.hoveringObject) {\n                    const cursorTarget = this.hoveringObject.getComponent(CursorTarget);\n                    if (cursorTarget)\n                        cursorTarget.onUnhover.notify(this.hoveringObject, this);\n                    this.globalTarget.onUnhover.notify(this.hoveringObject, this);\n                }\n                /* Hover new object */\n                this.hoveringObject = rayHit.objects[0];\n                if (this.styleCursor)\n                    this.engine.canvas.style.cursor = 'pointer';\n                let cursorTarget = this.hoveringObject.getComponent(CursorTarget);\n                if (cursorTarget) {\n                    this.hoveringObjectTarget = cursorTarget;\n                    cursorTarget.onHover.notify(this.hoveringObject, this);\n                }\n                this.globalTarget.onHover.notify(this.hoveringObject, this);\n            }\n            if (this.hoveringObjectTarget) {\n                this.hoveringObject.toLocalSpaceTransform(this.tempVec, this.cursorPos);\n                if (this.lastCursorPosOnTarget[0] != this.tempVec[0] ||\n                    this.lastCursorPosOnTarget[1] != this.tempVec[1] ||\n                    this.lastCursorPosOnTarget[2] != this.tempVec[2]) {\n                    this.hoveringObjectTarget.onMove.notify(this.hoveringObject, this);\n                    this.lastCursorPosOnTarget.set(this.tempVec);\n                }\n            }\n            /* Cursor up/down */\n            const cursorTarget = this.hoveringObject.getComponent(CursorTarget);\n            if (this.isDown !== this.lastIsDown) {\n                if (this.isDown) {\n                    /* Down */\n                    if (cursorTarget)\n                        cursorTarget.onDown.notify(this.hoveringObject, this);\n                    this.globalTarget.onDown.notify(this.hoveringObject, this);\n                }\n                else {\n                    /* Up */\n                    if (cursorTarget)\n                        cursorTarget.onUp.notify(this.hoveringObject, this);\n                    this.globalTarget.onUp.notify(this.hoveringObject, this);\n                }\n            }\n            /* Click */\n            if (doClick) {\n                if (cursorTarget)\n                    cursorTarget.onClick.notify(this.hoveringObject, this);\n                this.globalTarget.onClick.notify(this.hoveringObject, this);\n            }\n        }\n        else if (this.hoveringObject && rayHit.hitCount == 0) {\n            const cursorTarget = this.hoveringObject.getComponent(CursorTarget);\n            if (cursorTarget)\n                cursorTarget.onUnhover.notify(this.hoveringObject, this);\n            this.globalTarget.onUnhover.notify(this.hoveringObject, this);\n            this.hoveringObject = null;\n            this.hoveringObjectTarget = null;\n            if (this.styleCursor)\n                this.engine.canvas.style.cursor = 'default';\n        }\n        this.lastIsDown = this.isDown;\n    }\n    /**\n     * Setup event listeners on session object\n     * @param s WebXR session\n     *\n     * Sets up 'select' and 'end' events and caches the session to avoid\n     * Module object access.\n     */\n    setupVREvents(s) {\n        /* If in VR, one-time bind the listener */\n        const onSelect = this.onSelect.bind(this);\n        s.addEventListener('select', onSelect);\n        const onSelectStart = this.onSelectStart.bind(this);\n        s.addEventListener('selectstart', onSelectStart);\n        const onSelectEnd = this.onSelectEnd.bind(this);\n        s.addEventListener('selectend', onSelectEnd);\n        this.onDestroyCallbacks.push(() => {\n            if (!this.engine.xrSession)\n                return;\n            s.removeEventListener('select', onSelect);\n            s.removeEventListener('selectstart', onSelectStart);\n            s.removeEventListener('selectend', onSelectEnd);\n        });\n        /* After AR session was entered, the projection matrix changed */\n        this.onViewportResize();\n    }\n    /** 'select' event listener */\n    onSelect(e) {\n        if (e.inputSource.handedness != this.handedness)\n            return;\n        this.doUpdate(true);\n    }\n    /** 'selectstart' event listener */\n    onSelectStart(e) {\n        this.arTouchDown = true;\n        if (e.inputSource.handedness == this.handedness)\n            this.isDown = true;\n    }\n    /** 'selectend' event listener */\n    onSelectEnd(e) {\n        this.arTouchDown = false;\n        if (e.inputSource.handedness == this.handedness)\n            this.isDown = false;\n    }\n    /** 'pointermove' event listener */\n    onPointerMove(e) {\n        /* Don't care about secondary pointers */\n        if (!e.isPrimary)\n            return;\n        const bounds = this.engine.canvas.getBoundingClientRect();\n        const rayHit = this.updateMousePos(e.clientX, e.clientY, bounds.width, bounds.height);\n        this.hoverBehaviour(rayHit, false);\n    }\n    /** 'click' event listener */\n    onClick(e) {\n        const bounds = this.engine.canvas.getBoundingClientRect();\n        const rayHit = this.updateMousePos(e.clientX, e.clientY, bounds.width, bounds.height);\n        this.hoverBehaviour(rayHit, true);\n    }\n    /** 'pointerdown' event listener */\n    onPointerDown(e) {\n        /* Don't care about secondary pointers or non-left clicks */\n        if (!e.isPrimary || e.button !== 0)\n            return;\n        const bounds = this.engine.canvas.getBoundingClientRect();\n        const rayHit = this.updateMousePos(e.clientX, e.clientY, bounds.width, bounds.height);\n        this.isDown = true;\n        this.hoverBehaviour(rayHit, false);\n    }\n    /** 'pointerup' event listener */\n    onPointerUp(e) {\n        /* Don't care about secondary pointers or non-left clicks */\n        if (!e.isPrimary || e.button !== 0)\n            return;\n        const bounds = this.engine.canvas.getBoundingClientRect();\n        const rayHit = this.updateMousePos(e.clientX, e.clientY, bounds.width, bounds.height);\n        this.isDown = false;\n        this.hoverBehaviour(rayHit, false);\n    }\n    /**\n     * Update mouse position in non-VR mode and raycast for new position\n     * @returns @ref WL.RayHit for new position.\n     */\n    updateMousePos(clientX, clientY, w, h) {\n        /* Get direction in normalized device coordinate space from mouse position */\n        const left = clientX / w;\n        const top = clientY / h;\n        this.direction[0] = left * 2 - 1;\n        this.direction[1] = -top * 2 + 1;\n        this.direction[2] = -1.0;\n        return this.updateDirection();\n    }\n    updateDirection() {\n        this.object.getTranslationWorld(this.origin);\n        /* Reverse-project the direction into view space */\n        vec3.transformMat4(this.direction, this.direction, this.projectionMatrix);\n        vec3.normalize(this.direction, this.direction);\n        vec3.transformQuat(this.direction, this.direction, this.object.transformWorld);\n        const rayHit = this.rayCastMode == 0\n            ? this.engine.scene.rayCast(this.origin, this.direction, this.collisionMask)\n            : this.engine.physics.rayCast(this.origin, this.direction, this.collisionMask, this.maxDistance);\n        if (rayHit.hitCount > 0) {\n            this.cursorPos.set(rayHit.locations[0]);\n        }\n        else {\n            this.cursorPos.fill(0);\n        }\n        return rayHit;\n    }\n    onDeactivate() {\n        this._setCursorVisibility(false);\n        if (this.hoveringObject) {\n            const target = this.hoveringObject.getComponent(CursorTarget);\n            if (target)\n                target.onUnhover.notify(this.hoveringObject, this);\n            this.globalTarget.onUnhover.notify(this.hoveringObject, this);\n        }\n        if (this.cursorRayObject)\n            this.cursorRayObject.scale([0, 0, 0]);\n    }\n    onActivate() {\n        this._setCursorVisibility(true);\n    }\n    onDestroy() {\n        for (const f of this.onDestroyCallbacks)\n            f();\n    }\n}\nexport { Cursor };\n", "var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component } from '@wonderlandengine/api';\nimport { property } from '@wonderlandengine/api/decorators.js';\nimport { quat2 } from 'gl-matrix';\n/**\n * Prints some limited debug information about the object.\n *\n * Information consists of: This object's name, an object parameter's name,\n * the object's world translation, world transform and local transform.\n *\n * Mainly used by engine developers for debug purposes or as example code.\n */\nclass DebugObject extends Component {\n    static TypeName = 'debug-object';\n    /** A second object to print the name of */\n    obj = null;\n    start() {\n        let origin = new Float32Array(3);\n        quat2.getTranslation(origin, this.object.transformWorld);\n        console.log('Debug object:', this.object.name);\n        console.log('Other object:', this.obj?.name);\n        console.log('\\ttranslation', origin);\n        console.log('\\ttransformWorld', this.object.transformWorld);\n        console.log('\\ttransformLocal', this.object.transformLocal);\n    }\n}\n__decorate([\n    property.object()\n], DebugObject.prototype, \"obj\", void 0);\nexport { DebugObject };\n", "import { Component } from '@wonderlandengine/api';\n/**\n * Function to convert a Euler in YXZ order to a quaternion\n */\nfunction quatFromEulerYXZ(out, x, y, z) {\n    const c1 = Math.cos(x / 2);\n    const c2 = Math.cos(y / 2);\n    const c3 = Math.cos(z / 2);\n    const s1 = Math.sin(x / 2);\n    const s2 = Math.sin(y / 2);\n    const s3 = Math.sin(z / 2);\n    out[0] = s1 * c2 * c3 + c1 * s2 * s3;\n    out[1] = c1 * s2 * c3 - s1 * c2 * s3;\n    out[2] = c1 * c2 * s3 - s1 * s2 * c3;\n    out[3] = c1 * c2 * c3 + s1 * s2 * s3;\n}\n/**\n * Retrieve device orientation from a mobile device and set the object's\n * orientation accordingly.\n *\n * Useful for magic window experiences.\n */\nclass DeviceOrientationLook extends Component {\n    static TypeName = 'device-orientation-look';\n    static Properties = {};\n    start() {\n        this.rotationX = 0;\n        this.rotationY = 0;\n        this.lastClientX = -1;\n        this.lastClientY = -1;\n    }\n    init() {\n        /* Initialize device orientation with Identity Quaternion */\n        this.deviceOrientation = [0, 0, 0, 1];\n        this.screenOrientation = window.innerHeight > window.innerWidth ? 0 : 90;\n        this._origin = [0, 0, 0];\n        window.addEventListener('deviceorientation', function (e) {\n            let alpha = e.alpha || 0;\n            let beta = e.beta || 0;\n            let gamma = e.gamma || 0;\n            const toRad = Math.PI / 180;\n            quatFromEulerYXZ(this.deviceOrientation, beta * toRad, alpha * toRad, -gamma * toRad);\n        }.bind(this));\n        window.addEventListener('orientationchange', function (e) {\n            this.screenOrientation = window.orientation || 0;\n        }.bind(this), false);\n    }\n    update() {\n        /* Don't use device orientation in VR */\n        if (Module['webxr_session'] != null)\n            return;\n        this.object.getTranslationLocal(this._origin);\n        this.object.resetTransform();\n        if (this.screenOrientation != 0) {\n            this.object.rotateAxisAngleDeg([0, 0, -1], this.screenOrientation);\n        }\n        this.object.rotate([-Math.sqrt(0.5), 0, 0, Math.sqrt(0.5)]);\n        this.object.rotate(this.deviceOrientation);\n        this.object.translate(this._origin);\n    }\n}\nexport { DeviceOrientationLook };\n", "import { Component } from '@wonderlandengine/api';\n/**\n * Enables interaction with cursor-targets through collision overlaps,\n * e.g. on the tip of a finger on a tracked hand.\n *\n * **Requirements:**\n *  - A collision component (usually a sphere with `0.05` radius) on the same object\n *\n * @since 0.8.5\n */\nclass FingerCursor extends Component {\n    static TypeName = 'finger-cursor';\n    static Properties = {};\n    init() {\n        this.lastTarget = null;\n    }\n    start() {\n        this.tip = this.object.getComponent('collision');\n    }\n    update() {\n        const overlaps = this.tip.queryOverlaps();\n        let overlapFound = null;\n        for (let i = 0; i < overlaps.length; ++i) {\n            const o = overlaps[i].object;\n            const target = o.getComponent('cursor-target');\n            if (target) {\n                if (!target.equals(this.lastTarget)) {\n                    target.onHover(o, this);\n                    target.onClick(o, this);\n                }\n                overlapFound = target;\n                break;\n            }\n        }\n        if (!overlapFound) {\n            if (this.lastTarget)\n                this.lastTarget.onUnhover(this.lastTarget.object, this);\n            this.lastTarget = null;\n            return;\n        }\n        else {\n            this.lastTarget = overlapFound;\n        }\n    }\n}\nexport { FingerCursor };\n", "import { Component, Type } from '@wonderlandengine/api';\n/**\n * Applies [fixed foveation](https://www.w3.org/TR/webxrlayers-1/#dom-xrcompositionlayer-fixedfoveation)\n * once a WebXR session is started\n *\n * Fixed foveation reduces shading cost at the periphery by rendering at lower resolutions at the\n * edges of the users vision.\n */\nclass FixedFoveation extends Component {\n    static TypeName = 'fixed-foveation';\n    static Properties = {\n        /** Amount to apply from 0 (none) to 1 (full) */\n        fixedFoveation: { type: Type.Float, default: 0.5 },\n    };\n    start() {\n        if (this.engine.xr) {\n            this.setFixedFoveation();\n        }\n        else {\n            this.engine.onXRSessionStart.push(this.setFixedFoveation.bind(this));\n        }\n    }\n    setFixedFoveation() {\n        this.engine.xr.baseLayer.fixedFoveation = this.fixedFoveation;\n    }\n}\nexport { FixedFoveation };\n", "const tempVec = new Float32Array(3);\nconst tempQuat = new Float32Array(4);\nexport function setXRRigidTransformLocal(o, transform) {\n    const r = transform.orientation;\n    tempQuat[0] = r.x;\n    tempQuat[1] = r.y;\n    tempQuat[2] = r.z;\n    tempQuat[3] = r.w;\n    const t = transform.position;\n    tempVec[0] = t.x;\n    tempVec[1] = t.y;\n    tempVec[2] = t.z;\n    o.resetTranslationRotation();\n    o.transformLocal.set(tempQuat);\n    o.translate(tempVec);\n}\n", "import { Component, Type } from '@wonderlandengine/api';\nimport { vec3, quat, quat2 } from 'gl-matrix';\nimport { setXRRigidTransformLocal } from './utils/webxr.js';\nconst ORDERED_JOINTS = [\n    'wrist',\n    'thumb-metacarpal',\n    'thumb-phalanx-proximal',\n    'thumb-phalanx-distal',\n    'thumb-tip',\n    'index-finger-metacarpal',\n    'index-finger-phalanx-proximal',\n    'index-finger-phalanx-intermediate',\n    'index-finger-phalanx-distal',\n    'index-finger-tip',\n    'middle-finger-metacarpal',\n    'middle-finger-phalanx-proximal',\n    'middle-finger-phalanx-intermediate',\n    'middle-finger-phalanx-distal',\n    'middle-finger-tip',\n    'ring-finger-metacarpal',\n    'ring-finger-phalanx-proximal',\n    'ring-finger-phalanx-intermediate',\n    'ring-finger-phalanx-distal',\n    'ring-finger-tip',\n    'pinky-finger-metacarpal',\n    'pinky-finger-phalanx-proximal',\n    'pinky-finger-phalanx-intermediate',\n    'pinky-finger-phalanx-distal',\n    'pinky-finger-tip',\n];\n/**\n * Easy hand tracking through the WebXR Device API\n * [\"Hand Input\" API](https://immersive-web.github.io/webxr-hand-input/).\n *\n * Allows displaying hands either as sphere-joints or skinned mesh.\n *\n * To react to grabbing, use `this.isGrabbing()`. For other gestures, refer\n * to `this.joints` - an array of [WL.Object](/jsapi/object) and use the joint\n * indices listed [in the WebXR Hand Input specification](https://immersive-web.github.io/webxr-hand-input/#skeleton-joints-section).\n *\n * It is often desired to use either hand tracking or controllers, not both.\n * This component provides `deactivateChildrenWithoutPose` to hide the hand\n * tracking visualization if no pose is available and `controllerToDeactivate`\n * for disabling another object once a hand tracking pose *is* available.\n * Outside of XR sessions, tracking or controllers are neither enabled nor disabled\n * to play well with the [vr-mode-active-switch](#vr-mode-active-switch) component.\n *\n * **Requirements:**\n *  - To use hand-tracking, enable \"joint tracking\" in `chrome://flags` on\n *    Oculus Browser for Oculus Quest/Oculus Quest 2.\n *\n * See [Hand Tracking Example](/showcase/hand-tracking).\n */\nclass HandTracking extends Component {\n    static TypeName = 'hand-tracking';\n    static Properties = {\n        /** Handedness determining whether to receive tracking input from right or left hand */\n        handedness: { type: Type.Enum, default: 'left', values: ['left', 'right'] },\n        /** (optional) Mesh to use to visualize joints */\n        jointMesh: { type: Type.Mesh, default: null },\n        /** Material to use for display. Applied to either the spawned skinned mesh or the joint spheres. */\n        jointMaterial: { type: Type.Material, default: null },\n        /** (optional) Skin to apply tracked joint poses to. If not present, joint spheres will be used for display instead. */\n        handSkin: { type: Type.Skin, default: null },\n        /** Deactivate children if no pose was tracked */\n        deactivateChildrenWithoutPose: { type: Type.Bool, default: true },\n        /** Controller objects to activate including children if no pose is available */\n        controllerToDeactivate: { type: Type.Object },\n    };\n    init() {\n        this.handedness = ['left', 'right'][this.handedness];\n    }\n    start() {\n        this.joints = [];\n        this.session = null;\n        /* Whether last update had a hand pose */\n        this.hasPose = false;\n        this._childrenActive = true;\n        if (!('XRHand' in window)) {\n            console.warn('WebXR Hand Tracking not supported by this browser.');\n            this.active = false;\n            return;\n        }\n        if (this.handSkin) {\n            let skin = this.handSkin;\n            let jointIds = skin.jointIds;\n            /* Map the wrist */\n            this.joints[ORDERED_JOINTS[0]] = this.engine.wrapObject(jointIds[0]);\n            /* Index in ORDERED_JOINTS that we are mapping to our joints */\n            /* Skip thumb0 joint, start at thumb1 */\n            for (let j = 0; j < jointIds.length; ++j) {\n                let joint = this.engine.wrapObject(jointIds[j]);\n                /* tip joints are only needed for joint rendering, so we skip those while mapping */\n                this.joints[joint.name] = joint;\n            }\n            /* If we have a hand skin, no need to spawn the joints-based one */\n            return;\n        }\n        /* Spawn joints */\n        for (let j = 0; j <= ORDERED_JOINTS.length; ++j) {\n            let joint = this.engine.scene.addObject(this.object.parent);\n            let mesh = joint.addComponent('mesh');\n            mesh.mesh = this.jointMesh;\n            mesh.material = this.jointMaterial;\n            this.joints[ORDERED_JOINTS[j]] = joint;\n        }\n    }\n    update(dt) {\n        if (!this.session) {\n            if (this.engine.xr)\n                this.setupVREvents(this.engine.xr.session);\n        }\n        if (!this.session)\n            return;\n        this.hasPose = false;\n        if (this.session && this.session.inputSources) {\n            for (let i = 0; i <= this.session.inputSources.length; ++i) {\n                const inputSource = this.session.inputSources[i];\n                if (!inputSource ||\n                    !inputSource.hand ||\n                    inputSource.handedness != this.handedness)\n                    continue;\n                this.hasPose = true;\n                if (inputSource.hand.get('wrist') !== null) {\n                    const p = Module['webxr_frame'].getJointPose(inputSource.hand.get('wrist'), this.engine.xr.currentReferenceSpace);\n                    if (p) {\n                        setXRRigidTransformLocal(this.object, p.transform);\n                    }\n                }\n                let invTranslation = new Float32Array(3);\n                let invRotation = new Float32Array(4);\n                quat.invert(invRotation, this.object.transformLocal);\n                this.object.getTranslationLocal(invTranslation);\n                for (let j = 0; j < ORDERED_JOINTS.length; ++j) {\n                    const jointName = ORDERED_JOINTS[j];\n                    const joint = this.joints[jointName];\n                    if (joint == null)\n                        continue;\n                    let jointPose = null;\n                    if (inputSource.hand.get(jointName) !== null) {\n                        jointPose = this.engine.xr.frame.getJointPose(inputSource.hand.get(jointName), this.engine.xr.currentReferenceSpace);\n                    }\n                    if (jointPose !== null) {\n                        if (this.handSkin) {\n                            joint.resetTranslationRotation();\n                            joint.translate([\n                                jointPose.transform.position.x - invTranslation[0],\n                                jointPose.transform.position.y - invTranslation[1],\n                                jointPose.transform.position.z - invTranslation[2],\n                            ]);\n                            joint.rotate(invRotation);\n                            joint.rotateObject([\n                                jointPose.transform.orientation.x,\n                                jointPose.transform.orientation.y,\n                                jointPose.transform.orientation.z,\n                                jointPose.transform.orientation.w,\n                            ]);\n                        }\n                        else {\n                            setXRRigidTransformLocal(this.object, p.transform);\n                            /* Last joint radius of each finger is null */\n                            const r = jointPose.radius || 0.007;\n                            joint.scale([r, r, r]);\n                        }\n                    }\n                    else {\n                        /* Hack to hide the object */\n                        if (!this.handSkin)\n                            joint.scale([0, 0, 0]);\n                    }\n                }\n            }\n        }\n        if (!this.hasPose && this._childrenActive) {\n            this._childrenActive = false;\n            if (this.deactivateChildrenWithoutPose) {\n                this.setChildrenActive(false);\n            }\n            if (this.controllerToDeactivate) {\n                this.controllerToDeactivate.active = true;\n                this.setChildrenActive(true, this.controllerToDeactivate);\n            }\n        }\n        else if (this.hasPose && !this._childrenActive) {\n            this._childrenActive = true;\n            if (this.deactivateChildrenWithoutPose) {\n                this.setChildrenActive(true);\n            }\n            if (this.controllerToDeactivate) {\n                this.controllerToDeactivate.active = false;\n                this.setChildrenActive(false, this.controllerToDeactivate);\n            }\n        }\n    }\n    setChildrenActive(active, object) {\n        object = object || this.object;\n        const children = object.children;\n        for (const o of children) {\n            o.active = active;\n            this.setChildrenActive(active, o);\n        }\n    }\n    isGrabbing() {\n        const indexTipPos = [0, 0, 0];\n        quat2.getTranslation(indexTipPos, this.joints['index-finger-tip'].transformLocal);\n        const thumbTipPos = [0, 0, 0];\n        quat2.getTranslation(thumbTipPos, this.joints['thumb-tip'].transformLocal);\n        return vec3.sqrDist(thumbTipPos, indexTipPos) < 0.001;\n    }\n    setupVREvents(s) {\n        this.session = s;\n    }\n}\nexport { HandTracking };\n", "import { Component } from '@wonderlandengine/api';\nimport { setXRRigidTransformLocal } from './utils/webxr.js';\n/**\n * Sets up a [WebXR Device API \"Hit Test\"](https://immersive-web.github.io/hit-test/)\n * and places the object to the hit location.\n *\n * **Requirements:**\n *  - Specify `'hit-test'` in the required or optional features on the AR button in your html file.\n *    See [Wastepaperbin AR](/showcase/wpb-ar) as an example.\n */\nclass HitTestLocation extends Component {\n    static TypeName = 'hit-test-location';\n    static Properties = {};\n    tempScaling = new Float32Array(3);\n    visible = false;\n    xrHitTestSource = null;\n    start() {\n        this.engine.onXRSessionStart.add(this.xrSessionStart.bind(this));\n        this.engine.onXRSessionEnd.add(this.xrSessionEnd.bind(this));\n        this.tempScaling.set(this.object.scalingLocal);\n        this.object.scale([0, 0, 0]);\n    }\n    update() {\n        const wasVisible = this.visible;\n        if (this.xrHitTestSource) {\n            const frame = this.engine.xrFrame;\n            if (!frame)\n                return;\n            let hitTestResults = frame.getHitTestResults(this.xrHitTestSource);\n            if (hitTestResults.length > 0) {\n                let pose = hitTestResults[0].getPose(this.engine.xr.referenceSpaceForType('viewer'));\n                this.visible = !!pose;\n                if (pose) {\n                    setXRRigidTransformLocal(this.object, pose.transform);\n                }\n            }\n            else {\n                this.visible = false;\n            }\n        }\n        if (this.visible != wasVisible) {\n            if (!this.visible) {\n                this.tempScaling.set(this.object.scalingLocal);\n                this.object.scale([0, 0, 0]);\n            }\n            else {\n                this.object.scalingLocal.set(this.tempScaling);\n                this.object.setDirty();\n            }\n        }\n    }\n    getHitTestResults() {\n        if (!this.engine.xr?.frame)\n            return [];\n        /* May happen if the hit test source couldn't be created */\n        if (!this.xrHitTestSource)\n            return [];\n        return this.engine.xr.frame.getHitTestResults(this.xrHitTestSource);\n    }\n    xrSessionStart(session) {\n        if (session.requestHitTestSource === undefined) {\n            console.error('hit-test-location: hit test feature not available. Deactivating component.');\n            this.active = false;\n            return;\n        }\n        const viewerSpace = this.engine.xr.referenceSpaceForType('viewer');\n        session\n            .requestHitTestSource({ space: viewerSpace })\n            .then((hitTestSource) => {\n            this.xrHitTestSource = hitTestSource;\n        })\n            .catch(console.error);\n    }\n    xrSessionEnd() {\n        if (!this.xrHitTestSource)\n            return;\n        this.xrHitTestSource.cancel();\n        this.xrHitTestSource = null;\n    }\n}\nexport { HitTestLocation };\n", "import { Component, Type } from '@wonderlandengine/api';\nimport 'howler';\n/**\n * (Spatial) audio listener based on [Howler.js](https://howlerjs.com/).\n *\n * Retrieves the location and orientation of the object and passes it\n * to [Howler.pos()](https://github.com/goldfire/howler.js#posx-y-z-id)\n * and [Howler.orientation()](https://github.com/goldfire/howler.js#orientationx-y-z-id).\n */\nclass HowlerAudioListener extends Component {\n    static TypeName = 'howler-audio-listener';\n    static Properties = {\n        /** Whether audio should be spatialized/positional. */\n        spatial: { type: Type.Bool, default: true },\n    };\n    init() {\n        this.origin = new Float32Array(3);\n        this.fwd = new Float32Array(3);\n        this.up = new Float32Array(3);\n    }\n    update() {\n        if (!this.spatial)\n            return;\n        this.object.getTranslationWorld(this.origin);\n        this.object.getForward(this.fwd);\n        this.object.getUp(this.up);\n        Howler.pos(this.origin[0], this.origin[1], this.origin[2]);\n        Howler.orientation(this.fwd[0], this.fwd[1], this.fwd[2], this.up[0], this.up[1], this.up[2]);\n    }\n}\nexport { HowlerAudioListener };\n", "import { Component, Type } from '@wonderlandengine/api';\nimport { Howl } from 'howler';\n/**\n * (Spatial) audio source based on [Howler.js](https://howlerjs.com/).\n *\n * Creates a Howler audio source, plays an audio file on it and updates\n * its position.\n *\n * Optimizes the position update to only update if the difference to last\n * position is larger than half a centimeter. To force updates (e.g. if\n * the sound source is _very_ close to the listener),\n * use `.updatePosition()`.\n */\nclass HowlerAudioSource extends Component {\n    static TypeName = 'howler-audio-source';\n    static Properties = {\n        /** Volume */\n        volume: { type: Type.Float, default: 1.0 },\n        /** Whether audio should be spatialized/positional */\n        spatial: { type: Type.Bool, default: true },\n        /** Whether to loop the sound */\n        loop: { type: Type.Bool, default: false },\n        /** Whether to start playing automatically */\n        autoplay: { type: Type.Bool, default: false },\n        /** URL to a sound file to play */\n        src: { type: Type.String, default: '' },\n    };\n    start() {\n        this.audio = new Howl({\n            src: [this.src],\n            loop: this.loop,\n            volume: this.volume,\n            autoplay: this.autoplay,\n        });\n        this.lastPlayedAudioId = null;\n        this.origin = new Float32Array(3);\n        this.lastOrigin = new Float32Array(3);\n        if (this.spatial && this.autoplay) {\n            this.updatePosition();\n            this.play();\n        }\n    }\n    update() {\n        if (!this.spatial || !this.lastPlayedAudioId)\n            return;\n        this.object.getTranslationWorld(this.origin);\n        /* Only call pos() if the position moved more than half a centimeter\n         * otherwise this gets very performance heavy.\n         * Smaller movement should only be perceivable if close to the\n         * ear anyway. */\n        if (Math.abs(this.lastOrigin[0] - this.origin[0]) > 0.005 ||\n            Math.abs(this.lastOrigin[1] - this.origin[1]) > 0.005 ||\n            Math.abs(this.lastOrigin[2] - this.origin[2]) > 0.005) {\n            this.updatePosition();\n        }\n    }\n    updatePosition() {\n        this.audio.pos(this.origin[0], this.origin[1], this.origin[2], this.lastPlayedAudioId);\n        this.lastOrigin.set(this.origin);\n    }\n    play() {\n        if (this.lastPlayedAudioId)\n            this.audio.stop(this.lastPlayedAudioId);\n        this.lastPlayedAudioId = this.audio.play();\n        if (this.spatial)\n            this.updatePosition();\n    }\n    stop() {\n        if (!this.lastPlayedAudioId)\n            return;\n        this.audio.stop(this.lastPlayedAudioId);\n        this.lastPlayedAudioId = null;\n    }\n    onDeactivate() {\n        /* Stop sound when component is deactivated or destroyed, e.g.\n         * when switching scenes */\n        this.stop();\n    }\n}\nexport { HowlerAudioSource };\n", "import { Component, Type } from '@wonderlandengine/api';\n/**\n * Downloads an image from URL and applies it as `diffuseTexture` or `flatTexture`\n * to an attached mesh component.\n *\n * Materials from the following shaders are supported:\n *  - \"Phong Opaque Textured\"\n *  - \"Flat Opaque Textured\"\n *  - \"Background\"\n *  - \"Physical Opaque Textured\"\n *  - \"Foliage\"\n */\nclass ImageTexture extends Component {\n    static TypeName = 'image-texture';\n    static Properties = {\n        /** URL to download the image from */\n        url: { type: Type.String },\n        /** Material to apply the video texture to */\n        material: { type: Type.Material },\n    };\n    start() {\n        if (!this.material) {\n            throw Error('image-texture: material property not set');\n        }\n        this.engine.textures\n            .load(this.url, 'anonymous')\n            .then((texture) => {\n            const mat = this.material;\n            const shader = mat.shader;\n            if (shader === 'Flat Opaque Textured') {\n                mat.flatTexture = texture;\n            }\n            else if (shader === 'Phong Opaque Textured' || shader === 'Foliage') {\n                mat.diffuseTexture = texture;\n            }\n            else if (shader === 'Background') {\n                mat.texture = texture;\n            }\n            else if (shader === 'Physical Opaque Textured') {\n                mat.albedoTexture = texture;\n            }\n            else {\n                console.error('Shader', shader, 'not supported by image-texture');\n            }\n        })\n            .catch(console.err);\n    }\n}\nexport { ImageTexture };\n", "import { Component, Type } from '@wonderlandengine/api';\nimport { vec3 } from 'gl-matrix';\n/**\n * Controls the camera through mouse movement.\n *\n * Efficiently implemented to affect object orientation only\n * when the mouse moves.\n */\nclass MouseLookComponent extends Component {\n    static TypeName = 'mouse-look';\n    static Properties = {\n        /** Mouse look sensitivity */\n        sensitity: { type: Type.Float, default: 0.25 },\n        /** Require a mouse button to be pressed to control view.\n         * Otherwise view will allways follow mouse movement */\n        requireMouseDown: { type: Type.Bool, default: true },\n        /** If \"moveOnClick\" is enabled, mouse button which should\n         * be held down to control view */\n        mouseButtonIndex: { type: Type.Int },\n        /** Enables pointer lock on \"mousedown\" event on canvas */\n        pointerLockOnClick: { type: Type.Bool, default: false },\n    };\n    init() {\n        this.currentRotationY = 0;\n        this.currentRotationX = 0;\n        this.origin = new Float32Array(3);\n        this.parentOrigin = new Float32Array(3);\n        this.rotationX = 0;\n        this.rotationY = 0;\n    }\n    start() {\n        document.addEventListener('mousemove', (e) => {\n            if (this.active && (this.mouseDown || !this.requireMouseDown)) {\n                this.rotationY = (-this.sensitity * e.movementX) / 100;\n                this.rotationX = (-this.sensitity * e.movementY) / 100;\n                this.currentRotationX += this.rotationX;\n                this.currentRotationY += this.rotationY;\n                /* 1.507 = PI/2 = 90\u00B0 */\n                this.currentRotationX = Math.min(1.507, this.currentRotationX);\n                this.currentRotationX = Math.max(-1.507, this.currentRotationX);\n                this.object.getTranslationWorld(this.origin);\n                const parent = this.object.parent;\n                if (parent !== null) {\n                    parent.getTranslationWorld(this.parentOrigin);\n                    vec3.sub(this.origin, this.origin, this.parentOrigin);\n                }\n                this.object.resetTranslationRotation();\n                this.object.rotateAxisAngleRad([1, 0, 0], this.currentRotationX);\n                this.object.rotateAxisAngleRad([0, 1, 0], this.currentRotationY);\n                this.object.translate(this.origin);\n            }\n        });\n        const canvas = this.engine.canvas;\n        if (this.pointerLockOnClick) {\n            canvas.addEventListener('mousedown', () => {\n                canvas.requestPointerLock =\n                    canvas.requestPointerLock ||\n                        canvas.mozRequestPointerLock ||\n                        canvas.webkitRequestPointerLock;\n                canvas.requestPointerLock();\n            });\n        }\n        if (this.requireMouseDown) {\n            if (this.mouseButtonIndex == 2) {\n                canvas.addEventListener('contextmenu', (e) => {\n                    e.preventDefault();\n                }, false);\n            }\n            canvas.addEventListener('mousedown', (e) => {\n                if (e.button == this.mouseButtonIndex) {\n                    this.mouseDown = true;\n                    document.body.style.cursor = 'grabbing';\n                    if (e.button == 1) {\n                        e.preventDefault();\n                        /* Prevent scrolling */\n                        return false;\n                    }\n                }\n            });\n            canvas.addEventListener('mouseup', (e) => {\n                if (e.button == this.mouseButtonIndex) {\n                    this.mouseDown = false;\n                    document.body.style.cursor = 'initial';\n                }\n            });\n        }\n    }\n}\nexport { MouseLookComponent };\n", "import { Component, Type } from '@wonderlandengine/api';\n/**\n * Set player height for a Y-offset above the ground for\n * 'local' and 'viewer' reference spaces.\n */\nclass PlayerHeight extends Component {\n    static TypeName = 'player-height';\n    static Properties = {\n        height: { type: Type.Float, default: 1.75 },\n    };\n    start() {\n        this.object.resetTranslationRotation();\n        this.object.translate([0.0, this.height, 0.0]);\n        this.onSessionStartCallback = this.onXRSessionStart.bind(this);\n        this.onSessionEndCallback = this.onXRSessionEnd.bind(this);\n    }\n    onActivate() {\n        this.engine.onXRSessionStart.add(this.onSessionStartCallback);\n        this.engine.onXRSessionEnd.add(this.onSessionStartCallback);\n    }\n    onDeactivate() {\n        this.engine.onXRSessionStart.remove(this.onSessionEndCallback);\n        this.engine.onXRSessionEnd.remove(this.onSessionEndCallback);\n    }\n    onXRSessionStart() {\n        if (!['local', 'viewer'].includes(this.engine.xr.currentReferenceSpace)) {\n            this.object.resetTranslationRotation();\n        }\n    }\n    onXRSessionEnd() {\n        if (!['local', 'viewer'].includes(this.engine.xr.currentReferenceSpace)) {\n            this.object.resetTranslationRotation();\n            this.object.translate([0.0, this.height, 0.0]);\n        }\n    }\n}\nexport { PlayerHeight };\n", "import { Component, Type } from '@wonderlandengine/api';\n/**\n * Sets the target framerate\n *\n * [Updates the target framerate](https://immersive-web.github.io/webxr/#dom-xrsession-updatetargetframerate)\n * to the closest [supported target framerate](https://immersive-web.github.io/webxr/#dom-xrsession-supportedFrameRates)\n * to the given `framerate`.\n *\n * The target framerate is used for the device's VR compositor as an indication of how often to refresh the\n * screen with new images. This means the app will be asked to produce frames in more regular intervals,\n * potentially spending less time on frames that are likely to be dropped.\n *\n * For apps with heavy load, setting a well matching target framerate can improve the apps rendering stability\n * and reduce stutter.\n *\n * Likewise, the target framerate can be used to enable 120Hz refresh rates on Oculus Quest 2 on simpler apps.\n */\nclass TargetFramerate extends Component {\n    static TypeName = 'target-framerate';\n    static Properties = {\n        framerate: { type: Type.Float, default: 90.0 },\n    };\n    start() {\n        if (this.engine.xrSession) {\n            this.setTargetFramerate(this.engine.xrSession);\n        }\n        else {\n            this.engine.onXRSessionStart.push(this.setTargetFramerate.bind(this));\n        }\n    }\n    setTargetFramerate(s) {\n        if (s.supportedFrameRates && s.updateTargetFrameRate) {\n            const a = this.engine.xrSession.supportedFrameRates;\n            a.sort((a, b) => Math.abs(a - this.framerate) - Math.abs(b - this.framerate));\n            this.engine.xrSession.updateTargetFrameRate(a[0]);\n        }\n    }\n}\nexport { TargetFramerate };\n", "import { vec3, quat2 } from 'gl-matrix';\nimport { Component, Type } from '@wonderlandengine/api';\n/**\n * Teleport VR locomotion.\n *\n * See [Teleport Example](/showcase/teleport).\n */\nclass TeleportComponent extends Component {\n    static TypeName = 'teleport';\n    static Properties = {\n        /** Object that will be placed as indiciation forwhere the player will teleport to. */\n        teleportIndicatorMeshObject: { type: Type.Object },\n        /** Root of the player, the object that will be positioned on teleportation. */\n        camRoot: { type: Type.Object },\n        /** Non-vr camera for use outside of VR */\n        cam: { type: Type.Object },\n        /** Left eye for use in VR*/\n        eyeLeft: { type: Type.Object },\n        /** Right eye for use in VR*/\n        eyeRight: { type: Type.Object },\n        /** Handedness for VR cursors to accept trigger events only from respective controller. */\n        handedness: {\n            type: Type.Enum,\n            values: ['input component', 'left', 'right', 'none'],\n            default: 'input component',\n        },\n        /** Collision group of valid \"floor\" objects that can be teleported on */\n        floorGroup: { type: Type.Int, default: 1 },\n        /** How far the thumbstick needs to be pushed to have the teleport target indicator show up */\n        thumbstickActivationThreshhold: { type: Type.Float, default: -0.7 },\n        /** How far the thumbstick needs to be released to execute the teleport */\n        thumbstickDeactivationThreshhold: { type: Type.Float, default: 0.3 },\n        /** Offset to apply to the indicator object, e.g. to avoid it from Z-fighting with the floor */\n        indicatorYOffset: { type: Type.Float, default: 0.01 },\n        /** Mode for raycasting, whether to use PhysX or simple collision components */\n        rayCastMode: {\n            type: Type.Enum,\n            values: ['collision', 'physx'],\n            default: 'collision',\n        },\n        /** Max distance for PhysX raycast */\n        maxDistance: { type: Type.Float, default: 100.0 },\n    };\n    init() {\n        this._prevThumbstickAxis = new Float32Array(2);\n        this._tempVec = new Float32Array(3);\n        this._tempVec0 = new Float32Array(3);\n        this._currentIndicatorRotation = 0;\n        this.input = this.object.getComponent('input');\n        if (!this.input) {\n            console.error(this.object.name, 'generic-teleport-component.js: input component is required on the object');\n            return;\n        }\n        if (!this.teleportIndicatorMeshObject) {\n            console.error(this.object.name, 'generic-teleport-component.js: Teleport indicator mesh is missing');\n            return;\n        }\n        if (!this.camRoot) {\n            console.error(this.object.name, 'generic-teleport-component.js: camRoot not set');\n            return;\n        }\n        this.isIndicating = false;\n        this.indicatorHidden = true;\n        this.hitSpot = new Float32Array(3);\n        this._hasHit = false;\n        this._extraRotation = 0;\n        this._currentStickAxes = new Float32Array(2);\n    }\n    start() {\n        if (this.cam) {\n            this.isMouseIndicating = false;\n            canvas.addEventListener('mousedown', this.onMouseDown.bind(this));\n            canvas.addEventListener('mouseup', this.onMouseUp.bind(this));\n        }\n        if (this.handedness == 0) {\n            const inputComp = this.object.getComponent('input');\n            if (!inputComp) {\n                console.warn('teleport component on object', this.object.name, 'was configured with handedness \"input component\", ' +\n                    'but object has no input component.');\n            }\n            else {\n                this.handedness = inputComp.handedness;\n                this.input = inputComp;\n            }\n        }\n        else {\n            this.handedness = ['left', 'right'][this.handedness - 1];\n        }\n        this.engine.onXRSessionStart.push(this.setupVREvents.bind(this));\n        this.teleportIndicatorMeshObject.active = false;\n    }\n    /* Get current camera Y rotation */\n    _getCamRotation() {\n        this.eyeLeft.getForward(this._tempVec);\n        this._tempVec[1] = 0;\n        vec3.normalize(this._tempVec, this._tempVec);\n        return Math.atan2(this._tempVec[0], this._tempVec[2]);\n    }\n    update() {\n        let inputLength = 0;\n        if (this.gamepad && this.gamepad.axes) {\n            this._currentStickAxes[0] = this.gamepad.axes[2];\n            this._currentStickAxes[1] = this.gamepad.axes[3];\n            inputLength =\n                Math.abs(this._currentStickAxes[0]) + Math.abs(this._currentStickAxes[1]);\n        }\n        if (!this.isIndicating &&\n            this._prevThumbstickAxis[1] >= this.thumbstickActivationThreshhold &&\n            this._currentStickAxes[1] < this.thumbstickActivationThreshhold) {\n            this.isIndicating = true;\n        }\n        else if (this.isIndicating &&\n            inputLength < this.thumbstickDeactivationThreshhold) {\n            this.isIndicating = false;\n            this.teleportIndicatorMeshObject.active = false;\n            if (this._hasHit) {\n                this._teleportPlayer(this.hitSpot, this._extraRotation);\n            }\n        }\n        if (this.isIndicating && this.teleportIndicatorMeshObject && this.input) {\n            const origin = this._tempVec0;\n            quat2.getTranslation(origin, this.object.transformWorld);\n            const direction = this.object.getForward(this._tempVec);\n            let rayHit = (this.rayHit =\n                this.rayCastMode == 0\n                    ? this.engine.scene.rayCast(origin, direction, 1 << this.floorGroup)\n                    : this.engine.physics.rayCast(origin, direction, 1 << this.floorGroup, this.maxDistance));\n            if (rayHit.hitCount > 0) {\n                this.indicatorHidden = false;\n                this._extraRotation =\n                    Math.PI +\n                        Math.atan2(this._currentStickAxes[0], this._currentStickAxes[1]);\n                this._currentIndicatorRotation =\n                    this._getCamRotation() + (this._extraRotation - Math.PI);\n                this.teleportIndicatorMeshObject.resetTranslationRotation();\n                this.teleportIndicatorMeshObject.rotateAxisAngleRad([0, 1, 0], this._currentIndicatorRotation);\n                this.teleportIndicatorMeshObject.translate(rayHit.locations[0]);\n                this.teleportIndicatorMeshObject.translate([\n                    0.0,\n                    this.indicatorYOffset,\n                    0.0,\n                ]);\n                this.teleportIndicatorMeshObject.active = true;\n                this.hitSpot.set(rayHit.locations[0]);\n                this._hasHit = true;\n            }\n            else {\n                if (!this.indicatorHidden) {\n                    this.teleportIndicatorMeshObject.active = false;\n                    this.indicatorHidden = true;\n                }\n                this._hasHit = false;\n            }\n        }\n        else if (this.teleportIndicatorMeshObject && this.isMouseIndicating) {\n            this.onMousePressed();\n        }\n        this._prevThumbstickAxis.set(this._currentStickAxes);\n    }\n    setupVREvents(s) {\n        /* If in VR, one-time bind the listener */\n        this.session = s;\n        s.addEventListener('end', function () {\n            /* Reset cache once the session ends to rebind select etc, in case\n             * it starts again */\n            this.gamepad = null;\n            this.session = null;\n        }.bind(this));\n        if (s.inputSources && s.inputSources.length) {\n            for (let i = 0; i < s.inputSources.length; i++) {\n                let inputSource = s.inputSources[i];\n                if (inputSource.handedness == this.handedness) {\n                    this.gamepad = inputSource.gamepad;\n                }\n            }\n        }\n        s.addEventListener('inputsourceschange', function (e) {\n            if (e.added && e.added.length) {\n                for (let i = 0; i < e.added.length; i++) {\n                    let inputSource = e.added[i];\n                    if (inputSource.handedness == this.handedness) {\n                        this.gamepad = inputSource.gamepad;\n                    }\n                }\n            }\n        }.bind(this));\n    }\n    onMouseDown() {\n        this.isMouseIndicating = true;\n    }\n    onMouseUp() {\n        this.isMouseIndicating = false;\n        this.teleportIndicatorMeshObject.active = false;\n        if (this._hasHit) {\n            this._teleportPlayer(this.hitSpot, 0.0);\n        }\n    }\n    onMousePressed() {\n        let origin = [0, 0, 0];\n        quat2.getTranslation(origin, this.cam.transformWorld);\n        const direction = this.cam.getForward(this._tempVec);\n        let rayHit = (this.rayHit =\n            this.rayCastMode == 0\n                ? this.engine.scene.rayCast(origin, direction, 1 << this.floorGroup)\n                : this.engine.physics.rayCast(origin, direction, 1 << this.floorGroup, this.maxDistance));\n        if (rayHit.hitCount > 0) {\n            this.indicatorHidden = false;\n            direction[1] = 0;\n            vec3.normalize(direction, direction);\n            this._currentIndicatorRotation =\n                -Math.sign(direction[2]) * Math.acos(direction[0]) - Math.PI * 0.5;\n            this.teleportIndicatorMeshObject.resetTranslationRotation();\n            this.teleportIndicatorMeshObject.rotateAxisAngleRad([0, 1, 0], this._currentIndicatorRotation);\n            this.teleportIndicatorMeshObject.translate(rayHit.locations[0]);\n            this.teleportIndicatorMeshObject.active = true;\n            this.hitSpot = rayHit.locations[0];\n            this._hasHit = true;\n        }\n        else {\n            if (!this.indicatorHidden) {\n                this.teleportIndicatorMeshObject.active = false;\n                this.indicatorHidden = true;\n            }\n            this._hasHit = false;\n        }\n    }\n    _teleportPlayer(newPosition, rotationToAdd) {\n        this.camRoot.rotateAxisAngleRad([0, 1, 0], rotationToAdd);\n        const p = this._tempVec;\n        const p1 = this._tempVec0;\n        if (this.session) {\n            this.eyeLeft.getTranslationWorld(p);\n            this.eyeRight.getTranslationWorld(p1);\n            vec3.add(p, p, p1);\n            vec3.scale(p, p, 0.5);\n        }\n        else {\n            this.cam.getTranslationWorld(p);\n        }\n        this.camRoot.getTranslationWorld(p1);\n        vec3.sub(p, p1, p);\n        p[0] += newPosition[0];\n        p[1] = newPosition[1];\n        p[2] += newPosition[2];\n        this.camRoot.setTranslationWorld(p);\n    }\n}\nexport { TeleportComponent };\n", "import { Component, Type, Mesh, MeshIndexType, MeshAttribute } from '@wonderlandengine/api';\nimport { vec3 } from 'gl-matrix';\nconst direction = vec3.create();\nconst offset = vec3.create();\nconst normal = vec3.create();\n/**\n * Dynamic mesh-based trail\n *\n * This component keeps track of the world position of the object it's added to.\n * At a fixed interval the world position is stored as start and end points of the trail segments.\n *\n * The trail tapers off along its length. UV texture coordinates are setup such that the\n * U-axis covers the width of the trail and the V-axis covers the length of the trail.\n * This allows the trail's appearance to be defined using a texture.\n */\nclass Trail extends Component {\n    static TypeName = 'trail';\n    static Properties = {\n        /** The material to apply to the trail mesh */\n        material: { type: Type.Material },\n        /** The number of segments in the trail mesh */\n        segments: { type: Type.Int, default: 50 },\n        /** The time interval before recording a new point */\n        interval: { type: Type.Float, default: 0.1 },\n        /** The width of the trail (in world space) */\n        width: { type: Type.Float, default: 1.0 },\n        /** Whether or not the trail should taper off */\n        taper: { type: Type.Bool, default: true },\n        /**\n         * The maximum delta time in seconds, above which the trail resets.\n         * This prevents the trail from jumping around when updates happen\n         * infrequently (e.g. when the tab doesn't have focus).\n         */\n        resetThreshold: { type: Type.Float, default: 0.5 },\n    };\n    init() {\n        this.points = new Array(this.segments + 1);\n        for (let i = 0; i < this.points.length; ++i) {\n            this.points[i] = vec3.create();\n        }\n        /* The points array is circular, so keep track of its head */\n        this.currentPointOffset = 0;\n        this.up = [0, 1, 0];\n        this.timeTillNext = this.interval;\n    }\n    start() {\n        this.trailContainer = this.engine.scene.addObject();\n        this.meshComp = this.trailContainer.addComponent('mesh');\n        this.meshComp.material = this.material;\n        /* Each point will have two vertices; one on either side */\n        const vertexCount = 2 * this.points.length;\n        /* Each segment consists of two triangles */\n        this.indexData = new Uint32Array(6 * this.segments);\n        for (let i = 0, v = 0; i < vertexCount - 2; i += 2, v += 6) {\n            this.indexData\n                .subarray(v, v + 6)\n                .set([i + 1, i + 0, i + 2, i + 2, i + 3, i + 1]);\n        }\n        this.mesh = new Mesh(this.engine, {\n            vertexCount: vertexCount,\n            indexData: this.indexData,\n            indexType: MeshIndexType.UnsignedInt,\n        });\n        this.meshComp.mesh = this.mesh;\n    }\n    updateVertices() {\n        const positions = this.mesh.attribute(MeshAttribute.Position);\n        const texCoords = this.mesh.attribute(MeshAttribute.TextureCoordinate);\n        const normals = this.mesh.attribute(MeshAttribute.Normal);\n        vec3.set(direction, 0, 0, 0);\n        for (let i = 0; i < this.points.length; ++i) {\n            const curr = this.points[(this.currentPointIndex + i + 1) % this.points.length];\n            const next = this.points[(this.currentPointIndex + i + 2) % this.points.length];\n            /* The last point has no next, so re-use the direction of the previous segment */\n            if (i !== this.points.length - 1) {\n                vec3.sub(direction, next, curr);\n            }\n            vec3.cross(offset, this.up, direction);\n            vec3.normalize(offset, offset);\n            const timeFraction = 1.0 - this.timeTillNext / this.interval;\n            const fraction = (i - timeFraction) / this.segments;\n            vec3.scale(offset, offset, ((this.taper ? fraction : 1.0) * this.width) / 2.0);\n            positions.set(i * 2, [\n                curr[0] - offset[0],\n                curr[1] - offset[1],\n                curr[2] - offset[2],\n            ]);\n            positions.set(i * 2 + 1, [\n                curr[0] + offset[0],\n                curr[1] + offset[1],\n                curr[2] + offset[2],\n            ]);\n            if (normals) {\n                vec3.cross(normal, direction, offset);\n                vec3.normalize(normal, normal);\n                normals.set(i * 2, normal);\n                normals.set(i * 2 + 1, normal);\n            }\n            if (texCoords) {\n                texCoords.set(i * 2, [0, fraction]);\n                texCoords.set(i * 2 + 1, [1, fraction]);\n            }\n        }\n        /* Notify WLE that the mesh has changed */\n        this.mesh.update();\n    }\n    resetTrail() {\n        this.object.getTranslationWorld(this.points[0]);\n        for (let i = 1; i < this.points.length; ++i) {\n            vec3.copy(this.points[i], this.points[0]);\n        }\n        this.currentPointIndex = 0;\n        this.timeTillNext = this.interval;\n    }\n    update(dt) {\n        this.timeTillNext -= dt;\n        if (dt > this.resetThreshold) {\n            this.resetTrail();\n        }\n        if (this.timeTillNext < 0) {\n            this.currentPointIndex = (this.currentPointIndex + 1) % this.points.length;\n            this.timeTillNext = (this.timeTillNext % this.interval) + this.interval;\n        }\n        this.object.getTranslationWorld(this.points[this.currentPointIndex]);\n        this.updateVertices();\n    }\n    onActivate() {\n        this.resetTrail();\n    }\n    onDestroy() {\n        this.trailContainer.destroy();\n        this.mesh.destroy();\n    }\n}\nexport { Trail };\n", "import { Component, Type } from '@wonderlandengine/api';\nimport { vec3, quat } from 'gl-matrix';\nMath.clamp = function (v, a, b) {\n    return Math.max(a, Math.min(v, b));\n};\n// From http://theorangeduck.com/page/simple-two-joint\nconst twoJointIK = (function () {\n    let ta = new Float32Array(3);\n    let ca = new Float32Array(3);\n    let ba = new Float32Array(3);\n    let ab = new Float32Array(3);\n    let cb = new Float32Array(3);\n    let axis0 = new Float32Array(3);\n    let axis1 = new Float32Array(3);\n    let temp = new Float32Array(4);\n    let r0 = new Float32Array(4);\n    let r1 = new Float32Array(4);\n    let r2 = new Float32Array(4);\n    return function (a_lr, b_lr, a, b, c, t, eps, a_gr, b_gr, helper) {\n        vec3.sub(ba, b, a);\n        const lab = vec3.length(ba);\n        vec3.sub(ta, b, c);\n        const lcb = vec3.length(ta);\n        vec3.sub(ta, t, a);\n        const lat = Math.clamp(vec3.length(ta), eps, lab + lcb - eps);\n        vec3.sub(ca, c, a);\n        vec3.sub(ab, a, b);\n        vec3.sub(cb, c, b);\n        vec3.normalize(ca, ca);\n        vec3.normalize(ba, ba);\n        vec3.normalize(ab, ab);\n        vec3.normalize(cb, cb);\n        vec3.normalize(ta, ta);\n        const ac_ab_0 = Math.acos(Math.clamp(vec3.dot(ca, ba), -1, 1));\n        const ba_bc_0 = Math.acos(Math.clamp(vec3.dot(ab, cb), -1, 1));\n        const ac_at_0 = Math.acos(Math.clamp(vec3.dot(ca, ta), -1, 1));\n        const ac_ab_1 = Math.acos(Math.clamp((lcb * lcb - lab * lab - lat * lat) / (-2 * lab * lat), -1, 1));\n        const ba_bc_1 = Math.acos(Math.clamp((lat * lat - lab * lab - lcb * lcb) / (-2 * lab * lcb), -1, 1));\n        vec3.sub(ca, c, a);\n        vec3.sub(ba, b, a);\n        vec3.sub(ta, t, a);\n        vec3.cross(axis0, ca, ba);\n        vec3.cross(axis1, ca, ta);\n        if (helper) {\n            vec3.sub(ba, helper, b);\n            vec3.transformQuat(ba, [0, 0, -1], b_gr);\n        }\n        else {\n            vec3.sub(ba, b, a);\n        }\n        const l = vec3.length(axis0);\n        if (l == 0) {\n            axis0.set([1, 0, 0]);\n        }\n        else {\n            vec3.scale(axis0, axis0, 1 / l);\n        }\n        vec3.normalize(axis1, axis1);\n        quat.conjugate(a_gr, a_gr);\n        quat.setAxisAngle(r0, vec3.transformQuat(temp, axis0, a_gr), ac_ab_1 - ac_ab_0);\n        quat.setAxisAngle(r2, vec3.transformQuat(temp, axis1, a_gr), ac_at_0);\n        quat.mul(a_lr, a_lr, quat.mul(temp, r0, r2));\n        quat.normalize(a_lr, a_lr);\n        quat.conjugate(b_gr, b_gr);\n        quat.setAxisAngle(r1, vec3.transformQuat(temp, axis0, b_gr), ba_bc_1 - ba_bc_0);\n        quat.mul(b_lr, b_lr, r1);\n        quat.normalize(b_lr, b_lr);\n    };\n})();\n/**\n * Inverse Kinematics for two-joint chains (e.g. knees or ellbows)\n */\nclass TwoJointIkSolver extends Component {\n    static TypeName = 'two-joint-ik-solver';\n    static Properties = {\n        /** Root bone, never moves */\n        root: { type: Type.Object },\n        /** Bone attached to the root */\n        middle: { type: Type.Object },\n        /** Bone attached to the middle */\n        end: { type: Type.Object },\n        /** Target the joins should reach for */\n        target: { type: Type.Object },\n        /** Helper object to use to determine joint rotation axis */\n        helper: { type: Type.Object },\n    };\n    init() {\n        this.pos = new Float32Array(3 * 7);\n        this.p = [\n            this.pos.subarray(0, 3),\n            this.pos.subarray(3, 6),\n            this.pos.subarray(6, 9),\n            this.pos.subarray(9, 12),\n            this.pos.subarray(12, 15),\n            this.pos.subarray(15, 18),\n            this.pos.subarray(18, 21),\n        ];\n    }\n    update() {\n        const p = this.p;\n        this.root.getTranslationWorld(p[0]);\n        this.middle.getTranslationWorld(p[1]);\n        this.end.getTranslationWorld(p[2]);\n        this.target.getTranslationWorld(p[3]);\n        const tla = p[4];\n        const tlb = p[5];\n        this.root.getTranslationLocal(tla);\n        this.middle.getTranslationLocal(tlb);\n        if (this.helper)\n            this.helper.getTranslationWorld(p[6]);\n        twoJointIK(this.root.transformLocal, this.middle.transformLocal, p[0], p[1], p[2], p[3], 0.01, this.root.transformWorld.subarray(0, 4), this.middle.transformWorld.subarray(0, 4), this.helper ? p[6] : null);\n        this.root.setTranslationLocal(tla);\n        this.middle.setTranslationLocal(tlb);\n        this.root.setDirty();\n        this.middle.setDirty();\n    }\n}\nexport { TwoJointIkSolver };\n", "import { Component, Texture, Type } from '@wonderlandengine/api';\n/**\n * Downloads a video from URL and applies it as `diffuseTexture` or `flatTexture`\n * on given material.\n *\n * Video textures need to be updated regularly whenever\n * a new frame is available. This component handles the\n * detection of a new frame and updates the texture to\n * reflect the video's current frame.\n *\n * Materials from the following shaders are supported:\n *  - \"Phong Opaque Textured\"\n *  - \"Flat Opaque Textured\"\n *  - \"Background\"\n *  - \"Physical Opaque Textured\"\n *  - \"Foliage\"\n *\n * The video can be accessed through `this.video`:\n *\n * ```js\n *   let videoTexture = this.object.getComponent('video-texture');\n *   videoTexture.video.play();\n *   videoTexture.video.pause();\n * ```\n *\n * See [Video Example](/showcase/video).\n */\nclass VideoTexture extends Component {\n    static TypeName = 'video-texture';\n    static Properties = {\n        /** URL to download video from */\n        url: { type: Type.String },\n        /** Material to apply the video texture to */\n        material: { type: Type.Material },\n        /** Whether to loop the video */\n        loop: { type: Type.Bool, default: true },\n        /** Whether to automatically start playing the video */\n        autoplay: { type: Type.Bool, default: true },\n        /** Whether to mute sound */\n        muted: { type: Type.Bool, default: true },\n    };\n    init() {\n        if (!this.material) {\n            throw Error('video-texture: material property not set');\n        }\n        this.loaded = false;\n        this.frameUpdateRequested = true;\n    }\n    start() {\n        this.video = document.createElement('video');\n        this.video.src = this.url;\n        this.video.crossOrigin = 'anonymous';\n        this.video.playsInline = true;\n        this.video.loop = this.loop;\n        this.video.muted = this.muted;\n        this.video.addEventListener('playing', () => {\n            this.loaded = true;\n        });\n        if (this.autoplay) {\n            const playAfterUserGesture = () => {\n                this.video.play();\n                window.removeEventListener('click', playAfterUserGesture);\n                window.removeEventListener('touchstart', playAfterUserGesture);\n            };\n            window.addEventListener('click', playAfterUserGesture);\n            window.addEventListener('touchstart', playAfterUserGesture);\n        }\n    }\n    applyTexture() {\n        const mat = this.material;\n        const shader = mat.shader;\n        const texture = (this.texture = new Texture(this.engine, this.video));\n        if (shader === 'Flat Opaque Textured') {\n            mat.flatTexture = texture;\n        }\n        else if (shader === 'Phong Opaque Textured' || shader === 'Foliage') {\n            mat.diffuseTexture = texture;\n        }\n        else if (shader === 'Background') {\n            mat.texture = texture;\n        }\n        else if (shader === 'Physical Opaque Textured') {\n            mat.albedoTexture = texture;\n        }\n        else {\n            console.error('Shader', shader, 'not supported by video-texture');\n        }\n        if ('requestVideoFrameCallback' in this.video) {\n            this.video.requestVideoFrameCallback(this.updateVideo.bind(this));\n        }\n        else {\n            this.video.addEventListener('timeupdate', () => {\n                this.frameUpdateRequested = true;\n            });\n        }\n    }\n    update(dt) {\n        if (this.loaded && this.frameUpdateRequested) {\n            if (this.texture) {\n                this.texture.update();\n            }\n            else {\n                /* Apply texture on first frame update request */\n                this.applyTexture();\n            }\n            this.frameUpdateRequested = false;\n        }\n    }\n    updateVideo() {\n        this.frameUpdateRequested = true;\n        this.video.requestVideoFrameCallback(this.updateVideo.bind(this));\n    }\n}\nexport { VideoTexture };\n", "import { Component, Type } from '@wonderlandengine/api';\n/**\n * Allows switching all other components on an object to active/inactive\n * depending on whether a VR/AR session is active.\n *\n * Useful for hiding controllers until the user enters VR for example.\n */\nclass VrModeActiveSwitch extends Component {\n    static TypeName = 'vr-mode-active-switch';\n    static Properties = {\n        /** When components should be active: In VR or when not in VR */\n        activateComponents: {\n            type: Type.Enum,\n            values: ['in VR', 'in non-VR'],\n            default: 'in VR',\n        },\n        /** Whether child object's components should be affected */\n        affectChildren: { type: Type.Bool, default: true },\n    };\n    start() {\n        this.components = [];\n        this.getComponents(this.object);\n        /* Initial activation/deactivation */\n        this.onXRSessionEnd();\n        this.engine.onXRSessionStart.push(this.onXRSessionStart.bind(this));\n        this.engine.onXRSessionEnd.push(this.onXRSessionEnd.bind(this));\n    }\n    getComponents(obj) {\n        const comps = obj.getComponents().filter((c) => c.type !== 'vr-mode-active-switch');\n        this.components = this.components.concat(comps);\n        if (this.affectChildren) {\n            let children = obj.children;\n            for (let i = 0; i < children.length; ++i) {\n                this.getComponents(children[i]);\n            }\n        }\n    }\n    setComponentsActive(active) {\n        const comps = this.components;\n        for (let i = 0; i < comps.length; ++i) {\n            comps[i].active = active;\n        }\n    }\n    onXRSessionStart() {\n        if (!this.active)\n            return;\n        this.setComponentsActive(this.activateComponents == 0);\n    }\n    onXRSessionEnd() {\n        if (!this.active)\n            return;\n        this.setComponentsActive(this.activateComponents != 0);\n    }\n}\nexport { VrModeActiveSwitch };\n", "import { Component, Type } from '@wonderlandengine/api';\nimport { vec3, mat4, quat, quat2 } from 'gl-matrix';\nconst VRM_ROLL_AXES = {\n    X: [1.0, 0.0, 0.0],\n    Y: [0.0, 1.0, 0.0],\n    Z: [0.0, 0.0, 1.0],\n};\nconst VRM_AIM_AXES = {\n    PositiveX: [1.0, 0.0, 0.0],\n    NegativeX: [-1.0, 0.0, 0.0],\n    PositiveY: [0.0, 1.0, 0.0],\n    NegativeY: [0.0, -1.0, 0.0],\n    PositiveZ: [0.0, 0.0, 1.0],\n    NegativeZ: [0.0, 0.0, -1.0],\n};\n/**\n * Component for loading and handling VRM 1.0 models.\n *\n * Posing of the model should be done exclusively by rotating the bones. These can be\n * accessed using the `.bones` property and follow the VRM bone naming. Note that not\n * all VRM models will have all possible bones. The rest pose (T-pose) is captured in\n * the `.restPose` property. Resetting a bone to its rest pose can be done as follows:\n * ```js\n * vrmComponent.bones[vrmBoneName].rotationLocal = vrmComponent.restPose[vrmBoneName];\n * ```\n *\n * Moving the model through the world should be done by moving the object this component\n * is attached to. In other words, by moving the root of the VRM model. The bones and any\n * descendant objects should *not* be used to move the VRM model.\n *\n * The core extension `VRMC_vrm` as well as the`VRMC_springBone` and `VRMC_node_constraint`\n * extensions are supported.\n *\n * **Limitations:**\n * - No support for `VRMC_material_mtoon`\n * - Expressions aren't supported\n * - Expression based lookAt isn't supported\n * - Mesh annotation mode `auto` is not supported (first person mode)\n */\nclass Vrm extends Component {\n    static TypeName = 'vrm';\n    static Properties = {\n        /** URL to a VRM file to load */\n        src: { type: Type.String },\n        /** Object the VRM is looking at */\n        lookAtTarget: { type: Type.Object },\n    };\n    /** Meta information about the VRM model */\n    meta = null;\n    /** The humanoid bones of the VRM model */\n    bones = {\n        /* Torso */\n        hips: null,\n        spine: null,\n        chest: null,\n        upperChest: null,\n        neck: null,\n        /* Head */\n        head: null,\n        leftEye: null,\n        rightEye: null,\n        jaw: null,\n        /* Legs */\n        leftUpperLeg: null,\n        leftLowerLeg: null,\n        leftFoot: null,\n        leftToes: null,\n        rightUpperLeg: null,\n        rightLowerLeg: null,\n        rightFoot: null,\n        rightToes: null,\n        /* Arms */\n        leftShoulder: null,\n        leftUpperArm: null,\n        leftLowerArm: null,\n        leftHand: null,\n        rightShoulder: null,\n        rightUpperArm: null,\n        rightLowerArm: null,\n        rightHand: null,\n        /* Fingers */\n        leftThumbMetacarpal: null,\n        leftThumbProximal: null,\n        leftThumbDistal: null,\n        leftIndexProximal: null,\n        leftIndexIntermediate: null,\n        leftIndexDistal: null,\n        leftMiddleProximal: null,\n        leftMiddleIntermediate: null,\n        leftMiddleDistal: null,\n        leftRingProximal: null,\n        leftRingIntermediate: null,\n        leftRingDistal: null,\n        leftLittleProximal: null,\n        leftLittleIntermediate: null,\n        leftLittleDistal: null,\n        rightThumbMetacarpal: null,\n        rightThumbProximal: null,\n        rightThumbDistal: null,\n        rightIndexProximal: null,\n        rightIndexIntermediate: null,\n        rightIndexDistal: null,\n        rightMiddleProximal: null,\n        rightMiddleIntermediate: null,\n        rightMiddleDistal: null,\n        rightRingProximal: null,\n        rightRingIntermediate: null,\n        rightRingDistal: null,\n        rightLittleProximal: null,\n        rightLittleIntermediate: null,\n        rightLittleDistal: null,\n    };\n    /** Rotations of the bones in the rest pose (T-pose) */\n    restPose = {};\n    /* All node constraints, ordered to deal with dependencies */\n    _nodeConstraints = [];\n    /* VRMC_springBone chains */\n    _springChains = [];\n    /* Spherical colliders for spring bones */\n    _sphereColliders = [];\n    /* Capsule shaped colliders for spring bones */\n    _capsuleColliders = [];\n    /* Indicates which meshes are rendered in first/third person views */\n    _firstPersonAnnotations = [];\n    /* Contains details for (bone type) lookAt behaviour */\n    _lookAt = null;\n    /* Whether or not the VRM component has been initialized with `initializeVrm` */\n    _initialized = false;\n    init() {\n        this._tempV3 = vec3.create();\n        this._tempV3A = vec3.create();\n        this._tempV3B = vec3.create();\n        this._tempQuat = quat.create();\n        this._tempQuatA = quat.create();\n        this._tempQuatB = quat.create();\n        this._tempMat4A = mat4.create();\n        this._tempQuat2 = quat2.create();\n        this._tailToShape = vec3.create();\n        this._headToTail = vec3.create();\n        this._inertia = vec3.create();\n        this._stiffness = vec3.create();\n        this._external = vec3.create();\n        this._rightVector = vec3.set(vec3.create(), 1, 0, 0);\n        this._upVector = vec3.set(vec3.create(), 0, 1, 0);\n        this._forwardVector = vec3.set(vec3.create(), 0, 0, 1);\n        this._identityQuat = quat.identity(quat.create());\n        this._rad2deg = 180.0 / Math.PI;\n    }\n    start() {\n        if (!this.src) {\n            console.error('vrm: src property not set');\n            return;\n        }\n        this.engine.scene\n            .append(this.src, { loadGltfExtensions: true })\n            .then(({ root, extensions }) => {\n            root.children.forEach((child) => (child.parent = this.object));\n            this._initializeVrm(extensions);\n            root.destroy();\n        });\n    }\n    /**\n     * Parses the VRM glTF extensions and initializes the vrm component.\n     * @param {GLTFExtensions} extensions The glTF extensions for the VRM model\n     */\n    _initializeVrm(extensions) {\n        if (this._initialized) {\n            throw Error('VRM component has already been initialized');\n        }\n        const VRMC_vrm = extensions.root['VRMC_vrm'];\n        if (!VRMC_vrm) {\n            throw Error('Missing VRM extensions');\n        }\n        if (VRMC_vrm.specVersion !== '1.0') {\n            throw Error(`Unsupported VRM version, only 1.0 is supported, but encountered '${VRMC_vrm.specVersion}'`);\n        }\n        this.meta = VRMC_vrm.meta;\n        this._parseHumanoid(VRMC_vrm.humanoid, extensions);\n        if (VRMC_vrm.firstPerson) {\n            this._parseFirstPerson(VRMC_vrm.firstPerson, extensions);\n        }\n        if (VRMC_vrm.lookAt) {\n            this._parseLookAt(VRMC_vrm.lookAt);\n        }\n        this._findAndParseNodeConstraints(extensions);\n        const springBone = extensions.root['VRMC_springBone'];\n        if (springBone) {\n            this._parseAndInitializeSpringBones(springBone, extensions);\n        }\n        this._initialized = true;\n    }\n    _parseHumanoid(humanoid, extensions) {\n        for (const boneName in humanoid.humanBones) {\n            if (!(boneName in this.bones)) {\n                console.warn(`Unrecognized bone '${boneName}'`);\n                continue;\n            }\n            const node = humanoid.humanBones[boneName].node;\n            const objectId = extensions.idMapping[node];\n            this.bones[boneName] = this.engine.wrapObject(objectId);\n            this.restPose[boneName] = quat.copy(quat.create(), this.bones[boneName].rotationLocal);\n        }\n    }\n    _parseFirstPerson(firstPerson, extensions) {\n        for (const meshAnnotation of firstPerson.meshAnnotations) {\n            const annotation = {\n                node: this.engine.wrapObject(extensions.idMapping[meshAnnotation.node]),\n                firstPerson: true,\n                thirdPerson: true,\n            };\n            switch (meshAnnotation.type) {\n                case 'firstPersonOnly':\n                    annotation.thirdPerson = false;\n                    break;\n                case 'thirdPersonOnly':\n                    annotation.firstPerson = false;\n                    break;\n                case 'both':\n                    break;\n                case 'auto':\n                    console.warn(\"First person mesh annotation type 'auto' is not supported, treating as 'both'!\");\n                    break;\n                default:\n                    console.error(`Invalid mesh annotation type '${meshAnnotation.type}'`);\n                    break;\n            }\n            this._firstPersonAnnotations.push(annotation);\n        }\n    }\n    _parseLookAt(lookAt) {\n        if (lookAt.type !== 'bone') {\n            console.warn(`Unsupported lookAt type '${lookAt.type}', only 'bone' is supported`);\n            return;\n        }\n        const parseRangeMap = (rangeMap) => {\n            return {\n                inputMaxValue: rangeMap.inputMaxValue,\n                outputScale: rangeMap.outputScale,\n            };\n        };\n        this._lookAt = {\n            offsetFromHeadBone: lookAt.offsetFromHeadBone || [0, 0, 0],\n            horizontalInner: parseRangeMap(lookAt.rangeMapHorizontalInner),\n            horizontalOuter: parseRangeMap(lookAt.rangeMapHorizontalOuter),\n            verticalDown: parseRangeMap(lookAt.rangeMapVerticalDown),\n            verticalUp: parseRangeMap(lookAt.rangeMapVerticalUp),\n        };\n    }\n    _findAndParseNodeConstraints(extensions) {\n        const traverse = (object) => {\n            const nodeExtensions = extensions.node[object.objectId];\n            if (nodeExtensions && 'VRMC_node_constraint' in nodeExtensions) {\n                const nodeConstraintExtension = nodeExtensions['VRMC_node_constraint'];\n                const constraint = nodeConstraintExtension.constraint;\n                let type, axis;\n                if ('roll' in constraint) {\n                    type = 'roll';\n                    axis = VRM_ROLL_AXES[constraint.roll.rollAxis];\n                }\n                else if ('aim' in constraint) {\n                    type = 'aim';\n                    axis = VRM_AIM_AXES[constraint.aim.aimAxis];\n                }\n                else if ('rotation' in constraint) {\n                    type = 'rotation';\n                }\n                if (type) {\n                    const source = this.engine.wrapObject(extensions.idMapping[constraint[type].source]);\n                    this._nodeConstraints.push({\n                        type,\n                        source,\n                        destination: object,\n                        axis: axis,\n                        weight: constraint[type].weight,\n                        /* Rest pose */\n                        destinationRestLocalRotation: quat.copy(quat.create(), object.rotationLocal),\n                        sourceRestLocalRotation: quat.copy(quat.create(), source.rotationLocal),\n                        sourceRestLocalRotationInv: quat.invert(quat.create(), source.rotationLocal),\n                    });\n                }\n                else {\n                    console.warn('Unrecognized or invalid VRMC_node_constraint, ignoring it');\n                }\n            }\n            for (const child of object.children) {\n                traverse(child);\n            }\n        };\n        traverse(this.object);\n    }\n    _parseAndInitializeSpringBones(springBone, extensions) {\n        const colliders = (springBone.colliders || []).map((collider, i) => {\n            const shapeType = 'capsule' in collider.shape ? 'capsule' : 'sphere';\n            return {\n                id: i,\n                object: this.engine.wrapObject(extensions.idMapping[collider.node]),\n                shape: {\n                    isCapsule: shapeType === 'capsule',\n                    radius: collider.shape[shapeType].radius,\n                    offset: collider.shape[shapeType].offset,\n                    tail: collider.shape[shapeType].tail,\n                },\n                cache: {\n                    head: vec3.create(),\n                    tail: vec3.create(),\n                },\n            };\n        });\n        this._sphereColliders = colliders.filter((c) => !c.shape.isCapsule);\n        this._capsuleColliders = colliders.filter((c) => c.shape.isCapsule);\n        const colliderGroups = (springBone.colliderGroups || []).map((group) => ({\n            name: group.name,\n            colliders: group.colliders.map((c) => colliders[c]),\n        }));\n        for (const spring of springBone.springs) {\n            const joints = [];\n            for (const joint of spring.joints) {\n                const springJoint = {\n                    hitRadius: 0.0,\n                    stiffness: 1.0,\n                    gravityPower: 0.0,\n                    gravityDir: [0.0, -1.0, 0.0],\n                    dragForce: 0.5,\n                    node: null,\n                    state: null,\n                };\n                Object.assign(springJoint, joint);\n                springJoint.node = this.engine.wrapObject(extensions.idMapping[springJoint.node]);\n                joints.push(springJoint);\n            }\n            const springChainColliders = (spring.colliderGroups || []).flatMap((cg) => colliderGroups[cg].colliders);\n            this._springChains.push({\n                name: spring.name,\n                center: spring.center\n                    ? this.engine.wrapObject(extensions.idMapping[spring.center])\n                    : null,\n                joints,\n                sphereColliders: springChainColliders.filter((c) => !c.shape.isCapsule),\n                capsuleColliders: springChainColliders.filter((c) => c.shape.isCapsule),\n            });\n        }\n        /* Initialize spring bone joint state */\n        for (const springChain of this._springChains) {\n            for (let i = 0; i < springChain.joints.length - 1; ++i) {\n                const springBoneJoint = springChain.joints[i];\n                const childSpringBoneJoint = springChain.joints[i + 1];\n                const springBonePosition = springBoneJoint.node.getTranslationWorld(vec3.create());\n                const childSpringBonePosition = childSpringBoneJoint.node.getTranslationWorld(vec3.create());\n                const boneDirection = vec3.subtract(this._tempV3A, springBonePosition, childSpringBonePosition);\n                const state = {\n                    prevTail: childSpringBonePosition,\n                    currentTail: vec3.copy(vec3.create(), childSpringBonePosition),\n                    initialLocalRotation: quat.copy(quat.create(), springBoneJoint.node.rotationLocal),\n                    initialLocalTransformInvert: quat2.invert(quat2.create(), springBoneJoint.node.transformLocal),\n                    boneAxis: vec3.normalize(vec3.create(), childSpringBoneJoint.node.getTranslationLocal(this._tempV3)),\n                    /* Ensure bone length is at least 1cm to avoid jittery behaviour from zero-length bones */\n                    boneLength: Math.max(0.01, vec3.length(boneDirection)),\n                    /* Tail positions in center space, if needed */\n                    prevTailCenter: null,\n                    currentTailCenter: null,\n                };\n                if (springChain.center) {\n                    state.prevTailCenter = springChain.center.transformPointInverseWorld(vec3.create(), childSpringBonePosition);\n                    state.currentTailCenter = vec3.copy(vec3.create(), childSpringBonePosition);\n                }\n                springBoneJoint.state = state;\n            }\n        }\n    }\n    update(dt) {\n        if (!this._initialized) {\n            return;\n        }\n        /* 1. Resolve humanoid bones (performed by user) */\n        /* 2. Resolve LookAt (bone type) as the position of the head is determined */\n        this._resolveLookAt();\n        /* 3. Expression update (TODO) */\n        /* 4. Apply Expression (TODO) */\n        /* 5. Resolve constraints */\n        this._resolveConstraints();\n        /* 6. Resolve Spring Bone */\n        this._updateSpringBones(dt);\n    }\n    _rangeMap(rangeMap, input) {\n        const maxValue = rangeMap.inputMaxValue;\n        const outputScale = rangeMap.outputScale;\n        return (Math.min(input, maxValue) / maxValue) * outputScale;\n    }\n    _resolveLookAt() {\n        if (!this._lookAt || !this.lookAtTarget) {\n            return;\n        }\n        const lookAtSource = this.bones.head.transformPointWorld(this._tempV3A, this._lookAt.offsetFromHeadBone);\n        const lookAtTarget = this.lookAtTarget.getTranslationWorld(this._tempV3B);\n        const lookAtDirection = vec3.sub(this._tempV3A, lookAtTarget, lookAtSource);\n        vec3.normalize(lookAtDirection, lookAtDirection);\n        /* Convert the direction into LookAt space */\n        this.bones.head.parent.transformVectorInverseWorld(lookAtDirection);\n        const z = vec3.dot(lookAtDirection, this._forwardVector);\n        const x = vec3.dot(lookAtDirection, this._rightVector);\n        const yaw = Math.atan2(x, z) * this._rad2deg;\n        const xz = Math.sqrt(x * x + z * z);\n        const y = vec3.dot(lookAtDirection, this._upVector);\n        let pitch = Math.atan2(-y, xz) * this._rad2deg;\n        /* Limit pitch */\n        if (pitch > 0) {\n            pitch = this._rangeMap(this._lookAt.verticalDown, pitch);\n        }\n        else {\n            pitch = -this._rangeMap(this._lookAt.verticalUp, -pitch);\n        }\n        /* Left eye (limit yaw) */\n        if (this.bones.leftEye) {\n            let yawLeft = yaw;\n            if (yawLeft > 0) {\n                yawLeft = this._rangeMap(this._lookAt.horizontalInner, yawLeft);\n            }\n            else {\n                yawLeft = -this._rangeMap(this._lookAt.horizontalOuter, -yawLeft);\n            }\n            const eyeRotation = quat.fromEuler(this._tempQuatA, pitch, yawLeft, 0);\n            this.bones.leftEye.rotationLocal = quat.multiply(eyeRotation, this.restPose.leftEye, eyeRotation);\n        }\n        /* Right eye (limit yaw) */\n        if (this.bones.rightEye) {\n            let yawRight = yaw;\n            if (yawRight > 0) {\n                yawRight = this._rangeMap(this._lookAt.horizontalOuter, yawRight);\n            }\n            else {\n                yawRight = -this._rangeMap(this._lookAt.horizontalInner, -yawRight);\n            }\n            const eyeRotation = quat.fromEuler(this._tempQuatA, pitch, yawRight, 0);\n            this.bones.rightEye.rotationLocal = quat.multiply(eyeRotation, this.restPose.rightEye, eyeRotation);\n        }\n    }\n    _resolveConstraints() {\n        for (const nodeConstraint of this._nodeConstraints) {\n            this._resolveConstraint(nodeConstraint);\n        }\n    }\n    _resolveConstraint(nodeConstraint) {\n        const dstRestQuat = nodeConstraint.destinationRestLocalRotation;\n        const srcRestQuatInv = nodeConstraint.sourceRestLocalRotationInv;\n        const targetQuat = quat.identity(this._tempQuatA);\n        switch (nodeConstraint.type) {\n            case 'roll':\n                {\n                    const deltaSrcQuat = quat.multiply(this._tempQuatA, srcRestQuatInv, nodeConstraint.source.rotationLocal);\n                    /* source to parent */\n                    const deltaSrcQuatInParent = quat.multiply(this._tempQuatA, nodeConstraint.sourceRestLocalRotation, deltaSrcQuat);\n                    quat.mul(deltaSrcQuatInParent, deltaSrcQuatInParent, srcRestQuatInv);\n                    /* parent to destination */\n                    const dstRestQuatInv = quat.invert(this._tempQuatB, dstRestQuat);\n                    const deltaSrcQuatInDst = quat.multiply(this._tempQuatB, dstRestQuatInv, deltaSrcQuatInParent);\n                    quat.multiply(deltaSrcQuatInDst, deltaSrcQuatInDst, dstRestQuat);\n                    const toVec = vec3.transformQuat(this._tempV3A, nodeConstraint.axis, deltaSrcQuatInDst);\n                    const fromToQuat = quat.rotationTo(this._tempQuatA, nodeConstraint.axis, toVec);\n                    quat.mul(targetQuat, dstRestQuat, quat.invert(this._tempQuat, fromToQuat));\n                    quat.mul(targetQuat, targetQuat, deltaSrcQuatInDst);\n                }\n                break;\n            case 'aim':\n                {\n                    const dstParentWorldQuat = nodeConstraint.destination.parent.rotationWorld;\n                    /* fromVec = aimAxis.applyQuaternion( dstParentWorldQuat * dstRestQuat ) */\n                    const fromVec = vec3.transformQuat(this._tempV3A, nodeConstraint.axis, dstRestQuat);\n                    vec3.transformQuat(fromVec, fromVec, dstParentWorldQuat);\n                    /* toVec = ( srcWorldPos - dstWorldPos ).normalized */\n                    const toVec = nodeConstraint.source.getTranslationWorld(this._tempV3B);\n                    vec3.sub(toVec, toVec, nodeConstraint.destination.getTranslationWorld(this._tempV3));\n                    vec3.normalize(toVec, toVec);\n                    /* fromToQuat = Quaternion.fromToRotation( fromVec, toVec ) */\n                    const fromToQuat = quat.rotationTo(this._tempQuatA, fromVec, toVec);\n                    quat.mul(targetQuat, quat.invert(this._tempQuat, dstParentWorldQuat), fromToQuat);\n                    quat.mul(targetQuat, targetQuat, dstParentWorldQuat);\n                    quat.mul(targetQuat, targetQuat, dstRestQuat);\n                }\n                break;\n            case 'rotation':\n                {\n                    const srcDeltaQuat = quat.mul(targetQuat, srcRestQuatInv, nodeConstraint.source.rotationLocal);\n                    quat.mul(targetQuat, dstRestQuat, srcDeltaQuat);\n                }\n                break;\n        }\n        /* Apply constraint */\n        quat.slerp(targetQuat, dstRestQuat, targetQuat, nodeConstraint.weight);\n        nodeConstraint.destination.rotationLocal = targetQuat;\n    }\n    _updateSpringBones(dt) {\n        /* Pre-compute collider positions */\n        this._sphereColliders.forEach(({ object, shape, cache }) => {\n            const offset = vec3.copy(cache.head, shape.offset);\n            object.transformVectorWorld(offset);\n            vec3.add(cache.head, object.getTranslationWorld(this._tempV3), offset);\n        });\n        this._capsuleColliders.forEach(({ object, shape, cache }) => {\n            const shapeCenter = object.getTranslationWorld(this._tempV3A);\n            const headOffset = vec3.copy(cache.head, shape.offset);\n            object.transformVectorWorld(headOffset);\n            vec3.add(cache.head, shapeCenter, headOffset);\n            const tailOffset = vec3.copy(cache.tail, shape.tail);\n            object.transformVectorWorld(tailOffset);\n            vec3.add(cache.tail, shapeCenter, tailOffset);\n        });\n        /* Update spring chains */\n        this._springChains.forEach((springChain) => {\n            for (let i = 0; i < springChain.joints.length - 1; ++i) {\n                const joint = springChain.joints[i];\n                const parentWorldRotation = joint.node.parent\n                    ? joint.node.parent.rotationWorld\n                    : this._identityQuat;\n                /* 1. Forces */\n                /* inertia = (currentTail - prevTail) * (1.0f - dragForce); */\n                const inertia = this._inertia;\n                if (springChain.center) {\n                    vec3.sub(inertia, joint.state.currentTailCenter, joint.state.prevTailCenter);\n                    springChain.center.transformVectorWorld(inertia);\n                }\n                else {\n                    vec3.sub(inertia, joint.state.currentTail, joint.state.prevTail);\n                }\n                vec3.scale(inertia, inertia, 1.0 - joint.dragForce);\n                /* stiffness = deltaTime * parentWorldRotation * localRotation * boneAxis * stiffnessForce; */\n                const stiffness = vec3.copy(this._stiffness, joint.state.boneAxis);\n                vec3.transformQuat(stiffness, stiffness, joint.state.initialLocalRotation);\n                vec3.transformQuat(stiffness, stiffness, parentWorldRotation);\n                vec3.scale(stiffness, stiffness, dt * joint.stiffness);\n                /* external = deltaTime * gravityDir * gravityPower; */\n                const external = vec3.scale(this._external, joint.gravityDir, dt * joint.gravityPower);\n                /* nextTail = currentTail + inertia + stiffness + external; */\n                const nextTail = vec3.copy(this._tempV3A, joint.state.currentTail);\n                vec3.add(nextTail, nextTail, inertia);\n                vec3.add(nextTail, nextTail, stiffness);\n                vec3.add(nextTail, nextTail, external);\n                /* constrain the length */\n                /* nextTail = worldPosition + (nextTail - worldPosition).normalized * boneLength; */\n                const worldPosition = joint.node.getTranslationWorld(this._tempV3B);\n                vec3.sub(nextTail, nextTail, worldPosition);\n                vec3.normalize(nextTail, nextTail);\n                vec3.scaleAndAdd(nextTail, worldPosition, nextTail, joint.state.boneLength);\n                /* 2. Collision with colliders */\n                /* Sphere colliders */\n                for (const { shape, cache } of springChain.sphereColliders) {\n                    let tailToShape = this._tailToShape;\n                    const sphereCenter = cache.head;\n                    tailToShape = vec3.sub(tailToShape, nextTail, sphereCenter);\n                    const radius = shape.radius + joint.hitRadius;\n                    const dist = vec3.length(tailToShape) - radius;\n                    if (dist < 0.0) {\n                        vec3.normalize(tailToShape, tailToShape);\n                        vec3.scaleAndAdd(nextTail, nextTail, tailToShape, -dist);\n                        /* constraint the length */\n                        vec3.sub(nextTail, nextTail, worldPosition);\n                        vec3.normalize(nextTail, nextTail);\n                        vec3.scaleAndAdd(nextTail, worldPosition, nextTail, joint.state.boneLength);\n                    }\n                }\n                /* Capsule colliders */\n                for (const { shape, cache } of springChain.capsuleColliders) {\n                    let tailToShape = this._tailToShape;\n                    const head = cache.head;\n                    const tail = cache.tail;\n                    /* Naively start with distance to the head */\n                    tailToShape = vec3.sub(tailToShape, nextTail, head);\n                    const headToTail = vec3.sub(this._headToTail, tail, head);\n                    const dot = vec3.dot(headToTail, tailToShape);\n                    if (vec3.squaredLength(headToTail) <= dot) {\n                        /* Closest to tail */\n                        vec3.sub(tailToShape, nextTail, tail);\n                    }\n                    else if (dot > 0.0) {\n                        /* Closest to middle */\n                        vec3.scale(headToTail, headToTail, dot / vec3.squaredLength(headToTail));\n                        vec3.sub(tailToShape, tailToShape, headToTail);\n                    }\n                    const radius = shape.radius + joint.hitRadius;\n                    const dist = vec3.length(tailToShape) - radius;\n                    if (dist < 0.0) {\n                        vec3.normalize(tailToShape, tailToShape);\n                        vec3.scaleAndAdd(nextTail, nextTail, tailToShape, -dist);\n                        /* constraint the length */\n                        vec3.sub(nextTail, nextTail, worldPosition);\n                        vec3.normalize(nextTail, nextTail);\n                        vec3.scaleAndAdd(nextTail, worldPosition, nextTail, joint.state.boneLength);\n                    }\n                }\n                /* 3. Applying rotation */\n                vec3.copy(joint.state.prevTail, joint.state.currentTail);\n                vec3.copy(joint.state.currentTail, nextTail);\n                if (springChain.center) {\n                    vec3.copy(joint.state.prevTailCenter, joint.state.currentTailCenter);\n                    vec3.copy(joint.state.currentTailCenter, nextTail);\n                    springChain.center.transformPointInverseWorld(joint.state.currentTailCenter);\n                }\n                /* to = (nextTail * (node.parent.worldMatrix * initialLocalMatrix).inverse).normalized */\n                joint.node.parent.transformPointInverseWorld(nextTail);\n                const nextTailDualQuat = quat2.fromTranslation(this._tempQuat2, nextTail);\n                quat2.multiply(nextTailDualQuat, joint.state.initialLocalTransformInvert, nextTailDualQuat);\n                quat2.getTranslation(nextTail, nextTailDualQuat);\n                vec3.normalize(nextTail, nextTail);\n                /* node.rotation = initialLocalRotation * Quaternion.fromToQuaternion(boneAxis, to); */\n                const jointRotation = quat.rotationTo(this._tempQuatA, joint.state.boneAxis, nextTail);\n                joint.node.rotationLocal = quat.mul(this._tempQuatA, joint.state.initialLocalRotation, jointRotation);\n            }\n        });\n    }\n    /**\n     * @param {boolean} firstPerson Whether the model should render for first person or third person views\n     */\n    set firstPerson(firstPerson) {\n        this._firstPersonAnnotations.forEach((annotation) => {\n            const visible = firstPerson == annotation.firstPerson ||\n                firstPerson != annotation.thirdPerson;\n            annotation.node.getComponents('mesh').forEach((mesh) => {\n                mesh.active = visible;\n            });\n        });\n    }\n}\nexport { Vrm };\n", "import { vec3 } from 'gl-matrix';\nimport { Component, Type } from '@wonderlandengine/api';\n/**\n * Basic movement with W/A/S/D keys.\n */\nclass WasdControlsComponent extends Component {\n    static TypeName = 'wasd-controls';\n    static Properties = {\n        /** Movement speed in m/s. */\n        speed: { type: Type.Float, default: 0.1 },\n        /** Object of which the orientation is used to determine forward direction */\n        headObject: { type: Type.Object },\n    };\n    init() {\n        this.up = false;\n        this.right = false;\n        this.down = false;\n        this.left = false;\n        window.addEventListener('keydown', this.press.bind(this));\n        window.addEventListener('keyup', this.release.bind(this));\n    }\n    start() {\n        this.headObject = this.headObject || this.object;\n    }\n    update() {\n        let direction = [0, 0, 0];\n        if (this.up)\n            direction[2] -= 1.0;\n        if (this.down)\n            direction[2] += 1.0;\n        if (this.left)\n            direction[0] -= 1.0;\n        if (this.right)\n            direction[0] += 1.0;\n        vec3.normalize(direction, direction);\n        direction[0] *= this.speed;\n        direction[2] *= this.speed;\n        vec3.transformQuat(direction, direction, this.headObject.transformWorld);\n        this.object.translate(direction);\n    }\n    press(e) {\n        if (e.keyCode === 38 /* up */ ||\n            e.keyCode === 87 /* w */ ||\n            e.keyCode === 90 /* z */) {\n            this.up = true;\n        }\n        else if (e.keyCode === 39 /* right */ || e.keyCode === 68 /* d */) {\n            this.right = true;\n        }\n        else if (e.keyCode === 40 /* down */ || e.keyCode === 83 /* s */) {\n            this.down = true;\n        }\n        else if (e.keyCode === 37 /* left */ ||\n            e.keyCode === 65 /* a */ ||\n            e.keyCode === 81 /* q */) {\n            this.left = true;\n        }\n    }\n    release(e) {\n        if (e.keyCode === 38 /* up */ ||\n            e.keyCode === 87 /* w */ ||\n            e.keyCode === 90 /* z */) {\n            this.up = false;\n        }\n        else if (e.keyCode === 39 /* right */ || e.keyCode === 68 /* d */) {\n            this.right = false;\n        }\n        else if (e.keyCode === 40 /* down */ || e.keyCode === 83 /* s */) {\n            this.down = false;\n        }\n        else if (e.keyCode === 37 /* left */ ||\n            e.keyCode === 65 /* a */ ||\n            e.keyCode === 81 /* q */) {\n            this.left = false;\n        }\n    }\n}\nexport { WasdControlsComponent };\n", "/**\n * This component exposes the banners in the scene for testing purposes.\n */\nWL.registerComponent('expose-banners', {\n    banner1Object: {type: WL.Type.Object},\n    banner2Object: {type: WL.Type.Object},\n    banner3Object: {type: WL.Type.Object},\n    banner4Object: {type: WL.Type.Object},\n    banner5Object: {type: WL.Type.Object},\n    banner6Object: {type: WL.Type.Object},\n    banner7Object: {type: WL.Type.Object},\n    banner8Object: {type: WL.Type.Object},\n    banner9Object: {type: WL.Type.Object}\n}, {\n    start: function() {\n        this.banner1 = this.banner1Object.getComponent('zesty-banner');\n        this.banner2 = this.banner2Object.getComponent('zesty-banner');\n        this.banner3 = this.banner3Object.getComponent('zesty-banner');\n        this.banner4 = this.banner4Object.getComponent('zesty-banner');\n        this.banner5 = this.banner5Object.getComponent('zesty-banner');\n        this.banner6 = this.banner6Object.getComponent('zesty-banner');\n        this.banner7 = this.banner7Object.getComponent('zesty-banner');\n        this.banner8 = this.banner8Object.getComponent('zesty-banner');\n        this.banner9 = this.banner9Object.getComponent('zesty-banner');\n        window.testBanners = [\n            this.banner1, \n            this.banner2, \n            this.banner3, \n            this.banner4, \n            this.banner5,\n            this.banner6, \n            this.banner7, \n            this.banner8,\n            this.banner9\n        ]\n    }\n});\n", "import axios from 'axios';\r\nimport { formats } from '../utils/formats.js';\r\nimport { checkUserPlatform } from '../utils/helpers.js';\r\n//import { v4 as uuidv4 } from 'uuid'\r\n\r\nconst BEACON_API_BASE = 'https://beacon.zesty.market'\r\nconst BEACON_GRAPHQL_URI = 'https://beacon2.zesty.market/zgraphql'\r\n\r\nconst DB_ENDPOINT = 'https://api.zesty.market/api';\r\n// TODO: Determine best way to enable switching to staging\r\nconst STAGING_DB_ENDPOINT = 'https://api-staging.zesty.market/api';\r\n\r\n//const sessionId = uuidv4();\r\n\r\nconst fetchCampaignAd = async (adUnitId, format = 'tall', style = 'standard') => {\r\n  try {\r\n    const url = encodeURI(window.top.location.href).replace(/\\/$/, ''); // If URL ends with a slash, remove it\r\n    const res = await axios.get(`${DB_ENDPOINT}/ad?ad_unit_id=${adUnitId}&url=${url}`);\r\n    console.log('test');\r\n    return res.data;\r\n  } catch {\r\n    console.warn('No active campaign banner could be located. Displaying default banner.')\r\n    return { Ads: [{ asset_url: formats[format].style[style], cta_url: 'https://www.zesty.market' }], CampaignId: 'TestCampaign'};\r\n  }\r\n}\r\n\r\n/**\r\n * Increment the on-load event count for the space\r\n * @param {string} spaceId The space ID\r\n * @returns A Promise representing the POST request\r\n */\r\nconst sendOnLoadMetric = async (spaceId, campaignId = null) => {\r\n  const { platform, confidence } = await checkUserPlatform();\r\n  \r\n  try {\r\n    const spaceCounterEndpoint = BEACON_API_BASE + `/api/v1/space/${spaceId}`\r\n    await axios.put(spaceCounterEndpoint)\r\n\r\n    await axios.post(\r\n      BEACON_GRAPHQL_URI,\r\n      { query: `mutation { increment(eventType: visits, spaceId: \\\"${spaceId}\\\", campaignId: \\\"${campaignId}\\\", platform: { name: ${platform}, confidence: ${confidence} }) { message } }` },\r\n      { headers: { 'Content-Type': 'application/json' }}\r\n    )\r\n  } catch (e) {\r\n    console.log(\"Failed to emit onload event\", e.message)\r\n  }\r\n};\r\n\r\nconst sendOnClickMetric = async (spaceId, campaignId = null) => {\r\n  const { platform, confidence } = await checkUserPlatform();\r\n\r\n  try {\r\n    const spaceClickEndpoint = BEACON_API_BASE + `/api/v1/space/click/${spaceId}`\r\n    await axios.put(spaceClickEndpoint)\r\n\r\n    await axios.post(\r\n      BEACON_GRAPHQL_URI,\r\n      { query: `mutation { increment(eventType: clicks, spaceId: \\\"${spaceId}\\\", campaignId: \\\"${campaignId}\\\", platform: { name: ${platform}, confidence: ${confidence} }) { message } }` },\r\n      { headers: { 'Content-Type': 'application/json' }}\r\n    )\r\n  } catch (e) {\r\n    console.log(\"Failed to emit onclick event\", e.message)\r\n  }\r\n}\r\n\r\nconst analyticsSession = async (spaceId, campaignId) => {\r\n  const { platform, confidence } = await checkUserPlatform();\r\n  try {\r\n    await axios.post(\r\n      BEACON_GRAPHQL_URI,\r\n      { query: `mutation { increment(eventType: session, spaceId: \\\"${spaceId}\\\", campaignId: \\\"${campaignId}\\\", platform: { name: ${platform}, confidence: ${confidence} }) { message } }` },\r\n      { headers: { 'Content-Type': 'application/json' }}\r\n    )\r\n  } catch (e) {\r\n    console.log(`Failed to emit session analytics`, e.message)\r\n  }\r\n}\r\n\r\nexport { fetchCampaignAd, sendOnLoadMetric, sendOnClickMetric, analyticsSession };\r\n", "const assetsURL = 'https://zesty-storage-prod.s3.amazonaws.com/images/zesty';\r\n\r\nconst formats = {\r\n    'tall': {\r\n        width: 0.75,\r\n        height: 1,\r\n        style: {\r\n            'standard': `${assetsURL}/zesty-banner-tall.png`,\r\n            'minimal': `${assetsURL}/zesty-banner-tall-minimal.png`,\r\n            'transparent': `${assetsURL}/zesty-banner-tall-transparent.png`\r\n        }\r\n    },\r\n    'wide': {\r\n        width: 4,\r\n        height: 1,\r\n        style: {\r\n            'standard': `${assetsURL}/zesty-banner-wide.png`,\r\n            'minimal': `${assetsURL}/zesty-banner-wide-minimal.png`,\r\n            'transparent': `${assetsURL}/zesty-banner-wide-transparent.png`\r\n        }\r\n    },\r\n    'square': {\r\n        width: 1,\r\n        height: 1,\r\n        style: {\r\n            'standard': `${assetsURL}/zesty-banner-square.png`,\r\n            'minimal': `${assetsURL}/zesty-banner-square-minimal.png`,\r\n            'transparent': `${assetsURL}/zesty-banner-square-transparent.png`\r\n        }\r\n    }\r\n}\r\n\r\nconst defaultFormat = 'square';\r\nconst defaultStyle = 'standard';\r\n\r\nexport { formats, defaultFormat, defaultStyle };", "import axios from 'axios';\r\n\r\n/**\r\n * Parses ipfs:// and ar:// links and IPFS hashes to URLs.\r\n * @param {String} uri The ipfs:// link or IPFS hash.\r\n * @returns A formatted URL to the IPFS resource.\r\n */\r\nconst parseProtocol = uri => {\r\n  if (uri.substring(0,4) === \"ipfs\") {\r\n    return `https://ipfs.zesty.market/ipfs/${uri.substring(7)}`;\r\n  } else if (uri.substring(0,4) === \"http\") {\r\n    return uri;\r\n  } else if (uri.substring(0,5) === \"https\") {\r\n    return uri;\r\n  } else if (uri.substring(0,2) === \"ar\") {\r\n    // get redirected url\r\n    axios.get(`https://arweave.net/${uri.substring(5)}`)\r\n      .then(res => {\r\n        return res.url;\r\n      })\r\n      .catch(err => {\r\n        console.error(err);\r\n      })\r\n\r\n  } else {\r\n    // default to ipfs\r\n    return `https://ipfs.zesty.market/ipfs/${uri}`;\r\n  }\r\n}\r\n\r\n/**\r\n * Retrieves an IPFS gateway to alleviate rate-throttling from using only a single gateway.\r\n * Selection is weighted random based on average latency.\r\n * @returns A weighted random public IPFS gateway\r\n */\r\nconst getIPFSGateway = () => {\r\n  // Temporarily re-weighting for ease of testing during V2 migration\r\n  const gateways = [\r\n    { gateway: 'https://ipfs.filebase.io', weight: 34 },\r\n    { gateway: 'https://cloudflare-ipfs.com', weight: 33 },\r\n    { gateway: 'https://gateway.pinata.cloud', weight: 33 },\r\n  ];\r\n\r\n  const weights = [];\r\n  let i;\r\n  for (i = 0; i < gateways.length; i++) {\r\n    weights[i] = gateways[i].weight + (weights[i - 1] || 0);\r\n  }\r\n  const random = Math.random() * weights[weights.length - 1];\r\n  for (i = 0; i < weights.length; i++) {\r\n    if (weights[i] > random) break;\r\n  }\r\n  return gateways[i].gateway;\r\n}\r\n\r\n/**\r\n * For each of the following browser checking functions, we have a match with a\r\n * confidence of \"Full\" if both the feature detection check and user agent check\r\n * come back true. If only one of them comes back true, we have a match with a confidence\r\n * of \"Partial\". If neither are true, match is false and our confidence is \"None\".\r\n */\r\n\r\n/**\r\n * Performs feature detection and a UA check to determine if user is using Oculus Browser.\r\n * @returns an object indicating whether there is a match and the associated confidence level.\r\n */\r\nconst checkOculusBrowser = () => {\r\n  // As of 5/26/22, only Oculus Browser has implemented the WebXR Hand Input Module and WebXR Layers API.\r\n  const featureDetect = (window.XRHand != null && window.XRMediaBinding != null);\r\n  const uaCheck = navigator.userAgent.includes('OculusBrowser');\r\n  const confidence = featureDetect && uaCheck ? 'Full' :\r\n                     featureDetect || uaCheck ? 'Partial' :\r\n                     'None';\r\n  return { match: confidence !== 'None', confidence: confidence }\r\n}\r\n\r\n/**\r\n * Performs feature detection and a UA check to determine if user is using Wolvic.\r\n * @returns an object indicating whether there is a match and the associated confidence level.\r\n */\r\nconst checkWolvicBrowser = () => {\r\n  // While Wolvic is still shipping with a GeckoView backend, this feature detect should hold true.\r\n  // Once versions with different backends start showing up in the wild, this will need revisiting.\r\n  const featureDetect = (window.mozInnerScreenX != null && window.speechSynthesis == null);\r\n  const uaCheck = navigator.userAgent.includes('Mobile VR') && !navigator.userAgent.includes('OculusBrowser');\r\n  const confidence = featureDetect && uaCheck ? 'Full' :\r\n                     featureDetect || uaCheck ? 'Partial' :\r\n                     'None';\r\n  return { match: confidence !== 'None', confidence: confidence }\r\n}\r\n\r\n/**\r\n * Performs feature detection and a UA check to determine if user is using Pico's browser.\r\n * @returns an object indicating whether there is a match and the associated confidence level.\r\n */\r\n const checkPicoBrowser = async () => {\r\n  // Pico's internal browser is a Chromium fork and seems to expose some WebXR AR modules,\r\n  // so perform an isSessionSupported() check for immersive-vr and immersive-ar.\r\n  const featureDetect = navigator.xr && \r\n    (await navigator.xr.isSessionSupported('immersive-vr') && await navigator.xr.isSessionSupported('immersive-ar'));\r\n  const uaCheck = navigator.userAgent.includes('Pico Neo 3 Link');\r\n  const confidence = featureDetect && uaCheck ? 'Full' :\r\n                     featureDetect || uaCheck ? 'Partial' :\r\n                     'None';\r\n  return { match: confidence !== 'None', confidence: confidence }\r\n}\r\n\r\n/**\r\n * Performs feature detection and a UA check to determine if user is using a browser on their desktop.\r\n * @returns an object indicating whether there is a match and the associated confidence level.\r\n */\r\n const checkDesktopBrowser = () => {\r\n  // We are doing a coarse check here for lack of touch-capability and no Android/Mobile string in the UA.\r\n  const featureDetect = (navigator.maxTouchPoints === 0 || navigator.msMaxTouchPoints === 0);\r\n  const uaCheck = !navigator.userAgent.includes('Android') && !navigator.userAgent.includes('Mobile');\r\n  const confidence = featureDetect && uaCheck ? 'Full' :\r\n                     featureDetect || uaCheck ? 'Partial' :\r\n                     'None';\r\n  return { match: confidence !== 'None', confidence: confidence }\r\n}\r\n\r\nconst checkUserPlatform = async () => {\r\n  let currentMatch = {\r\n    platform: '',\r\n    confidence: ''\r\n  };\r\n\r\n  if (checkOculusBrowser().match) {\r\n    currentMatch = { platform: 'Oculus', confidence: checkOculusBrowser().confidence };\r\n  } else if (checkWolvicBrowser().match) {\r\n    currentMatch = { platform: 'Wolvic', confidence: checkWolvicBrowser().confidence };\r\n  } else if (await checkPicoBrowser().match) {\r\n    currentMatch = { platform: 'Pico', confidence: await checkPicoBrowser().confidence };\r\n  } else if (checkDesktopBrowser().match) {\r\n    currentMatch = { platform: 'Desktop', confidence: checkDesktopBrowser().confidence };\r\n  } else {\r\n    // Cannot determine platform, return a default object\r\n    currentMatch = { platform: 'Unknown', confidence: 'None' };\r\n  }\r\n\r\n  return currentMatch;\r\n}\r\n\r\nconst openURL = url => {\r\n  if (!url) return;\r\n\r\n  // Are we on a device that will deeplink?\r\n  // This may need to be expanded in the future.\r\n  if (checkOculusBrowser().match) {\r\n    if (url.includes('https://www.oculus.com/experiences/quest/')) {\r\n        setTimeout(() => {\r\n          window.open(url, '_blank');\r\n        }, 1000);\r\n        return;\r\n    }\r\n  } else if (checkWolvicBrowser().match) {\r\n    // Wolvic's pop-up blocking is more aggressive than other\r\n    // Chromium-based XR browsers, probably due to its Firefox\r\n    // lineage. In order to prevent clicks being caught by it,\r\n    // construct our own modal window and directly link the\r\n    // yes button to the window.open call.\r\n    const modal = document.createElement('div');\r\n    const content = document.createElement('div');\r\n    const message = document.createElement('p');\r\n    const yes = document.createElement('button');\r\n    const no = document.createElement('button');\r\n\r\n    modal.style.backgroundColor = 'rgb(0, 0, 0, 0.75)'\r\n    modal.style.color = 'white';\r\n    modal.style.textAlign = 'center';\r\n    modal.style.position = 'fixed';\r\n    modal.style.top = '50%';\r\n    modal.style.left = '50%';\r\n    modal.style.padding = '5%';\r\n    modal.style.borderRadius = '5%';\r\n    modal.style.transform = 'translate(-50%, -50%)';\r\n\r\n    message.innerHTML = `<b>This billboard leads to ${url}. Continue?</b>`;\r\n\r\n    yes.innerText = 'Move cursor back into window.';\r\n    yes.style.width = '100vw';\r\n    yes.style.height = '100vh';\r\n    yes.onmouseenter = () => {\r\n      yes.style.width = 'auto';\r\n      yes.style.height = 'auto';\r\n      yes.innerText = 'Yes';\r\n    }\r\n    yes.onclick = () => {\r\n      window.open(url, '_blank');\r\n      modal.remove();\r\n    }\r\n\r\n    no.innerText = 'No';\r\n    no.onclick = () => {\r\n      modal.remove();\r\n    }\r\n\r\n    modal.append(content);\r\n    content.append(message);\r\n    content.append(yes);\r\n    content.append(no);\r\n    document.body.append(modal);\r\n    return;\r\n  }\r\n  window.open(url, '_blank');\r\n}\r\n\r\nconst urlContainsUTMParams = (url) => {\r\n  return url.indexOf('utm_source=') !== -1 || url.indexOf('utm_campaign=') !== -1 || url.indexOf('utm_channel=') !== -1;\r\n}\r\n\r\nconst appendUTMParams = (url, spaceId) => {\r\n  let new_url = new URL(url)\r\n  new_url.searchParams.set('utm_source', 'ZestyMarket');\r\n  new_url.searchParams.set('utm_campaign', 'ZestyCampaign');\r\n  new_url.searchParams.set('utm_channel', `SpaceId_${spaceId}`);\r\n  return new_url.href;\r\n}\r\n\r\nexport {\r\n  parseProtocol,\r\n  getIPFSGateway,\r\n  checkOculusBrowser,\r\n  checkWolvicBrowser,\r\n  checkPicoBrowser,\r\n  checkDesktopBrowser,\r\n  checkUserPlatform,\r\n  openURL,\r\n  urlContainsUTMParams,\r\n  appendUTMParams\r\n};", "{\r\n  \"name\": \"@zestymarket/wonderland-sdk\",\r\n  \"version\": \"2.0.0\",\r\n  \"description\": \"Wonderland Engine SDK for Zesty Banner integration.\",\r\n  \"main\": \"src/index.js\",\r\n  \"type\": \"module\",\r\n  \"scripts\": {\r\n    \"build\": \"esbuild src/index.js --minify --sourcemap --bundle --outfile=dist/zesty-wonderland-sdk.js\",\r\n    \"build-dev\": \"esbuild src/index.js --sourcemap --bundle --outfile=../../zesty-wonderland-sdk.js\"\r\n  },\r\n  \"wonderlandengine\": {},\r\n  \"author\": \"\",\r\n  \"license\": \"MIT\",\r\n  \"dependencies\": {\r\n    \"@wonderlandengine/api\": \"^1.0.0-rc.2\",\r\n    \"@wonderlandengine/components\": \"^1.0.0-rc.2\"\r\n  },\r\n  \"devDependencies\": {}\r\n}\r\n", "/**\n * Component property type.\n */\nexport var Type;\n(function (Type) {\n    /**\n     * **Native**\n     *\n     * Property of a native component. Must not be used in custom components.\n     *\n     * @hidden\n     */\n    Type[Type[\"Native\"] = 1] = \"Native\";\n    /**\n     * **Bool**:\n     *\n     * Appears in the editor as a checkbox.\n     *\n     * Initial value is `false`, unless overridden by the `default` property.\n     */\n    Type[Type[\"Bool\"] = 2] = \"Bool\";\n    /**\n     * **Int**:\n     *\n     * Appears in the editor as an integer input field.\n     *\n     * Initial value is `0`, unless overridden by the `default` property.\n     */\n    Type[Type[\"Int\"] = 4] = \"Int\";\n    /**\n     * **Float**:\n     *\n     * Appears in the editor as a floating point input field.\n     *\n     * Initial value is `0.0`, unless overridden by the `default` property.\n     */\n    Type[Type[\"Float\"] = 8] = \"Float\";\n    /**\n     * **String / Text**:\n     *\n     * Appears in the editor as a single-line text input field.\n     *\n     * Initial value is an empty string, unless overridden by the `default`\n     * property.\n     */\n    Type[Type[\"String\"] = 16] = \"String\";\n    /**\n     * **Enumeration**:\n     *\n     * Appears in the editor as a dropdown with given values. The additional\n     * `values` parameter with selection options is mandatory.\n     *\n     * The property value is resolved to an **index** into the `values` array.\n     *\n     * Initial value is the first element in `values`, unless overridden by\n     * the `default` property. The `default` value can be a string or an index\n     * into `values`.\n     *\n     * @example\n     *     camera: {type: Type.Enum, values: ['auto', 'back', 'front'], default: 'auto'},\n     */\n    Type[Type[\"Enum\"] = 32] = \"Enum\";\n    /**\n     * **Object reference**:\n     *\n     * Appears in the editor as an object resource selection dropdown\n     * with object picker.\n     *\n     * Initial value is `null`.\n     */\n    Type[Type[\"Object\"] = 64] = \"Object\";\n    /**\n     * **Mesh reference**:\n     *\n     * Appears in the editor as a mesh resource selection dropdown.\n     *\n     * Initial value is `null`.\n     */\n    Type[Type[\"Mesh\"] = 128] = \"Mesh\";\n    /**\n     * **Texture reference**:\n     *\n     * Appears in the editor as a texture resource selection dropdown.\n     *\n     * Initial value is `null`.\n     */\n    Type[Type[\"Texture\"] = 256] = \"Texture\";\n    /**\n     * **Material reference**:\n     *\n     * Appears in the editor as a material resource selection dropdown.\n     *\n     * Initial value is `null`.\n     */\n    Type[Type[\"Material\"] = 512] = \"Material\";\n    /**\n     * **Animation reference**:\n     *\n     * Appears in the editor as an animation resource selection dropdown.\n     *\n     * Initial value is `null`.\n     */\n    Type[Type[\"Animation\"] = 1024] = \"Animation\";\n    /**\n     * **Skin reference**:\n     *\n     * Appears in the editor as a skin resource selection dropdown.\n     *\n     * Initial value is `null`.\n     */\n    Type[Type[\"Skin\"] = 2048] = \"Skin\";\n    /**\n     * **Color**:\n     *\n     * Appears in the editor as a color widget.\n     *\n     * Initial value is `[0.0, 0.0, 0.0, 1.0]`, unless overridden by the\n     * `default` property.\n     */\n    Type[Type[\"Color\"] = 4096] = \"Color\";\n})(Type || (Type = {}));\n/**\n * Component property namespace.\n *\n * Usage:\n *\n * ```js\n * import {Component, Property} from '@wonderlandengine/api';\n *\n * class MyComponent extends Component {\n *     static Properties = {\n *         myBool: Property.bool(true),\n *         myInt: Property.int(42),\n *         myString: Property.string('Hello World!'),\n *         myMesh: Property.mesh(),\n *     }\n * }\n * ```\n *\n * For TypeScript users, you can use the decorators instead.\n */\nexport const Property = {\n    /**\n     * Create an boolean property.\n     *\n     * @param defaultValue The default value. If not provided, defaults to `false`.\n     */\n    bool(defaultValue = false) {\n        return { type: Type.Bool, default: defaultValue };\n    },\n    /**\n     * Create an integer property.\n     *\n     * @param defaultValue The default value. If not provided, defaults to `0`.\n     */\n    int(defaultValue = 0) {\n        return { type: Type.Int, default: defaultValue };\n    },\n    /**\n     * Create an float property.\n     *\n     * @param defaultValue The default value. If not provided, defaults to `0.0`.\n     */\n    float(defaultValue = 0.0) {\n        return { type: Type.Float, default: defaultValue };\n    },\n    /**\n     * Create an string property.\n     *\n     * @param defaultValue The default value. If not provided, defaults to `''`.\n     */\n    string(defaultValue = '') {\n        return { type: Type.String, default: defaultValue };\n    },\n    /**\n     * Create an enumeration property.\n     *\n     * @param values The list of values.\n     * @param defaultValue The default value. Can be a string or an index into\n     *     `values`. If not provided, defaults to the first element.\n     */\n    enum(values, defaultValue) {\n        return { type: Type.Enum, values, default: defaultValue };\n    },\n    /** Create an {@link Object3D} reference property. */\n    object() {\n        return { type: Type.Object, default: null };\n    },\n    /** Create a {@link Mesh} reference property. */\n    mesh() {\n        return { type: Type.Mesh, default: null };\n    },\n    /** Create a {@link Texture} reference property. */\n    texture() {\n        return { type: Type.Texture, default: null };\n    },\n    /** Create a {@link Material} reference property. */\n    material() {\n        return { type: Type.Material, default: null };\n    },\n    /** Create an {@link Animation} reference property. */\n    animation() {\n        return { type: Type.Animation, default: null };\n    },\n    /** Create a {@link Skin} reference property. */\n    skin() {\n        return { type: Type.Skin, default: null };\n    },\n    /**\n     * Create a color property.\n     *\n     * @param r The red component, in the range [0; 1].\n     * @param g The green component, in the range [0; 1].\n     * @param b The blue component, in the range [0; 1].\n     * @param a The alpha component, in the range [0; 1].\n     */\n    color(r = 0.0, g = 0.0, b = 0.0, a = 1.0) {\n        return { type: Type.Color, default: [r, g, b, a] };\n    },\n};\n", "import { Property, Type } from './property.js';\n/**\n * Decorator for JS component properties.\n *\n * @param data The property description as an object literal\n * @returns A decorator function modifying the `Properties` static\n *     attribute\n */\nfunction propertyDecorator(data) {\n    return function (target, propertyKey) {\n        const ctor = target.constructor;\n        ctor.Properties = ctor.Properties ?? {};\n        ctor.Properties[propertyKey] = data;\n    };\n}\n/**\n * Decorator for making a getter enumerable.\n *\n * Usage:\n *\n * ```ts\n * class MyClass {\n *     @enumerable()\n *     get projectionMatrix(): Float32Array { ... }\n * }\n * ```\n */\nexport function enumerable() {\n    return function (_, __, descriptor) {\n        descriptor.enumerable = true;\n    };\n}\n/**\n * Decorator for native properties.\n *\n * Usage:\n *\n * ```ts\n * class MyClass {\n *     @nativeProperty()\n *     get projectionMatrix(): Float32Array { ... }\n * }\n * ```\n */\nexport function nativeProperty() {\n    return function (target, propertyKey, descriptor) {\n        enumerable()(target, propertyKey, descriptor);\n        propertyDecorator({ type: Type.Native })(target, propertyKey);\n    };\n}\n/**\n * Property decorators namespace.\n *\n * You can use the decorators to mark a class attribute as\n * a Wonderland Engine property.\n *\n * Usage:\n *\n * ```ts\n * import {Mesh} from '@wonderlandengine/api';\n * import {property} from '@wonderlandengine/api/decorators.js';\n *\n * class MyComponent extends Component {\n *     @property.bool(true)\n *     myBool!: boolean;\n *\n *     @property.int(42)\n *     myInt!: number;\n *\n *     @property.string('Hello World!')\n *     myString!: string;\n *\n *     @property.mesh()\n *     myMesh!: Mesh;\n * }\n * ```\n *\n * For JavaScript users, please declare the properties statically.\n */\nexport const property = {};\nfor (const name in Property) {\n    /* Assign each property functor to a TypeScript decorator.\n     * This code extracts parameters and return type to provide proper\n     * typings to the user. */\n    property[name] = (...args) => {\n        const functor = Property[name];\n        return propertyDecorator(functor(...args));\n    };\n}\n", "/**\n * Check if a given value is a native string or a `String` instance.\n *\n * @param value The value to check.\n * @returns `true` if the `value` has type string literal or `String`, `false` otherwise.\n */\nexport function isString(value) {\n    if (value === '')\n        return true;\n    return value && (typeof value === 'string' || value.constructor === String);\n}\n/**\n * Check if a given value is a native number or a `Number` instance.\n *\n * @param value The value to check.\n * @returns `true` if the `value` has type number literal or `Number`, `false` otherwise.\n */\nexport function isNumber(value) {\n    if (value === null || value === undefined)\n        return false;\n    return typeof value === 'number' || value.constructor === Number;\n}\n", "import { isString } from './object.js';\n/**\n * Event emitter.\n *\n * This class allows to register listeners that will get notified by the emitter.\n *\n * Usage example\n *\n * ```js\n * // `onPreRender` is an `Emitter` instance.\n * scene.onPreRender.add(() => console.log('before rendering'));\n * // `onPostRender` is an `Emitter` instance.\n * scene.onPostRender.add(() => console.log('before rendering'));\n * ```\n *\n * You can create your own emitters:\n *\n * ```js\n * import {Emitter} from '@wonderlandengine/api';\n *\n * const emitter = new Emitter();\n * ```\n *\n * You can notify listeners in to your emitter using {@link Emitter.notify}:\n *\n * ```js\n * // Notifies all the listeners.\n * emitter.notify();\n * // Notifies all the listeners with some data.\n * emitter.notify({ myInt: 42, myStr: 'Hello World!' });\n * ```\n *\n * @category event\n */\nexport class Emitter {\n    /**\n     * List of listeners to trigger when `notify` is called.\n     *\n     * @hidden\n     */\n    _listeners = [];\n    /** Pre-resolved data. @hidden */\n    _event = undefined;\n    /**\n     * If `true`, the emitter will emit the value of the last\n     * {@link Emitter.notify notify} to listeners added afterwards.\n     *\n     * @hidden\n     */\n    _autoResolve;\n    /**\n     * Create a new instance.\n     *\n     * @param autoResolve If `true`, the emitter will store the data of last\n     *     {@link Emitter.notify} notify to automatically resolve future listeners.\n     */\n    constructor(autoResolve = false) {\n        this._autoResolve = autoResolve;\n    }\n    /**\n     * Register a new listener to be triggered on {@link Emitter.notify}.\n     *\n     * Basic usage:\n     *\n     * ```js\n     * emitter.add((data) => {\n     *     console.log('event received!');\n     *     console.log(data);\n     * });\n     * ```\n     *\n     * Automatically remove the listener when an event is received:\n     *\n     * ```js\n     * emitter.add((data) => {\n     *     console.log('event received!');\n     *     console.log(data);\n     * }, {once: true});\n     * ```\n     *\n     * @param listener The callback to register.\n     * @param opts The listener options. For more information, please have a look\n     *     at the {@link ListenerOptions} interface.\n     *\n     * @returns Reference to self (for method chaining)\n     */\n    add(listener, opts = {}) {\n        const { once = false, id = undefined } = opts;\n        if (this._event !== undefined) {\n            listener(...this._event);\n            /* Listener doesn't need to be stored, short circuit the insertion. */\n            if (once)\n                return this;\n        }\n        this._listeners.push({ id, once, callback: listener });\n        return this;\n    }\n    /**\n     * Equivalent to {@link Emitter.add}.\n     *\n     * @param listeners The callback(s) to register.\n     * @returns Reference to self (for method chaining).\n     *\n     * @deprecated Please use {@link Emitter.add} instead.\n     */\n    push(...listeners) {\n        for (const cb of listeners)\n            this.add(cb);\n        return this;\n    }\n    /**\n     * Register a new listener to be triggered on {@link Emitter.notify}.\n     *\n     * Once notified, the listener will be automatically removed.\n     *\n     * The method is equivalent to calling {@link Emitter.add} with:\n     *\n     * ```js\n     * emitter.add(listener, {once: true});\n     * ```\n     *\n     * @param listener The callback to register.\n     * @param opts The listener options. For more information, please have a look\n     *     at the {@link ListenerOptions} interface.\n     *\n     * @returns Reference to self (for method chaining).\n     */\n    once(listener) {\n        return this.add(listener, { once: true });\n    }\n    /**\n     * Remove a registered listener.\n     *\n     * Usage with a callback:\n     *\n     * ```js\n     * const listener = (data) => console.log(data);\n     * emitter.add(listener);\n     *\n     * // Remove using the callback reference:\n     * emitter.remove(listener);\n     * ```\n     *\n     * Usage with an id:\n     *\n     * ```js\n     * emitter.add((data) => console.log(data), {id: 'my-callback'});\n     *\n     * // Remove using the id:\n     * emitter.remove('my-callback');\n     * ```\n     *\n     * @param listener The registered callback or a string representing the `id`.\n     *\n     * @returns Reference to self (for method chaining)\n     */\n    remove(listener) {\n        const index = this._find(listener);\n        if (index !== null)\n            this._listeners.splice(index, 1);\n        return this;\n    }\n    /**\n     * Check whether the listener is registered.\n     *\n     * @note This method performs a linear search.\n     *\n     * @param listener The registered callback or a string representing the `id`.\n     * @returns `true` if the handle is found, `false` otherwise.\n     */\n    has(listener) {\n        return this._find(listener) !== null;\n    }\n    /**\n     * Notify listeners with the given data object.\n     *\n     * @note This method ensures all listeners are called even if\n     * an exception is thrown. For (possibly) faster notification,\n     * please use {@link Emitter.notifyUnsafe}.\n     *\n     * @param data The data to pass to listener when invoked.\n     */\n    notify(...data) {\n        const listeners = this._listeners;\n        if (this._autoResolve)\n            this._event = data;\n        for (let i = 0; i < listeners.length; ++i) {\n            const listener = listeners[i];\n            if (listener.once)\n                listeners.splice(i--, 1);\n            try {\n                listener.callback(...data);\n            }\n            catch (e) {\n                console.error(e);\n            }\n        }\n    }\n    /**\n     * Notify listeners with the given data object.\n     *\n     * @note Because this method doesn't catch exceptions, some listeners\n     * will be skipped on a throw. Please use {@link Emitter.notify} for safe\n     * notification.\n     *\n     * @param data The data to pass to listener when invoked.\n     */\n    notifyUnsafe(...data) {\n        const listeners = this._listeners;\n        if (this._autoResolve)\n            this._event = data;\n        for (let i = 0; i < listeners.length; ++i) {\n            const listener = listeners[i];\n            if (listener.once)\n                listeners.splice(i--, 1);\n            listener.callback(...data);\n        }\n    }\n    /**\n     * Return a promise that will resolve on the next event.\n     *\n     * @note The promise might never resolve if no event is sent.\n     *\n     * @returns A promise that resolves with the data passed to\n     *     {@link Emitter.notify}.\n     */\n    promise() {\n        return new Promise((res, _) => {\n            this.once((...args) => {\n                if (args.length > 1) {\n                    res(args);\n                }\n                else {\n                    res(args[0]);\n                }\n            });\n        });\n    }\n    /**\n     * Find the listener index.\n     *\n     * @param listener The registered callback or a string representing the `id`.\n     * @returns The index if found, `null` otherwise.\n     *\n     * @hidden\n     */\n    _find(listener) {\n        const listeners = this._listeners;\n        if (isString(listener)) {\n            for (let i = 0; i < listeners.length; ++i) {\n                if (listeners[i].id === listener)\n                    return i;\n            }\n            return null;\n        }\n        for (let i = 0; i < listeners.length; ++i) {\n            if (listeners[i].callback === listener)\n                return i;\n        }\n        return null;\n    }\n}\n", "/**\n * Types\n */\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { nativeProperty, enumerable } from './decorators.js';\nimport { isNumber, isString } from './utils/object.js';\nimport { Emitter } from './utils/event.js';\n/**\n * Wonderland Engine API\n * @namespace WL\n */\n/**\n * Collider type enum for {@link CollisionComponent}.\n */\nexport var Collider;\n(function (Collider) {\n    /**\n     * **Sphere Collider**:\n     *\n     * Simplest and most performant collision shape. If this type is set on a\n     * {@link CollisionComponent}, only the first component of\n     * {@link CollisionComponent#extents} will be used to determine the radius.\n     */\n    Collider[Collider[\"Sphere\"] = 0] = \"Sphere\";\n    /**\n     * **Axis Aligned Bounding Box Collider**:\n     *\n     * Box that is always aligned to XYZ axis. It cannot be rotated but is more\n     * efficient than {@link Collider.Box}.\n     */\n    Collider[Collider[\"AxisAlignedBox\"] = 1] = \"AxisAlignedBox\";\n    /**\n     * **Aligned Bounding Box Collider**:\n     *\n     * Box that matches the object's rotation and translation correctly. This\n     * is the least efficient collider and should only be chosen over\n     * {@link Collider.Sphere} and {@link Collider.AxisAlignedBox} if really\n     * necessary.\n     */\n    Collider[Collider[\"Box\"] = 2] = \"Box\";\n})(Collider || (Collider = {}));\n/**\n * Alignment type enum for {@link TextComponent}.\n */\nexport var Alignment;\n(function (Alignment) {\n    /** Text start is at object origin */\n    Alignment[Alignment[\"Left\"] = 0] = \"Left\";\n    /** Text center is at object origin */\n    Alignment[Alignment[\"Center\"] = 1] = \"Center\";\n    /** Text end is at object origin */\n    Alignment[Alignment[\"Right\"] = 2] = \"Right\";\n})(Alignment || (Alignment = {}));\n/**\n * Justification type enum for {@link TextComponent}.\n */\nexport var Justification;\n(function (Justification) {\n    /** Text line is at object origin */\n    Justification[Justification[\"Line\"] = 0] = \"Line\";\n    /** Text middle is at object origin */\n    Justification[Justification[\"Middle\"] = 1] = \"Middle\";\n    /** Text top is at object origin */\n    Justification[Justification[\"Top\"] = 2] = \"Top\";\n    /** Text bottom is at object origin */\n    Justification[Justification[\"Bottom\"] = 3] = \"Bottom\";\n})(Justification || (Justification = {}));\n/**\n * Effect type enum for {@link TextComponent}.\n */\nexport var TextEffect;\n(function (TextEffect) {\n    /** Text is rendered normally */\n    TextEffect[TextEffect[\"None\"] = 0] = \"None\";\n    /** Text is rendered with an outline */\n    TextEffect[TextEffect[\"Outline\"] = 1] = \"Outline\";\n})(TextEffect || (TextEffect = {}));\n/**\n * Input type enum for {@link InputComponent}.\n */\nexport var InputType;\n(function (InputType) {\n    /** Head input */\n    InputType[InputType[\"Head\"] = 0] = \"Head\";\n    /** Left eye input */\n    InputType[InputType[\"EyeLeft\"] = 1] = \"EyeLeft\";\n    /** Right eye input */\n    InputType[InputType[\"EyeRight\"] = 2] = \"EyeRight\";\n    /** Left controller input */\n    InputType[InputType[\"ControllerLeft\"] = 3] = \"ControllerLeft\";\n    /** Right controller input */\n    InputType[InputType[\"ControllerRight\"] = 4] = \"ControllerRight\";\n    /** Left ray input */\n    InputType[InputType[\"RayLeft\"] = 5] = \"RayLeft\";\n    /** Right ray input */\n    InputType[InputType[\"RayRight\"] = 6] = \"RayRight\";\n})(InputType || (InputType = {}));\n/**\n * Light type enum for {@link LightComponent}.\n */\nexport var LightType;\n(function (LightType) {\n    /** Point light */\n    LightType[LightType[\"Point\"] = 0] = \"Point\";\n    /** Spot light */\n    LightType[LightType[\"Spot\"] = 1] = \"Spot\";\n    /** Sun light / Directional light */\n    LightType[LightType[\"Sun\"] = 2] = \"Sun\";\n})(LightType || (LightType = {}));\n/**\n * Animation state of {@link AnimationComponent}.\n */\nexport var AnimationState;\n(function (AnimationState) {\n    /** Animation is currently playing */\n    AnimationState[AnimationState[\"Playing\"] = 0] = \"Playing\";\n    /** Animation is paused and will continue at current playback\n     * time on {@link AnimationComponent#play} */\n    AnimationState[AnimationState[\"Paused\"] = 1] = \"Paused\";\n    /** Animation is stopped */\n    AnimationState[AnimationState[\"Stopped\"] = 2] = \"Stopped\";\n})(AnimationState || (AnimationState = {}));\n/**\n * Rigid body force mode for {@link PhysXComponent#addForce} and {@link PhysXComponent#addTorque}.\n *\n * [PhysX API Reference](https://gameworksdocs.nvidia.com/PhysX/4.1/documentation/physxapi/files/structPxForceMode.html)\n */\nexport var ForceMode;\n(function (ForceMode) {\n    /** Apply as force */\n    ForceMode[ForceMode[\"Force\"] = 0] = \"Force\";\n    /** Apply as impulse */\n    ForceMode[ForceMode[\"Impulse\"] = 1] = \"Impulse\";\n    /** Apply as velocity change, mass dependent */\n    ForceMode[ForceMode[\"VelocityChange\"] = 2] = \"VelocityChange\";\n    /** Apply as mass dependent force */\n    ForceMode[ForceMode[\"Acceleration\"] = 3] = \"Acceleration\";\n})(ForceMode || (ForceMode = {}));\n/**\n * Collision callback event type.\n */\nexport var CollisionEventType;\n(function (CollisionEventType) {\n    /** Touch/contact detected, collision */\n    CollisionEventType[CollisionEventType[\"Touch\"] = 0] = \"Touch\";\n    /** Touch/contact lost, uncollide */\n    CollisionEventType[CollisionEventType[\"TouchLost\"] = 1] = \"TouchLost\";\n    /** Touch/contact with trigger detected */\n    CollisionEventType[CollisionEventType[\"TriggerTouch\"] = 2] = \"TriggerTouch\";\n    /** Touch/contact with trigger lost */\n    CollisionEventType[CollisionEventType[\"TriggerTouchLost\"] = 3] = \"TriggerTouchLost\";\n})(CollisionEventType || (CollisionEventType = {}));\n/**\n * Rigid body {@link PhysXComponent#shape}.\n *\n * [PhysX SDK Guide](https://gameworksdocs.nvidia.com/PhysX/4.1/documentation/physxguide/Manual/Geometry.html#geometry-types).\n */\nexport var Shape;\n(function (Shape) {\n    /** No shape. */\n    Shape[Shape[\"None\"] = 0] = \"None\";\n    /** Sphere shape. */\n    Shape[Shape[\"Sphere\"] = 1] = \"Sphere\";\n    /** Capsule shape. */\n    Shape[Shape[\"Capsule\"] = 2] = \"Capsule\";\n    /** Box shape. */\n    Shape[Shape[\"Box\"] = 3] = \"Box\";\n    /** Plane shape. */\n    Shape[Shape[\"Plane\"] = 4] = \"Plane\";\n    /** Convex mesh shape. */\n    Shape[Shape[\"ConvexMesh\"] = 5] = \"ConvexMesh\";\n    /** Triangle mesh shape. */\n    Shape[Shape[\"TriangleMesh\"] = 6] = \"TriangleMesh\";\n})(Shape || (Shape = {}));\n/**\n * Mesh attribute enum.\n * @since 0.9.0\n */\nexport var MeshAttribute;\n(function (MeshAttribute) {\n    /** Position attribute, 3 floats */\n    MeshAttribute[MeshAttribute[\"Position\"] = 0] = \"Position\";\n    /** Tangent attribute, 4 floats */\n    MeshAttribute[MeshAttribute[\"Tangent\"] = 1] = \"Tangent\";\n    /** Normal attribute, 3 floats */\n    MeshAttribute[MeshAttribute[\"Normal\"] = 2] = \"Normal\";\n    /** Texture coordinate attribute, 2 floats */\n    MeshAttribute[MeshAttribute[\"TextureCoordinate\"] = 3] = \"TextureCoordinate\";\n    /** Color attribute, 4 floats, RGBA, range `0` to `1` */\n    MeshAttribute[MeshAttribute[\"Color\"] = 4] = \"Color\";\n    /** Joint id attribute, 8 unsigned ints */\n    MeshAttribute[MeshAttribute[\"JointId\"] = 5] = \"JointId\";\n    /** Joint weights attribute, 8 floats */\n    MeshAttribute[MeshAttribute[\"JointWeight\"] = 6] = \"JointWeight\";\n})(MeshAttribute || (MeshAttribute = {}));\n/**\n * Material parameter type.\n */\nexport var MaterialParamType;\n(function (MaterialParamType) {\n    /** Unsigned integer parameter type. */\n    MaterialParamType[MaterialParamType[\"UnsignedInt\"] = 0] = \"UnsignedInt\";\n    /** Integer parameter type. */\n    MaterialParamType[MaterialParamType[\"Int\"] = 1] = \"Int\";\n    /** Float parameter type. */\n    MaterialParamType[MaterialParamType[\"Float\"] = 2] = \"Float\";\n    /** Sampler resource parameter type, i.e., a {@link Texture}. */\n    MaterialParamType[MaterialParamType[\"Sampler\"] = 3] = \"Sampler\";\n    /**\n     * Font resource parameter type.\n     *\n     * **Note**: Changing font isn't exposed yet and will raise an error.\n     */\n    MaterialParamType[MaterialParamType[\"Font\"] = 4] = \"Font\";\n})(MaterialParamType || (MaterialParamType = {}));\n/**\n * Check whether a given shape is a mesh or not.\n *\n * @param shape The shape to check.\n * @returns `true` if the shape is a mesh, `false` if it's a primitive.\n */\nfunction isMeshShape(shape) {\n    return shape === Shape.ConvexMesh || shape === Shape.TriangleMesh;\n}\n/**\n * Constants.\n */\n/**\n * Default world up vector.\n */\nconst UP_VECTOR = [0, 1, 0];\n/**\n * Provides global scene functionality like raycasting.\n */\nexport class Scene {\n    /** Called before rendering the scene */\n    onPreRender = new Emitter();\n    /** Called after the scene has been rendered */\n    onPostRender = new Emitter();\n    /** Wonderland Engine instance. @hidden */\n    _engine;\n    /** Ray hit pointer in WASM heap. @hidden */\n    _rayHit;\n    /** Ray hit. @hidden */\n    _hit;\n    constructor(engine) {\n        this._engine = engine;\n        this._rayHit = engine.wasm._malloc(4 * (3 * 4 + 3 * 4 + 4 + 2) + 4);\n        this._hit = new RayHit(this._engine, this._rayHit);\n    }\n    /**\n     * Currently active view components.\n     */\n    get activeViews() {\n        const wasm = this._engine.wasm;\n        const count = wasm._wl_scene_get_active_views(this._engine.wasm._tempMem, 16);\n        const views = [];\n        const viewTypeIndex = wasm._typeIndexFor('view');\n        for (let i = 0; i < count; ++i) {\n            views.push(new ViewComponent(this._engine, viewTypeIndex, this._engine.wasm._tempMemInt[i]));\n        }\n        return views;\n    }\n    /**\n     * Cast a ray through the scene and find intersecting objects.\n     *\n     * The resulting ray hit will contain up to **4** closest ray hits,\n     * sorted by increasing distance.\n     *\n     * @param o Ray origin.\n     * @param d Ray direction.\n     * @param group Collision group to filter by: only objects that are\n     *        part of given group are considered for raycast.\n     *\n     * @returns The scene cached {@link RayHit} instance.\n     * @note The returned object is owned by the Scene instance\n     *   will be reused with the next {@link Scene#rayCast} call.\n     */\n    rayCast(o, d, group) {\n        this._engine.wasm._wl_scene_ray_cast(o[0], o[1], o[2], d[0], d[1], d[2], group, this._rayHit);\n        return this._hit;\n    }\n    /**\n     * Add an object to the scene.\n     *\n     * @param parent Parent object or `null`.\n     * @returns A newly created object.\n     */\n    addObject(parent) {\n        const parentId = parent ? parent.objectId : 0;\n        const objectId = this._engine.wasm._wl_scene_add_object(parentId);\n        return this._engine.wrapObject(objectId);\n    }\n    /**\n     * Batch-add objects to the scene.\n     *\n     * Will provide better performance for adding multiple objects (e.g. > 16)\n     * than calling {@link Scene#addObject} repeatedly in a loop.\n     *\n     * By providing upfront information of how many objects will be required,\n     * the engine is able to batch-allocate the required memory rather than\n     * convervatively grow the memory in small steps.\n     *\n     * **Experimental:** This API might change in upcoming versions.\n     *\n     * @param count Number of objects to add.\n     * @param parent Parent object or `null`, default `null`.\n     * @param componentCountHint Hint for how many components in total will\n     *      be added to the created objects afterwards, default `0`.\n     * @returns Newly created objects\n     */\n    addObjects(count, parent, componentCountHint) {\n        const parentId = parent ? parent.objectId : 0;\n        this._engine.wasm.requireTempMem(count * 2);\n        const actualCount = this._engine.wasm._wl_scene_add_objects(parentId, count, componentCountHint || 0, this._engine.wasm._tempMem, this._engine.wasm._tempMemSize >> 1);\n        const ids = this._engine.wasm._tempMemUint16.subarray(0, actualCount);\n        const wrapper = this._engine.wrapObject.bind(this._engine);\n        const objects = Array.from(ids, wrapper);\n        return objects;\n    }\n    /**\n     * Pre-allocate memory for a given amount of objects and components.\n     *\n     * Will provide better performance for adding objects later with {@link Scene#addObject}\n     * and {@link Scene#addObjects}.\n     *\n     * By providing upfront information of how many objects will be required,\n     * the engine is able to batch-allocate the required memory rather than\n     * conservatively grow the memory in small steps.\n     *\n     * **Experimental:** This API might change in upcoming versions.\n     *\n     * @param objectCount Number of objects to add.\n     * @param componentCountPerType Amount of components to\n     *      allocate for {@link Object3D.addComponent}, e.g. `{mesh: 100, collision: 200, \"my-comp\": 100}`.\n     * @since 0.8.10\n     */\n    reserveObjects(objectCount, componentCountPerType) {\n        const wasm = this._engine.wasm;\n        componentCountPerType = componentCountPerType || {};\n        const jsManagerIndex = wasm._typeIndexFor('js');\n        let countsPerTypeIndex = wasm._tempMemInt.subarray();\n        countsPerTypeIndex.fill(0);\n        for (const e of Object.entries(componentCountPerType)) {\n            const typeIndex = wasm._typeIndexFor(e[0]);\n            countsPerTypeIndex[typeIndex < 0 ? jsManagerIndex : typeIndex] += e[1];\n        }\n        wasm._wl_scene_reserve_objects(objectCount, wasm._tempMem);\n    }\n    /**\n     * Set the background clear color.\n     *\n     * @param color new clear color (RGBA).\n     * @since 0.8.5\n     */\n    set clearColor(color) {\n        this._engine.wasm._wl_scene_set_clearColor(color[0], color[1], color[2], color[3]);\n    }\n    /**\n     * Set whether to clear the color framebuffer before drawing.\n     *\n     * This function is useful if an external framework (e.g. an AR tracking\n     * framework) is responsible for drawing a camera frame before Wonderland\n     * Engine draws the scene on top of it.\n     *\n     * @param b Whether to enable color clear.\n     * @since 0.9.4\n     */\n    set colorClearEnabled(b) {\n        this._engine.wasm._wl_scene_enableColorClear(b);\n    }\n    /** Hosting engine instance. */\n    get engine() {\n        return this._engine;\n    }\n    /**\n     * Load a scene file (.bin)\n     *\n     * Will replace the currently active scene with the one loaded\n     * from given file. It is assumed that JavaScript components required by\n     * the new scene were registered in advance.\n     *\n     * @param filename Path to the .bin file.\n     */\n    load(filename) {\n        const wasm = this._engine.wasm;\n        wasm._wl_load_scene(wasm.tempUTF8(filename));\n    }\n    /**\n     * Load an external 3D file (.gltf, .glb).\n     *\n     * Loads and parses the gltf file and its images and appends the result\n     * to scene.\n     *\n     * ```js\n     * WL.scene.append(filename).then(root => {\n     *     // root contains the loaded scene\n     * });\n     * ```\n     *\n     * In case the `loadGltfExtensions` option is set to true, the response\n     * will be an object containing both the root of the loaded scene and\n     * any glTF extensions found on nodes, meshes and the root of the file.\n     *\n     * ```js\n     * WL.scene.append(filename, { loadGltfExtensions: true }).then(({root, extensions}) => {\n     *     // root contains the loaded scene\n     *     // extensions.root contains any extensions at the root of glTF document\n     *     const rootExtensions = extensions.root;\n     *     // extensions.mesh and extensions.node contain extensions indexed by Object id\n     *     const childObject = root.children[0];\n     *     const meshExtensions = root.meshExtensions[childObject.objectId];\n     *     const nodeExtensions = root.nodeExtensions[childObject.objectId];\n     *     // extensions.idMapping contains a mapping from glTF node index to Object id\n     * });\n     * ```\n     *\n     * @param filename Path to the .gltf or .glb file.\n     * @param options Additional options for loading.\n     * @returns Root of the loaded scene.\n     */\n    append(filename, options) {\n        options = options || {};\n        const wasm = this._engine.wasm;\n        const loadGltfExtensions = !!options.loadGltfExtensions;\n        const callback = wasm._sceneLoadedCallback.length;\n        const promise = new Promise((resolve, reject) => {\n            wasm._sceneLoadedCallback[callback] = {\n                success: (id, extensions) => {\n                    const root = this._engine.wrapObject(id);\n                    resolve(extensions ? { root, extensions } : root);\n                },\n                error: () => reject(),\n            };\n        });\n        wasm._wl_append_scene(wasm.tempUTF8(filename), loadGltfExtensions, callback);\n        return promise;\n    }\n    /**\n     * Unmarshalls the GltfExtensions from an Uint32Array.\n     *\n     * @param data Array containing the gltf extension data.\n     * @returns The extensions stored in an object literal.\n     *\n     * @hidden\n     */\n    _unmarshallGltfExtensions(data) {\n        /* @todo: This method should be moved in the internal Emscripten library. */\n        const extensions = {\n            root: {},\n            mesh: {},\n            node: {},\n            idMapping: {},\n        };\n        let index = 0;\n        const readString = () => {\n            const strPtr = data[index++];\n            const strLen = data[index++];\n            return this._engine.wasm.UTF8ViewToString(strPtr, strPtr + strLen);\n        };\n        const idMappingSize = data[index++];\n        const idMapping = new Array(idMappingSize);\n        for (let i = 0; i < idMappingSize; ++i) {\n            idMapping[i] = data[index++];\n        }\n        extensions.idMapping = idMapping;\n        const meshExtensionsSize = data[index++];\n        for (let i = 0; i < meshExtensionsSize; ++i) {\n            const objectId = data[index++];\n            extensions.mesh[idMapping[objectId]] = JSON.parse(readString());\n        }\n        const nodeExtensionsSize = data[index++];\n        for (let i = 0; i < nodeExtensionsSize; ++i) {\n            const objectId = data[index++];\n            extensions.node[idMapping[objectId]] = JSON.parse(readString());\n        }\n        const rootExtensionsStr = readString();\n        if (rootExtensionsStr) {\n            extensions.root = JSON.parse(rootExtensionsStr);\n        }\n        return extensions;\n    }\n    /**\n     * Reset the scene.\n     *\n     * This method deletes all used and allocated objects, and components.\n     */\n    reset() {\n        this._engine.wasm._wl_scene_reset();\n    }\n}\n/**\n * Native component\n *\n * Provides access to a native component instance of a specified component type.\n *\n * Usage example:\n *\n * ```js\n * import { Component, Type } from '@wonderlandengine/api';\n *\n * class MyComponent extends Component {\n *     static TypeName = 'my-component';\n *     static Properties = {\n *         myBoolean: { type: Type.Boolean, default: false },\n *     };\n *     start() {}\n *     onActivate() {}\n *     onDeactivate() {}\n *     update(dt) {}\n * }\n * ```\n */\nexport class Component {\n    /**\n     * Unique identifier for this component class.\n     *\n     * This is used to register, add, and retrieve component of a given type.\n     */\n    static TypeName;\n    /**\n     * Properties of this component class.\n     *\n     * Properties are public attributes that can be configured via the\n     * Wonderland Editor.\n     *\n     * Example:\n     *\n     * ```js\n     * import { Component, Type } from '@wonderlandengine/api';\n     * class MyComponent extends Component {\n     *     static TypeName = 'my-component';\n     *     static Properties = {\n     *         myBoolean: { type: Type.Boolean, default: false },\n     *         myFloat: { type: Type.Float, default: false },\n     *         myTexture: { type: Type.Texture, default: null },\n     *     };\n     * }\n     * ```\n     *\n     * Properties are automatically added to each component instance, and are\n     * accessible like any JS attribute:\n     *\n     * ```js\n     * // Creates a new component and set each properties value:\n     * const myComponent = object.addComponent(MyComponent, {\n     *     myBoolean: true,\n     *     myFloat: 42.0,\n     *     myTexture: null\n     * });\n     *\n     * // You can also override the properties on the instance:\n     * myComponent.myBoolean = false;\n     * myComponent.myFloat = -42.0;\n     * ```\n     */\n    static Properties;\n    /**\n     * List of components this type depends on.\n     *\n     * When the {@link WonderlandEngine.autoRegisterDependencies} is set to `true`,\n     * those components will be automatically registered.\n     *\n     * Usage example:\n     *\n     * ```js\n     * class DependencyA extends Component {\n     *     static TypeName = 'dependency-a';\n     * }\n     *\n     * class MyComponent extends Component {\n     *     static TypeName = 'my-component';\n     *     static Dependencies = [DependencyA];\n     * }\n     * ```\n     *\n     * On the above example, registering `MyComponent` automatically leads to\n     * the registration of `DependencyA`.\n     */\n    static Dependencies;\n    /** Manager index. @hidden */\n    _manager;\n    /** Instance index. @hidden */\n    _id;\n    /**\n     * Object containing this object.\n     *\n     * **Note**: This is cached for faster retrieval.\n     *\n     * @hidden\n     */\n    _object;\n    /** Wonderland Engine instance */\n    _engine;\n    /**\n     * Create a new instance\n     *\n     * @param engine The engine instance.\n     * @param manager Index of the manager.\n     * @param id WASM component instance index.\n     *\n     * @hidden\n     */\n    constructor(engine, manager = -1, id = -1) {\n        this._engine = engine;\n        this._manager = manager;\n        this._id = id;\n        this._object = null;\n    }\n    /** Hosting engine instance. */\n    get engine() {\n        return this._engine;\n    }\n    /** The name of this component's type */\n    get type() {\n        const ctor = this.constructor;\n        return ctor.TypeName ?? this._engine.wasm._typeNameFor(this._manager);\n    }\n    /** The object this component is attached to. */\n    get object() {\n        if (!this._object) {\n            const objectId = this._engine.wasm._wl_component_get_object(this._manager, this._id);\n            this._object = this._engine.wrapObject(objectId);\n        }\n        return this._object;\n    }\n    /**\n     * Set whether this component is active.\n     *\n     * Activating/deactivating a component comes at a small cost of reordering\n     * components in the respective component manager. This function therefore\n     * is not a trivial assignment.\n     *\n     * Does nothing if the component is already activated/deactivated.\n     *\n     * @param active New active state.\n     */\n    set active(active) {\n        this._engine.wasm._wl_component_setActive(this._manager, this._id, active);\n    }\n    /**\n     * Whether this component is active\n     */\n    get active() {\n        return this._engine.wasm._wl_component_isActive(this._manager, this._id) != 0;\n    }\n    /**\n     * Remove this component from its objects and destroy it.\n     *\n     * It is best practice to set the component to `null` after,\n     * to ensure it does not get used later.\n     *\n     * ```js\n     *    c.destroy();\n     *    c = null;\n     * ```\n     * @since 0.9.0\n     */\n    destroy() {\n        this._engine.wasm._wl_component_remove(this._manager, this._id);\n        this._manager = -1;\n        this._id = -1;\n    }\n    /**\n     * Checks equality by comparing whether the wrapped native component ids\n     * and component manager types are equal.\n     *\n     * @param otherComponent Component to check equality with.\n     * @returns Whether this component equals the given component.\n     */\n    equals(otherComponent) {\n        if (!otherComponent)\n            return false;\n        return this._manager == otherComponent._manager && this._id == otherComponent._id;\n    }\n}\n/**\n * Native collision component.\n *\n * Provides access to a native collision component instance.\n */\nexport class CollisionComponent extends Component {\n    /** @override */\n    static TypeName = 'collision';\n    /** Collision component collider */\n    get collider() {\n        return this._engine.wasm._wl_collision_component_get_collider(this._id);\n    }\n    /**\n     * Set collision component collider.\n     *\n     * @param collider Collider of the collision component.\n     */\n    set collider(collider) {\n        this._engine.wasm._wl_collision_component_set_collider(this._id, collider);\n    }\n    /**\n     * Collision component extents.\n     *\n     * If {@link collider} returns {@link Collider.Sphere}, only the first\n     * component of the returned vector is used.\n     */\n    get extents() {\n        const wasm = this._engine.wasm;\n        return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_collision_component_get_extents(this._id), 3);\n    }\n    /**\n     * Set collision component extents.\n     *\n     * If {@link collider} returns {@link Collider.Sphere}, only the first\n     * component of the passed vector is used.\n     *\n     * Example:\n     *\n     * ```js\n     * // Spans 1 unit on the x-axis, 2 on the y-axis, 3 on the z-axis.\n     * collision.extent = [1, 2, 3];\n     * ```\n     *\n     * @param extents Extents of the collision component, expects a\n     *      3 component array.\n     */\n    set extents(extents) {\n        this.extents.set(extents);\n    }\n    /**\n     * Collision component group.\n     *\n     * The groups is a bitmask that is compared to other components in {@link CollisionComponent#queryOverlaps}\n     * or the group in {@link Scene#rayCast}.\n     *\n     * Colliders that have no common groups will not overlap with each other. If a collider\n     * has none of the groups set for {@link Scene#rayCast}, the ray will not hit it.\n     *\n     * Each bit represents belonging to a group, see example.\n     *\n     * ```js\n     *    // c belongs to group 2\n     *    c.group = (1 << 2);\n     *\n     *    // c belongs to group 0\n     *    c.group = (1 << 0);\n     *\n     *    // c belongs to group 0 *and* 2\n     *    c.group = (1 << 0) | (1 << 2);\n     *\n     *    (c.group & (1 << 2)) != 0; // true\n     *    (c.group & (1 << 7)) != 0; // false\n     * ```\n     */\n    get group() {\n        return this._engine.wasm._wl_collision_component_get_group(this._id);\n    }\n    /**\n     * Set collision component group.\n     *\n     * @param group Group mask of the collision component.\n     */\n    set group(group) {\n        this._engine.wasm._wl_collision_component_set_group(this._id, group);\n    }\n    /**\n     * Query overlapping objects.\n     *\n     * Usage:\n     *\n     * ```js\n     * const collision = object.getComponent('collision');\n     * const overlaps = collision.queryOverlaps();\n     * for(const otherCollision of overlaps) {\n     *     const otherObject = otherCollision.object;\n     *     console.log(`Collision with object ${otherObject.objectId}`);\n     * }\n     * ```\n     *\n     * @returns Collision components overlapping this collider.\n     */\n    queryOverlaps() {\n        const count = this._engine.wasm._wl_collision_component_query_overlaps(this._id, this._engine.wasm._tempMem, this._engine.wasm._tempMemSize >> 1);\n        let overlaps = new Array(count);\n        for (let i = 0; i < count; ++i) {\n            overlaps[i] = new CollisionComponent(this._engine, this._manager, this._engine.wasm._tempMemUint16[i]);\n        }\n        return overlaps;\n    }\n}\n__decorate([\n    nativeProperty()\n], CollisionComponent.prototype, \"collider\", null);\n__decorate([\n    nativeProperty()\n], CollisionComponent.prototype, \"extents\", null);\n__decorate([\n    nativeProperty()\n], CollisionComponent.prototype, \"group\", null);\n/**\n * Native text component\n *\n * Provides access to a native text component instance\n */\nexport class TextComponent extends Component {\n    /** @override */\n    static TypeName = 'text';\n    /** Text component alignment. */\n    get alignment() {\n        return this._engine.wasm._wl_text_component_get_horizontal_alignment(this._id);\n    }\n    /**\n     * Set text component alignment.\n     *\n     * @param alignment Alignment for the text component.\n     */\n    set alignment(alignment) {\n        this._engine.wasm._wl_text_component_set_horizontal_alignment(this._id, alignment);\n    }\n    /** Text component justification. */\n    get justification() {\n        return this._engine.wasm._wl_text_component_get_vertical_alignment(this._id);\n    }\n    /**\n     * Set text component justification.\n     *\n     * @param justification Justification for the text component.\n     */\n    set justification(justification) {\n        this._engine.wasm._wl_text_component_set_vertical_alignment(this._id, justification);\n    }\n    /** Text component character spacing. */\n    get characterSpacing() {\n        return this._engine.wasm._wl_text_component_get_character_spacing(this._id);\n    }\n    /**\n     * Set text component character spacing.\n     *\n     * @param spacing Character spacing for the text component.\n     */\n    set characterSpacing(spacing) {\n        this._engine.wasm._wl_text_component_set_character_spacing(this._id, spacing);\n    }\n    /** Text component line spacing. */\n    get lineSpacing() {\n        return this._engine.wasm._wl_text_component_get_line_spacing(this._id);\n    }\n    /**\n     * Set text component line spacing\n     *\n     * @param spacing Line spacing for the text component\n     */\n    set lineSpacing(spacing) {\n        this._engine.wasm._wl_text_component_set_line_spacing(this._id, spacing);\n    }\n    /** Text component effect. */\n    get effect() {\n        return this._engine.wasm._wl_text_component_get_effect(this._id);\n    }\n    /**\n     * Set text component effect\n     *\n     * @param effect Effect for the text component\n     */\n    set effect(effect) {\n        this._engine.wasm._wl_text_component_set_effect(this._id, effect);\n    }\n    /** Text component text. */\n    get text() {\n        const wasm = this._engine.wasm;\n        const ptr = wasm._wl_text_component_get_text(this._id);\n        return wasm.UTF8ToString(ptr);\n    }\n    /**\n     * Set text component text.\n     *\n     * @param text Text of the text component.\n     */\n    set text(text) {\n        const wasm = this._engine.wasm;\n        wasm._wl_text_component_set_text(this._id, wasm.tempUTF8(text));\n    }\n    /**\n     * Set material to render the text with.\n     *\n     * @param material New material.\n     */\n    set material(material) {\n        const matIndex = material ? material._index : 0;\n        this._engine.wasm._wl_text_component_set_material(this._id, matIndex);\n    }\n    /** Material used to render the text. */\n    get material() {\n        const id = this._engine.wasm._wl_text_component_get_material(this._id);\n        return id > 0 ? new Material(this._engine, id) : null;\n    }\n}\n__decorate([\n    nativeProperty()\n], TextComponent.prototype, \"alignment\", null);\n__decorate([\n    nativeProperty()\n], TextComponent.prototype, \"justification\", null);\n__decorate([\n    nativeProperty()\n], TextComponent.prototype, \"characterSpacing\", null);\n__decorate([\n    nativeProperty()\n], TextComponent.prototype, \"lineSpacing\", null);\n__decorate([\n    nativeProperty()\n], TextComponent.prototype, \"effect\", null);\n__decorate([\n    nativeProperty()\n], TextComponent.prototype, \"text\", null);\n__decorate([\n    nativeProperty()\n], TextComponent.prototype, \"material\", null);\n/**\n * Native view component.\n *\n * Provides access to a native view component instance.\n */\nexport class ViewComponent extends Component {\n    /** @override */\n    static TypeName = 'view';\n    /** Projection matrix. */\n    get projectionMatrix() {\n        const wasm = this._engine.wasm;\n        return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_view_component_get_projection_matrix(this._id), 16);\n    }\n    /** ViewComponent near clipping plane value. */\n    get near() {\n        return this._engine.wasm._wl_view_component_get_near(this._id);\n    }\n    /**\n     * Set near clipping plane distance for the view.\n     *\n     * If an XR session is active, the change will apply in the\n     * following frame, otherwise the change is immediate.\n     *\n     * @param near Near depth value.\n     */\n    set near(near) {\n        this._engine.wasm._wl_view_component_set_near(this._id, near);\n    }\n    /** Far clipping plane value. */\n    get far() {\n        return this._engine.wasm._wl_view_component_get_far(this._id);\n    }\n    /**\n     * Set far clipping plane distance for the view.\n     *\n     * If an XR session is active, the change will apply in the\n     * following frame, otherwise the change is immediate.\n     *\n     * @param far Near depth value.\n     */\n    set far(far) {\n        this._engine.wasm._wl_view_component_set_far(this._id, far);\n    }\n    /**\n     * Get the horizontal field of view for the view, **in degrees**.\n     *\n     * If an XR session is active, this returns the field of view reported by\n     * the device, regardless of the fov that was set.\n     */\n    get fov() {\n        return this._engine.wasm._wl_view_component_get_fov(this._id);\n    }\n    /**\n     * Set the horizontal field of view for the view, **in degrees**.\n     *\n     * If an XR session is active, the field of view reported by the device is\n     * used and this value is ignored. After the XR session ends, the new value\n     * is applied.\n     *\n     * @param fov Horizontal field of view, **in degrees**.\n     */\n    set fov(fov) {\n        this._engine.wasm._wl_view_component_set_fov(this._id, fov);\n    }\n}\n__decorate([\n    enumerable()\n], ViewComponent.prototype, \"projectionMatrix\", null);\n__decorate([\n    nativeProperty()\n], ViewComponent.prototype, \"near\", null);\n__decorate([\n    nativeProperty()\n], ViewComponent.prototype, \"far\", null);\n__decorate([\n    nativeProperty()\n], ViewComponent.prototype, \"fov\", null);\n/**\n * Native input component.\n *\n * Provides access to a native input component instance.\n */\nexport class InputComponent extends Component {\n    /** @override */\n    static TypeName = 'input';\n    /** Input component type */\n    get inputType() {\n        return this._engine.wasm._wl_input_component_get_type(this._id);\n    }\n    /**\n     * Set input component type.\n     *\n     * @params New input component type.\n     */\n    set inputType(type) {\n        this._engine.wasm._wl_input_component_set_type(this._id, type);\n    }\n    /**\n     * WebXR Device API input source associated with this input component,\n     * if type {@link InputType.ControllerLeft} or {@link InputType.ControllerRight}.\n     */\n    get xrInputSource() {\n        const xrSession = this._engine.xrSession;\n        if (xrSession) {\n            for (let inputSource of xrSession.inputSources) {\n                if (inputSource.handedness == this.handedness) {\n                    return inputSource;\n                }\n            }\n        }\n        return null;\n    }\n    /**\n     * 'left', 'right' or `null` depending on the {@link InputComponent#inputType}.\n     */\n    get handedness() {\n        const inputType = this.inputType;\n        if (inputType == InputType.ControllerRight ||\n            inputType == InputType.RayRight ||\n            inputType == InputType.EyeRight)\n            return 'right';\n        if (inputType == InputType.ControllerLeft ||\n            inputType == InputType.RayLeft ||\n            inputType == InputType.EyeLeft)\n            return 'left';\n        return null;\n    }\n}\n__decorate([\n    nativeProperty()\n], InputComponent.prototype, \"inputType\", null);\n__decorate([\n    enumerable()\n], InputComponent.prototype, \"xrInputSource\", null);\n__decorate([\n    enumerable()\n], InputComponent.prototype, \"handedness\", null);\n/**\n * Native light component.\n *\n * Provides access to a native light component instance.\n */\nexport class LightComponent extends Component {\n    /** @override */\n    static TypeName = 'light';\n    /** View on the light color. */\n    get color() {\n        const wasm = this._engine.wasm;\n        return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_light_component_get_color(this._id), 4);\n    }\n    /**\n     * Set light color.\n     *\n     * @param c Color of the light component.\n     */\n    set color(c) {\n        this.color.set(c);\n    }\n    /** Light type. */\n    get lightType() {\n        return this._engine.wasm._wl_light_component_get_type(this._id);\n    }\n    /**\n     * Set light type.\n     *\n     * @param lightType Type of the light component.\n     */\n    set lightType(t) {\n        this._engine.wasm._wl_light_component_set_type(this._id, t);\n    }\n}\n__decorate([\n    nativeProperty()\n], LightComponent.prototype, \"color\", null);\n__decorate([\n    nativeProperty()\n], LightComponent.prototype, \"lightType\", null);\n/**\n * Native animation component.\n *\n * Provides access to a native animation component instance.\n */\nexport class AnimationComponent extends Component {\n    /** @override */\n    static TypeName = 'animation';\n    /**\n     * Set animation to play.\n     *\n     * Make sure to {@link Animation#retarget} the animation to affect the\n     * right objects.\n     *\n     * @param anim Animation to play.\n     */\n    set animation(anim) {\n        this._engine.wasm._wl_animation_component_set_animation(this._id, anim ? anim._index : 0);\n    }\n    /** Animation set for this component */\n    get animation() {\n        const id = this._engine.wasm._wl_animation_component_get_animation(this._id);\n        return id > 0 ? new Animation(this._engine, id) : null;\n    }\n    /**\n     * Set play count. Set to `0` to loop indefinitely.\n     *\n     * @param playCount Number of times to repeat the animation.\n     */\n    set playCount(playCount) {\n        this._engine.wasm._wl_animation_component_set_playCount(this._id, playCount);\n    }\n    /** Number of times the animation is played. */\n    get playCount() {\n        return this._engine.wasm._wl_animation_component_get_playCount(this._id);\n    }\n    /**\n     * Set speed. Set to negative values to run the animation backwards.\n     *\n     * Setting speed has an immediate effect for the current frame's update\n     * and will continue with the speed from the current point in the animation.\n     *\n     * @param speed New speed at which to play the animation.\n     * @since 0.8.10\n     */\n    set speed(speed) {\n        this._engine.wasm._wl_animation_component_set_speed(this._id, speed);\n    }\n    /**\n     * Speed factor at which the animation is played.\n     *\n     * @since 0.8.10\n     */\n    get speed() {\n        return this._engine.wasm._wl_animation_component_get_speed(this._id);\n    }\n    /** Current playing state of the animation */\n    get state() {\n        return this._engine.wasm._wl_animation_component_state(this._id);\n    }\n    /**\n     * Play animation.\n     *\n     * If the animation is currently paused, resumes from that position. If the\n     * animation is already playing, does nothing.\n     *\n     * To restart the animation, {@link AnimationComponent#stop} it first.\n     */\n    play() {\n        this._engine.wasm._wl_animation_component_play(this._id);\n    }\n    /** Stop animation. */\n    stop() {\n        this._engine.wasm._wl_animation_component_stop(this._id);\n    }\n    /** Pause animation. */\n    pause() {\n        this._engine.wasm._wl_animation_component_pause(this._id);\n    }\n}\n__decorate([\n    nativeProperty()\n], AnimationComponent.prototype, \"animation\", null);\n__decorate([\n    nativeProperty()\n], AnimationComponent.prototype, \"playCount\", null);\n__decorate([\n    nativeProperty()\n], AnimationComponent.prototype, \"speed\", null);\n__decorate([\n    enumerable()\n], AnimationComponent.prototype, \"state\", null);\n/**\n * Native mesh component.\n *\n * Provides access to a native mesh component instance.\n */\nexport class MeshComponent extends Component {\n    /** @override */\n    static TypeName = 'mesh';\n    /**\n     * Set material to render the mesh with.\n     *\n     * @param material Material to render the mesh with.\n     */\n    set material(material) {\n        this._engine.wasm._wl_mesh_component_set_material(this._id, material ? material._index : 0);\n    }\n    /** Material used to render the mesh. */\n    get material() {\n        const id = this._engine.wasm._wl_mesh_component_get_material(this._id);\n        return id > 0 ? new Material(this._engine, id) : null;\n    }\n    /** Mesh rendered by this component. */\n    get mesh() {\n        const id = this._engine.wasm._wl_mesh_component_get_mesh(this._id);\n        return id > 0 ? new Mesh(this._engine, id) : null;\n    }\n    /**\n     * Set mesh to rendered with this component.\n     *\n     * @param mesh Mesh rendered by this component.\n     */\n    set mesh(mesh) {\n        this._engine.wasm._wl_mesh_component_set_mesh(this._id, mesh ? mesh._index : 0);\n    }\n    /** Skin for this mesh component. */\n    get skin() {\n        const id = this._engine.wasm._wl_mesh_component_get_skin(this._id);\n        return id > 0 ? new Skin(this._engine, id) : null;\n    }\n    /**\n     * Set skin to transform this mesh component.\n     *\n     * @param skin Skin to use for rendering skinned meshes.\n     */\n    set skin(skin) {\n        this._engine.wasm._wl_mesh_component_set_skin(this._id, skin ? skin._index : 0);\n    }\n}\n__decorate([\n    nativeProperty()\n], MeshComponent.prototype, \"material\", null);\n__decorate([\n    nativeProperty()\n], MeshComponent.prototype, \"mesh\", null);\n__decorate([\n    nativeProperty()\n], MeshComponent.prototype, \"skin\", null);\n/**\n * Enum for Physics axes locking\n *\n * See {@link PhysXComponent.angularLockAxis} and {@link PhysXComponent.linearLockAxis}.\n */\nexport var LockAxis;\n(function (LockAxis) {\n    /**\n     * No axis selected.\n     */\n    LockAxis[LockAxis[\"None\"] = 0] = \"None\";\n    /**\n     * **X axis**:\n     */\n    LockAxis[LockAxis[\"X\"] = 1] = \"X\";\n    /**\n     * **Y axis**:\n     */\n    LockAxis[LockAxis[\"Y\"] = 2] = \"Y\";\n    /**\n     * **Z axis**:\n     */\n    LockAxis[LockAxis[\"Z\"] = 4] = \"Z\";\n})(LockAxis || (LockAxis = {}));\n/**\n * Native physx rigid body component.\n *\n * Provides access to a native mesh component instance.\n * Only available when using physx enabled runtime, see \"Project Settings > Runtime\".\n */\nexport class PhysXComponent extends Component {\n    /** @override */\n    static TypeName = 'physx';\n    /**\n     * Set whether this rigid body is static.\n     *\n     * Setting this property only takes effect once the component\n     * switches from inactive to active.\n     *\n     * @param b Whether the rigid body should be static.\n     */\n    set static(b) {\n        this._engine.wasm._wl_physx_component_set_static(this._id, b);\n    }\n    /**\n     * Whether this rigid body is static.\n     *\n     * This property returns whether the rigid body is *effectively*\n     * static. If static property was set while the rigid body was\n     * active, it will not take effect until the rigid body is set\n     * inactive and active again. Until the component is set inactive,\n     * this getter will return whether the rigid body is actually\n     * static.\n     */\n    get static() {\n        return !!this._engine.wasm._wl_physx_component_get_static(this._id);\n    }\n    /**\n     * Set whether this rigid body is kinematic.\n     *\n     * @param b Whether the rigid body should be kinematic.\n     */\n    set kinematic(b) {\n        this._engine.wasm._wl_physx_component_set_kinematic(this._id, b);\n    }\n    /**\n     * Whether this rigid body is kinematic.\n     */\n    get kinematic() {\n        return !!this._engine.wasm._wl_physx_component_get_kinematic(this._id);\n    }\n    /**\n     * Set whether this rigid body's gravity is enabled.\n     *\n     * @param b Whether the rigid body's gravity should be enabled.\n     */\n    set gravity(b) {\n        this._engine.wasm._wl_physx_component_set_gravity(this._id, b);\n    }\n    /**\n     * Whether this rigid body's gravity flag is enabled.\n     */\n    get gravity() {\n        return !!this._engine.wasm._wl_physx_component_get_gravity(this._id);\n    }\n    /**\n     * Set whether this rigid body's simulate flag is enabled.\n     *\n     * @param b Whether the rigid body's simulate flag should be enabled.\n     */\n    set simulate(b) {\n        this._engine.wasm._wl_physx_component_set_simulate(this._id, b);\n    }\n    /**\n     * Whether this rigid body's simulate flag is enabled.\n     */\n    get simulate() {\n        return !!this._engine.wasm._wl_physx_component_get_simulate(this._id);\n    }\n    /**\n     * Set whether to allow simulation of this rigid body.\n     *\n     * {@link #allowSimulation} and {@link #trigger} can not be enabled at the\n     * same time. Enabling {@link #allowSimulation} while {@link trigger} is enabled\n     * will disable {@link #trigger}.\n     *\n     * @param b Whether to allow simulation of this rigid body.\n     */\n    set allowSimulation(b) {\n        this._engine.wasm._wl_physx_component_set_allowSimulation(this._id, b);\n    }\n    /**\n     * Whether to allow simulation of this rigid body.\n     */\n    get allowSimulation() {\n        return !!this._engine.wasm._wl_physx_component_get_allowSimulation(this._id);\n    }\n    /**\n     * Set whether this rigid body may be queried in ray casts.\n     *\n     * @param b Whether this rigid body may be queried in ray casts.\n     */\n    set allowQuery(b) {\n        this._engine.wasm._wl_physx_component_set_allowQuery(this._id, b);\n    }\n    /**\n     * Whether this rigid body may be queried in ray casts.\n     */\n    get allowQuery() {\n        return !!this._engine.wasm._wl_physx_component_get_allowQuery(this._id);\n    }\n    /**\n     * Set whether this physics body is a trigger.\n     *\n     * {@link #allowSimulation} and {@link trigger} can not be enabled at the\n     * same time. Enabling trigger while {@link allowSimulation} is enabled,\n     * will disable {@link allowSimulation}.\n     *\n     * @param b Whether this physics body is a trigger.\n     */\n    set trigger(b) {\n        this._engine.wasm._wl_physx_component_set_trigger(this._id, b);\n    }\n    /**\n     * Whether this physics body is a trigger.\n     */\n    get trigger() {\n        return !!this._engine.wasm._wl_physx_component_get_trigger(this._id);\n    }\n    /**\n     * Set the shape for collision detection.\n     *\n     * @param s New shape.\n     * @since 0.8.5\n     */\n    set shape(s) {\n        this._engine.wasm._wl_physx_component_set_shape(this._id, s);\n    }\n    /** The shape for collision detection. */\n    get shape() {\n        return this._engine.wasm._wl_physx_component_get_shape(this._id);\n    }\n    /**\n     * Set additional data for the shape.\n     *\n     * Retrieved only from {@link PhysXComponent#shapeData}.\n     * @since 0.8.10\n     */\n    set shapeData(d) {\n        if (d == null || !isMeshShape(this.shape))\n            return;\n        this._engine.wasm._wl_physx_component_set_shape_data(this._id, d.index);\n    }\n    /**\n     * Additional data for the shape.\n     *\n     * `null` for {@link Shape} values: `None`, `Sphere`, `Capsule`, `Box`, `Plane`.\n     * `{index: n}` for `TriangleMesh` and `ConvexHull`.\n     *\n     * This data is currently only for passing onto or creating other {@link PhysXComponent}.\n     * @since 0.8.10\n     */\n    get shapeData() {\n        if (!isMeshShape(this.shape))\n            return null;\n        return { index: this._engine.wasm._wl_physx_component_get_shape_data(this._id) };\n    }\n    /**\n     * Set the shape extents for collision detection.\n     *\n     * @param e New extents for the shape.\n     * @since 0.8.5\n     */\n    set extents(e) {\n        this.extents.set(e);\n    }\n    /**\n     * The shape extents for collision detection.\n     */\n    get extents() {\n        const wasm = this._engine.wasm;\n        const ptr = wasm._wl_physx_component_get_extents(this._id);\n        return new Float32Array(wasm.HEAPF32.buffer, ptr, 3);\n    }\n    /**\n     * Get staticFriction.\n     */\n    get staticFriction() {\n        return this._engine.wasm._wl_physx_component_get_staticFriction(this._id);\n    }\n    /**\n     * Set staticFriction.\n     * @param v New staticFriction.\n     */\n    set staticFriction(v) {\n        this._engine.wasm._wl_physx_component_set_staticFriction(this._id, v);\n    }\n    /**\n     * Get dynamicFriction.\n     */\n    get dynamicFriction() {\n        return this._engine.wasm._wl_physx_component_get_dynamicFriction(this._id);\n    }\n    /**\n     * Set dynamicFriction\n     * @param v New dynamicDamping.\n     */\n    set dynamicFriction(v) {\n        this._engine.wasm._wl_physx_component_set_dynamicFriction(this._id, v);\n    }\n    /**\n     * Get bounciness.\n     * @since 0.9.0\n     */\n    get bounciness() {\n        return this._engine.wasm._wl_physx_component_get_bounciness(this._id);\n    }\n    /**\n     * Set bounciness.\n     * @param v New bounciness.\n     * @since 0.9.0\n     */\n    set bounciness(v) {\n        this._engine.wasm._wl_physx_component_set_bounciness(this._id, v);\n    }\n    /**\n     * Get linearDamping/\n     */\n    get linearDamping() {\n        return this._engine.wasm._wl_physx_component_get_linearDamping(this._id);\n    }\n    /**\n     * Set linearDamping.\n     * @param v New linearDamping.\n     */\n    set linearDamping(v) {\n        this._engine.wasm._wl_physx_component_set_linearDamping(this._id, v);\n    }\n    /** Get angularDamping. */\n    get angularDamping() {\n        return this._engine.wasm._wl_physx_component_get_angularDamping(this._id);\n    }\n    /**\n     * Set angularDamping.\n     * @param v New angularDamping.\n     */\n    set angularDamping(v) {\n        this._engine.wasm._wl_physx_component_set_angularDamping(this._id, v);\n    }\n    /**\n     * Set linear velocity.\n     *\n     * [PhysX Manual - \"Velocity\"](https://gameworksdocs.nvidia.com/PhysX/4.1/documentation/physxguide/Manual/RigidBodyDynamics.html#velocity)\n     *\n     * Has no effect, if the component is not active.\n     *\n     * @param v New linear velocity.\n     */\n    set linearVelocity(v) {\n        this._engine.wasm._wl_physx_component_set_linearVelocity(this._id, v[0], v[1], v[2]);\n    }\n    /** Linear velocity or `[0, 0, 0]` if the component is not active. */\n    get linearVelocity() {\n        const wasm = this._engine.wasm;\n        wasm._wl_physx_component_get_linearVelocity(this._id, wasm._tempMem);\n        return new Float32Array(wasm.HEAPF32.buffer, wasm._tempMem, 3);\n    }\n    /**\n     * Set angular velocity\n     *\n     * [PhysX Manual - \"Velocity\"](https://gameworksdocs.nvidia.com/PhysX/4.1/documentation/physxguide/Manual/RigidBodyDynamics.html#velocity)\n     *\n     * Has no effect, if the component is not active.\n     *\n     * @param v New angular velocity\n     */\n    set angularVelocity(v) {\n        this._engine.wasm._wl_physx_component_set_angularVelocity(this._id, v[0], v[1], v[2]);\n    }\n    /** Angular velocity or `[0, 0, 0]` if the component is not active. */\n    get angularVelocity() {\n        const wasm = this._engine.wasm;\n        wasm._wl_physx_component_get_angularVelocity(this._id, wasm._tempMem);\n        return new Float32Array(wasm.HEAPF32.buffer, wasm._tempMem, 3);\n    }\n    /**\n     * Set the components groups mask.\n     *\n     * @param flags New flags that need to be set.\n     */\n    set groupsMask(flags) {\n        this._engine.wasm._wl_physx_component_set_groupsMask(this._id, flags);\n    }\n    /**\n     * Get the components groups mask flags.\n     *\n     * Each bit represents membership to group, see example.\n     *\n     * ```js\n     * // Assign c to group 2\n     * c.groupsMask = (1 << 2);\n     *\n     * // Assign c to group 0\n     * c.groupsMask  = (1 << 0);\n     *\n     * // Assign c to group 0 and 2\n     * c.groupsMask = (1 << 0) | (1 << 2);\n     *\n     * (c.groupsMask & (1 << 2)) != 0; // true\n     * (c.groupsMask & (1 << 7)) != 0; // false\n     * ```\n     */\n    get groupsMask() {\n        return this._engine.wasm._wl_physx_component_get_groupsMask(this._id);\n    }\n    /**\n     * Set the components blocks mask.\n     *\n     * @param flags New flags that need to be set.\n     */\n    set blocksMask(flags) {\n        this._engine.wasm._wl_physx_component_set_blocksMask(this._id, flags);\n    }\n    /**\n     * Get the components blocks mask flags.\n     *\n     * Each bit represents membership to the block, see example.\n     *\n     * ```js\n     * // Block overlap with any objects in group 2\n     * c.blocksMask = (1 << 2);\n     *\n     * // Block overlap with any objects in group 0\n     * c.blocksMask  = (1 << 0)\n     *\n     * // Block overlap with any objects in group 0 and 2\n     * c.blocksMask = (1 << 0) | (1 << 2);\n     *\n     * (c.blocksMask & (1 << 2)) != 0; // true\n     * (c.blocksMask & (1 << 7)) != 0; // false\n     * ```\n     */\n    get blocksMask() {\n        return this._engine.wasm._wl_physx_component_get_blocksMask(this._id);\n    }\n    /**\n     * Set axes to lock for linear velocity.\n     *\n     * @param lock The Axis that needs to be set.\n     *\n     * Combine flags with Bitwise OR.\n     * ```js\n     * body.linearLockAxis = LockAxis.X | LockAxis.Y; // x and y set\n     * body.linearLockAxis = LockAxis.X; // y unset\n     * ```\n     *\n     * @note This has no effect if the component is static.\n     */\n    set linearLockAxis(lock) {\n        this._engine.wasm._wl_physx_component_set_linearLockAxis(this._id, lock);\n    }\n    /**\n     * Get the linear lock axes flags.\n     *\n     * To get the state of a specific flag, Bitwise AND with the LockAxis needed.\n     *\n     * ```js\n     * if(body.linearLockAxis & LockAxis.Y) {\n     *     console.log(\"The Y flag was set!\");\n     * }\n     * ```\n     *\n     * @return axes that are currently locked for linear movement.\n     */\n    get linearLockAxis() {\n        return this._engine.wasm._wl_physx_component_get_linearLockAxis(this._id);\n    }\n    /**\n     * Set axes to lock for angular velocity.\n     *\n     * @param lock The Axis that needs to be set.\n     *\n     * ```js\n     * body.angularLockAxis = LockAxis.X | LockAxis.Y; // x and y set\n     * body.angularLockAxis = LockAxis.X; // y unset\n     * ```\n     *\n     * @note This has no effect if the component is static.\n     */\n    set angularLockAxis(lock) {\n        this._engine.wasm._wl_physx_component_set_angularLockAxis(this._id, lock);\n    }\n    /**\n     * Get the angular lock axes flags.\n     *\n     * To get the state of a specific flag, Bitwise AND with the LockAxis needed.\n     *\n     * ```js\n     * if(body.angularLockAxis & LockAxis.Y) {\n     *     console.log(\"The Y flag was set!\");\n     * }\n     * ```\n     *\n     * @return axes that are currently locked for angular movement.\n     */\n    get angularLockAxis() {\n        return this._engine.wasm._wl_physx_component_get_angularLockAxis(this._id);\n    }\n    /**\n     * Set mass.\n     *\n     * [PhysX Manual - \"Mass Properties\"](https://gameworksdocs.nvidia.com/PhysX/4.1/documentation/physxguide/Manual/RigidBodyDynamics.html#mass-properties)\n     *\n     * @param m New mass.\n     */\n    set mass(m) {\n        this._engine.wasm._wl_physx_component_set_mass(this._id, m);\n    }\n    /** Mass */\n    get mass() {\n        return this._engine.wasm._wl_physx_component_get_mass(this._id);\n    }\n    /**\n     * Set mass space interia tensor.\n     *\n     * [PhysX Manual - \"Mass Properties\"](https://gameworksdocs.nvidia.com/PhysX/4.1/documentation/physxguide/Manual/RigidBodyDynamics.html#mass-properties)\n     *\n     * Has no effect, if the component is not active.\n     *\n     * @param v New mass space interatia tensor.\n     */\n    set massSpaceInteriaTensor(v) {\n        this._engine.wasm._wl_physx_component_set_massSpaceInertiaTensor(this._id, v[0], v[1], v[2]);\n    }\n    /**\n     * Apply a force.\n     *\n     * [PhysX Manual - \"Applying Forces and Torques\"](https://gameworksdocs.nvidia.com/PhysX/4.1/documentation/physxguide/Manual/RigidBodyDynamics.html#applying-forces-and-torques)\n     *\n     * Has no effect, if the component is not active.\n     *\n     * @param f Force vector.\n     * @param m Force mode, see {@link ForceMode}, default `Force`.\n     * @param localForce Whether the force vector is in local space, default `false`.\n     * @param p Position to apply force at, default is center of mass.\n     * @param local Whether position is in local space, default `false`.\n     */\n    addForce(f, m = ForceMode.Force, localForce = false, p, local = false) {\n        const wasm = this._engine.wasm;\n        if (!p) {\n            wasm._wl_physx_component_addForce(this._id, f[0], f[1], f[2], m, localForce);\n            return;\n        }\n        wasm._wl_physx_component_addForceAt(this._id, f[0], f[1], f[2], m, localForce, p[0], p[1], p[2], local);\n    }\n    /**\n     * Apply torque.\n     *\n     * [PhysX Manual - \"Applying Forces and Torques\"](https://gameworksdocs.nvidia.com/PhysX/4.1/documentation/physxguide/Manual/RigidBodyDynamics.html#applying-forces-and-torques)\n     *\n     * Has no effect, if the component is not active.\n     *\n     * @param f Force vector.\n     * @param m Force mode, see {@link ForceMode}, default `Force`.\n     */\n    addTorque(f, m = ForceMode.Force) {\n        this._engine.wasm._wl_physx_component_addTorque(this._id, f[0], f[1], f[2], m);\n    }\n    /**\n     * Add on collision callback.\n     *\n     * @param callback Function to call when this rigid body (un)collides with any other.\n     *\n     * ```js\n     *  let rigidBody = this.object.getComponent('physx');\n     *  rigidBody.onCollision(function(type, other) {\n     *      // Ignore uncollides\n     *      if(type == CollisionEventType.TouchLost) return;\n     *\n     *      // Take damage on collision with enemies\n     *      if(other.object.name.startsWith('enemy-')) {\n     *          this.applyDamage(10);\n     *      }\n     *  }.bind(this));\n     * ```\n     *\n     * @returns Id of the new callback for use with {@link PhysXComponent#removeCollisionCallback}.\n     */\n    onCollision(callback) {\n        return this.onCollisionWith(this, callback);\n    }\n    /**\n     * Add filtered on collision callback.\n     *\n     * @param otherComp Component for which callbacks will\n     *        be triggered. If you pass this component, the method is equivalent to.\n     *        {@link PhysXComponent#onCollision}.\n     * @param callback Function to call when this rigid body\n     *        (un)collides with `otherComp`.\n     * @returns Id of the new callback for use with {@link PhysXComponent#removeCollisionCallback}.\n     */\n    onCollisionWith(otherComp, callback) {\n        const physics = this._engine.physics;\n        physics._callbacks[this._id] = physics._callbacks[this._id] || [];\n        physics._callbacks[this._id].push(callback);\n        return this._engine.wasm._wl_physx_component_addCallback(this._id, otherComp._id || this._id);\n    }\n    /**\n     * Remove a collision callback added with {@link PhysXComponent#onCollision} or {@link PhysXComponent#onCollisionWith}.\n     *\n     * @param callbackId Callback id as returned by {@link PhysXComponent#onCollision} or {@link PhysXComponent#onCollisionWith}.\n     * @throws When the callback does not belong to the component.\n     * @throws When the callback does not exist.\n     */\n    removeCollisionCallback(callbackId) {\n        const physics = this._engine.physics;\n        const r = this._engine.wasm._wl_physx_component_removeCallback(this._id, callbackId);\n        /* r is the amount of object to remove from the end of the\n         * callbacks array for this object */\n        if (r)\n            physics._callbacks[this._id].splice(-r);\n    }\n}\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"static\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"kinematic\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"gravity\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"simulate\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"allowSimulation\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"allowQuery\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"trigger\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"shape\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"shapeData\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"extents\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"staticFriction\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"dynamicFriction\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"bounciness\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"linearDamping\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"angularDamping\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"linearVelocity\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"angularVelocity\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"groupsMask\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"blocksMask\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"linearLockAxis\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"angularLockAxis\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"mass\", null);\n/**\n * Access to the physics scene\n */\nexport class Physics {\n    /**\n     * @hidden\n     *\n     * **Note**: This is public to emulate a `friend` accessor.\n     */\n    _callbacks;\n    /** Wonderland Engine instance */\n    _engine;\n    /** Ray Hit */\n    _rayHit;\n    /** Hit. */\n    _hit;\n    constructor(engine) {\n        this._engine = engine;\n        this._rayHit = engine.wasm._malloc(4 * (3 * 4 + 3 * 4 + 4 + 2) + 4);\n        this._hit = new RayHit(this._engine, this._rayHit);\n        this._callbacks = {};\n    }\n    /**\n     * Cast a ray through the physics scene and find intersecting objects.\n     *\n     * The resulting ray hit will contain **up to 4** closest ray hits,\n     * sorted by increasing distance.\n     *\n     * @param o Ray origin.\n     * @param d Ray direction.\n     * @param group Collision group to filter by: only objects that are\n     *        part of given group are considered for raycast.\n     * @param maxDistance Maximum ray distance, default `100.0`.\n     *\n     * @returns The RayHit instance, belonging to this class.\n     *\n     * @note The returned {@link RayHit} object is owned by the Physics instance and\n     *       will be reused with the next {@link Physics#rayCast} call.\n     */\n    rayCast(o, d, group, maxDistance = 100.0) {\n        this._engine.wasm._wl_physx_ray_cast(o[0], o[1], o[2], d[0], d[1], d[2], group, maxDistance, this._rayHit);\n        return this._hit;\n    }\n}\n/**\n * Mesh index type.\n */\nexport var MeshIndexType;\n(function (MeshIndexType) {\n    /** Single byte mesh index, range 0-255 */\n    MeshIndexType[MeshIndexType[\"UnsignedByte\"] = 1] = \"UnsignedByte\";\n    /** Two byte mesh index, range 0-65535 */\n    MeshIndexType[MeshIndexType[\"UnsignedShort\"] = 2] = \"UnsignedShort\";\n    /** Four byte mesh index, range 0-4294967295 */\n    MeshIndexType[MeshIndexType[\"UnsignedInt\"] = 4] = \"UnsignedInt\";\n})(MeshIndexType || (MeshIndexType = {}));\n/**\n * Wrapper around a native mesh data.\n *\n * To modify a mesh, you get access to a {@link MeshAttributeAccessor} that allows you to modify\n * the content of the buffers:\n *\n * Usage:\n *\n * ```js\n * const mesh = new Mesh(engine, {vertexCount: 3, indexData: [0, 1, 2] });\n * const positions = mesh.attribute(MeshAttribute.Position);\n * ...\n * ```\n */\nexport class Mesh {\n    /**\n     * Index of the mesh in the manager.\n     *\n     * @hidden\n     */\n    _index = -1;\n    /** Wonderland Engine instance. @hidden */\n    _engine;\n    /**\n     * Create a new instance.\n     *\n     * @param params Either a mesh index to wrap or set of parameters to create a new mesh.\n     *    For more information, please have a look at the {@link MeshParameters} interface.\n     */\n    constructor(engine, params) {\n        this._engine = engine ?? WL;\n        this._index = -1;\n        if (isNumber(params)) {\n            this._index = params;\n            return;\n        }\n        if (!params.vertexCount)\n            throw new Error(\"Missing parameter 'vertexCount'\");\n        const wasm = this._engine.wasm;\n        let indexData = 0;\n        let indexType = 0;\n        let indexDataSize = 0;\n        if (params.indexData) {\n            indexType = params.indexType || MeshIndexType.UnsignedShort;\n            indexDataSize = params.indexData.length * indexType;\n            indexData = wasm._malloc(indexDataSize);\n            /* Copy the index data into wasm memory */\n            switch (indexType) {\n                case MeshIndexType.UnsignedByte:\n                    wasm.HEAPU8.set(params.indexData, indexData);\n                    break;\n                case MeshIndexType.UnsignedShort:\n                    wasm.HEAPU16.set(params.indexData, indexData >> 1);\n                    break;\n                case MeshIndexType.UnsignedInt:\n                    wasm.HEAPU32.set(params.indexData, indexData >> 2);\n                    break;\n            }\n        }\n        const { skinned = false } = params;\n        this._index = wasm._wl_mesh_create(indexData, indexDataSize, indexType, params.vertexCount, skinned);\n    }\n    /** Number of vertices in this mesh. */\n    get vertexCount() {\n        return this._engine.wasm._wl_mesh_get_vertexCount(this._index);\n    }\n    /** Index data (read-only) or `null` if the mesh is not indexed. */\n    get indexData() {\n        const wasm = this._engine.wasm;\n        const tempMem = wasm._tempMem;\n        const ptr = wasm._wl_mesh_get_indexData(this._index, tempMem, tempMem + 4);\n        if (ptr === null)\n            return null;\n        const indexCount = wasm.HEAPU32[tempMem / 4];\n        const indexSize = wasm.HEAPU32[tempMem / 4 + 1];\n        switch (indexSize) {\n            case MeshIndexType.UnsignedByte:\n                return new Uint8Array(wasm.HEAPU8.buffer, ptr, indexCount);\n            case MeshIndexType.UnsignedShort:\n                return new Uint16Array(wasm.HEAPU16.buffer, ptr, indexCount);\n            case MeshIndexType.UnsignedInt:\n                return new Uint32Array(wasm.HEAPU32.buffer, ptr, indexCount);\n        }\n        return null;\n    }\n    /** Hosting engine instance. */\n    get engine() {\n        return this._engine;\n    }\n    /**\n     * Apply changes to {@link attribute | vertex attributes}.\n     *\n     * Uploads the updated vertex attributes to the GPU and updates the bounding\n     * sphere to match the new vertex positions.\n     *\n     * Since this is an expensive operation, call it only once you have performed\n     * all modifications on a mesh and avoid calling if you did not perform any\n     * modifications at all.\n     */\n    update() {\n        this._engine.wasm._wl_mesh_update(this._index);\n    }\n    /**\n     * Mesh bounding sphere.\n     *\n     * @param out Preallocated array to write into, to avoid garbage,\n     *     otherwise will allocate a new {@link Float32Array}.\n     *\n     * ```js\n     *  const sphere = new Float32Array(4);\n     *  for(...) {\n     *      mesh.getBoundingSphere(sphere);\n     *      ...\n     *  }\n     * ```\n     *\n     * If the position data is changed, call {@link Mesh#update} to update the\n     * bounding sphere.\n     *\n     * @returns Bounding sphere, 0-2 sphere origin, 3 radius.\n     */\n    getBoundingSphere(out = new Float32Array(4)) {\n        const tempMemFloat = this._engine.wasm._tempMemFloat;\n        this._engine.wasm._wl_mesh_get_boundingSphere(this._index, this._engine.wasm._tempMem);\n        out[0] = tempMemFloat[0];\n        out[1] = tempMemFloat[1];\n        out[2] = tempMemFloat[2];\n        out[3] = tempMemFloat[3];\n        return out;\n    }\n    attribute(attr) {\n        if (typeof attr != 'number')\n            throw new TypeError('Expected number, but got ' + typeof attr);\n        const tempMemUint32 = this._engine.wasm._tempMemUint32;\n        this._engine.wasm._wl_mesh_get_attribute(this._index, attr, this._engine.wasm._tempMem);\n        if (tempMemUint32[0] == 255)\n            return null;\n        const arraySize = tempMemUint32[5];\n        return new MeshAttributeAccessor(this._engine, {\n            attribute: tempMemUint32[0],\n            offset: tempMemUint32[1],\n            stride: tempMemUint32[2],\n            formatSize: tempMemUint32[3],\n            componentCount: tempMemUint32[4],\n            /* The WASM API returns `0` for a scalar value. We clamp it to 1 as we strictly use it as a multiplier for get/set operations */\n            arraySize: arraySize ? arraySize : 1,\n            length: this.vertexCount,\n            bufferType: (attr !== MeshAttribute.JointId\n                ? Float32Array\n                : Uint16Array),\n        });\n    }\n    /**\n     * Destroy and free the meshes memory.\n     *\n     * It is best practice to set the mesh variable to `null` after calling\n     * destroy to prevent accidental use:\n     *\n     * ```js\n     *   mesh.destroy();\n     *   mesh = null;\n     * ```\n     *\n     * Accessing the mesh after destruction behaves like accessing an empty\n     * mesh.\n     *\n     * @since 0.9.0\n     */\n    destroy() {\n        this._engine.wasm._wl_mesh_destroy(this._index);\n    }\n    /**\n     * Checks equality by comparing whether the wrapped native mesh ids are\n     * equal.\n     *\n     * @param otherMesh Mesh to check equality with.\n     * @returns Whether this mesh equals the given mesh.\n     *\n     * @since 1.0.0\n     */\n    equals(otherMesh) {\n        if (!otherMesh)\n            return false;\n        return this._index === otherMesh._index;\n    }\n}\n/**\n * An iterator over a mesh vertex attribute.\n *\n * Usage:\n *\n * ```js\n *   const mesh = this.object.getComponent('mesh').mesh;\n *   const positions = mesh.attribute(WL.MeshAttribute.Position);\n *\n *   const temp = new Float32Array(3);\n *   for(int i = 0; i < positions.length; ++i) {\n *       // pos will reference temp and thereby not allocate additional\n *       // JavaScript garbage, which would cause a perf spike when collected.\n *       const pos = positions.get(i, temp);\n *       // scale position by 2 on X axis only\n *       pos[0] *= 2.0f;\n *       positions.set(i, pos);\n *   }\n *   // we're done modifying, tell the engine to move vertex data to the GPU\n *   mesh.update();\n * ```\n */\nexport class MeshAttributeAccessor {\n    /** Max number of elements. */\n    length = 0;\n    /** Wonderland Engine instance. @hidden */\n    _engine;\n    /** Attribute index. @hidden */\n    _attribute = -1;\n    /** Attribute offset. @hidden */\n    _offset = 0;\n    /** Attribute stride. @hidden */\n    _stride = 0;\n    /** Format size native enum. @hidden */\n    _formatSize = 0;\n    /** Number of components per vertex. @hidden */\n    _componentCount = 0;\n    /** Number of values per vertex. @hidden */\n    _arraySize = 1;\n    /**\n     * Class to instantiate an ArrayBuffer to get/set values.\n     */\n    _bufferType;\n    /**\n     * Function to allocate temporary WASM memory. It is cached in the accessor to avoid\n     * conditionals during get/set.\n     */\n    _tempBufferGetter;\n    /**\n     * Create a new instance.\n     *\n     * @note Please use {@link Mesh.attribute} to create a new instance.\n     *\n     * @param options Contains information about how to read the data.\n     * @note Do not use this constructor. Instead, please use the {@link Mesh.attribute} method.\n     *\n     * @hidden\n     */\n    constructor(engine, options) {\n        this._engine = engine;\n        const wasm = this._engine.wasm;\n        this._attribute = options.attribute;\n        this._offset = options.offset;\n        this._stride = options.stride;\n        this._formatSize = options.formatSize;\n        this._componentCount = options.componentCount;\n        this._arraySize = options.arraySize;\n        this._bufferType = options.bufferType;\n        this.length = options.length;\n        this._tempBufferGetter = (this._bufferType === Float32Array\n            ? wasm.getTempBufferF32.bind(wasm)\n            : wasm.getTempBufferU16.bind(wasm));\n    }\n    /**\n     * Create a new TypedArray to hold this attribute values.\n     *\n     * This method is useful to create a view to hold the data to\n     * pass to {@link MeshAttributeAccessor.get} and {@link MeshAttributeAccessor.set}\n     *\n     * Example:\n     *\n     * ```js\n     * const vertexCount = 4;\n     * const positionAttribute = mesh.attribute(MeshAttributes.Position);\n     *\n     * // A position has 3 floats per vertex. Thus, positions has length 3 * 4.\n     * const positions = positionAttribute.createArray(vertexCount);\n     * ```\n     *\n     * @param count The number of **vertices** expected.\n     * @returns A TypedArray with the appropriate format to access the data\n     */\n    createArray(count = 1) {\n        count = count > this.length ? this.length : count;\n        return new this._bufferType(count * this._componentCount * this._arraySize);\n    }\n    /**\n     * Get attribute element.\n     *\n     * @param index Index\n     * @param out Preallocated array to write into,\n     *      to avoid garbage, otherwise will allocate a new TypedArray.\n     *\n     * `out.length` needs to be a multiple of the attributes component count, see\n     * {@link MeshAttribute}. If `out.length` is more than one multiple, it will be\n     * filled with the next n attribute elements, which can reduce overhead\n     * of this call.\n     *\n     * @returns The `out` parameter\n     */\n    get(index, out = this.createArray()) {\n        if (out.length % this._componentCount !== 0) {\n            throw new Error(`out.length, ${out.length} is not a multiple of the attribute vector components, ${this._componentCount}`);\n        }\n        const dest = this._tempBufferGetter(out.length);\n        const elementSize = this._bufferType.BYTES_PER_ELEMENT;\n        const destSize = elementSize * out.length;\n        const srcFormatSize = this._formatSize * this._arraySize;\n        const destFormatSize = this._componentCount * elementSize * this._arraySize;\n        this._engine.wasm._wl_mesh_get_attribute_values(this._attribute, srcFormatSize, this._offset + index * this._stride, this._stride, destFormatSize, dest.byteOffset, destSize);\n        for (let i = 0; i < out.length; ++i)\n            out[i] = dest[i];\n        return out;\n    }\n    /**\n     * Set attribute element.\n     *\n     * @param i Index\n     * @param v Value to set the element to\n     *\n     * `v.length` needs to be a multiple of the attributes component count, see\n     * {@link MeshAttribute}. If `v.length` is more than one multiple, it will be\n     * filled with the next n attribute elements, which can reduce overhead\n     * of this call.\n     *\n     * @returns Reference to self (for method chaining)\n     */\n    set(i, v) {\n        if (v.length % this._componentCount !== 0)\n            throw new Error(`out.length, ${v.length} is not a multiple of the attribute vector components, ${this._componentCount}`);\n        const elementSize = this._bufferType.BYTES_PER_ELEMENT;\n        const srcSize = elementSize * v.length;\n        const srcFormatSize = this._componentCount * elementSize * this._arraySize;\n        const destFormatSize = this._formatSize * this._arraySize;\n        const wasm = this._engine.wasm;\n        /* Unless we are already working with data from WASM heap, we\n         * need to copy into temporary memory. */\n        if (v.buffer != wasm.HEAPU8.buffer) {\n            const dest = this._tempBufferGetter(v.length);\n            dest.set(v);\n            v = dest;\n        }\n        wasm._wl_mesh_set_attribute_values(this._attribute, srcFormatSize, v.byteOffset, srcSize, destFormatSize, this._offset + i * this._stride, this._stride);\n        return this;\n    }\n}\n/**\n * Wrapper around a native material.\n *\n * Each material instance will have properties associated to the pipeline it uses.\n * The material properties are automatically added to each material instance, example:\n *\n * ```js\n * const material = mesh.material; // Material with a `Phong Opaque Textured` pipeline\n * // You can access all the material properties from the editor using:\n * material.diffuseTexture = null;\n * material.diffuseColor = [1.0, 0.0, 0.0, 1.0];\n * ```\n */\nexport class Material {\n    /**\n     * Index of this material in the manager.\n     *\n     * @hidden\n     */\n    _index;\n    /**\n     * Material definition index in the scene.\n     *\n     * @hidden\n     */\n    _definition;\n    /** Wonderland Engine instance. @hidden */\n    _engine;\n    /**\n     * Create a new Material.\n     *\n     * @note Creating material is expensive. Please use {@link Material#clone} to clone a material.\n     * @note Do not use this constructor directly with an index, this is reserved for internal purposes.\n     */\n    constructor(engine, params) {\n        this._engine = engine;\n        if (typeof params !== 'number') {\n            if (!params?.pipeline)\n                throw new Error(\"Missing parameter 'pipeline'\");\n            const wasm = this._engine.wasm;\n            const pipeline = params.pipeline;\n            this._index = wasm._wl_material_create(wasm.tempUTF8(pipeline));\n            if (this._index < 0)\n                throw new Error(`No such pipeline '${pipeline}'`);\n        }\n        else {\n            this._index = params;\n        }\n        this._definition = this._engine.wasm._wl_material_get_definition(this._index);\n        if (!this._engine.wasm._materialDefinitions[this._definition])\n            throw new Error(`Material Definition ${this._definition} not found for material with index ${this._index}`);\n        return new Proxy(this, {\n            get(target, prop) {\n                const wasm = engine.wasm;\n                const definition = wasm._materialDefinitions[target._definition];\n                const param = definition.get(prop);\n                if (!param)\n                    return target[prop];\n                if (wasm._wl_material_get_param_value(target._index, param.index, wasm._tempMem)) {\n                    const type = param.type;\n                    switch (type.type) {\n                        case MaterialParamType.UnsignedInt:\n                            return type.componentCount == 1\n                                ? wasm._tempMemUint32[0]\n                                : new Uint32Array(wasm.HEAPU32.buffer, wasm._tempMem, type.componentCount);\n                        case MaterialParamType.Int:\n                            return type.componentCount == 1\n                                ? wasm._tempMemInt[0]\n                                : new Int32Array(wasm.HEAP32.buffer, wasm._tempMem, type.componentCount);\n                        case MaterialParamType.Float:\n                            return type.componentCount == 1\n                                ? wasm._tempMemFloat[0]\n                                : new Float32Array(wasm.HEAPF32.buffer, wasm._tempMem, type.componentCount);\n                        case MaterialParamType.Sampler:\n                            return new Texture(engine, wasm._tempMemInt[0]);\n                        default:\n                            throw new Error(`Invalid type ${type} on parameter ${param.index} for material ${target._index}`);\n                    }\n                }\n            },\n            set(target, prop, value) {\n                const wasm = engine.wasm;\n                const definition = wasm._materialDefinitions[target._definition];\n                const param = definition.get(prop);\n                if (!param) {\n                    target[prop] = value;\n                    return true;\n                }\n                const type = param.type;\n                switch (type.type) {\n                    case MaterialParamType.UnsignedInt:\n                    case MaterialParamType.Int:\n                    case MaterialParamType.Sampler:\n                        const v = value.id ?? value;\n                        wasm._wl_material_set_param_value_uint(target._index, param.index, v);\n                        break;\n                    case MaterialParamType.Float:\n                        let count = 1;\n                        if (typeof value === 'number') {\n                            wasm._tempMemFloat[0] = value;\n                        }\n                        else {\n                            count = value.length;\n                            for (let i = 0; i < count; ++i)\n                                wasm._tempMemFloat[i] = value[i];\n                        }\n                        wasm._wl_material_set_param_value_float(target._index, param.index, wasm._tempMem, count);\n                        break;\n                    case MaterialParamType.Font:\n                        throw new Error('Setting font properties is currently unsupported.');\n                }\n                return true;\n            },\n        });\n    }\n    /** @deprecated Use {@link #pipeline} instead. */\n    get shader() {\n        return this.pipeline;\n    }\n    /** Name of the pipeline used by this material. */\n    get pipeline() {\n        const wasm = this._engine.wasm;\n        return wasm.UTF8ToString((wasm._wl_material_get_pipeline || wasm._wl_material_get_shader)(this._index));\n    }\n    /** Hosting engine instance. */\n    get engine() {\n        return this._engine;\n    }\n    /**\n     * Create a copy of the underlying native material.\n     *\n     * @returns Material clone.\n     */\n    clone() {\n        const id = this._engine.wasm._wl_material_clone(this._index);\n        return id > 0 ? new Material(this._engine, id) : null;\n    }\n    /**\n     * Checks equality by comparing whether the wrapped native material ids are\n     * equal.\n     *\n     * @param otherMaterial Material to check equality with.\n     * @returns Whether this material equals the given material.\n     *\n     * @since 1.0.0\n     */\n    equals(otherMaterial) {\n        if (!otherMaterial)\n            return false;\n        return this._index === otherMaterial._index;\n    }\n    /**\n     * Wrap a native material index.\n     *\n     * @param engine Engine instance.\n     * @param index The index.\n     * @returns Material instance or `null` if index <= 0.\n     *\n     * @deprecated Please use `new Material()` instead.\n     */\n    static wrap(engine, index) {\n        /** @todo: this propagate nullable in the entire codebase. Remove. */\n        return index > 0 ? new Material(engine, index) : null;\n    }\n}\n/** Temporary canvas */\nlet temp2d = null;\n/**\n * Wrapper around a native texture data.\n */\nexport class Texture {\n    /** Wonderland Engine instance. @hidden */\n    _engine;\n    /** Index in the manager. @hidden */\n    _id = 0;\n    /** HTML image index. @hidden */\n    _imageIndex = null;\n    /**\n     * @param engine The engine instance\n     * @param param HTML media element to create texture from or texture id to wrap.\n     */\n    constructor(engine, param) {\n        this._engine = engine ?? WL;\n        const wasm = engine.wasm;\n        if (param instanceof HTMLImageElement ||\n            param instanceof HTMLVideoElement ||\n            param instanceof HTMLCanvasElement) {\n            const index = wasm._images.length;\n            wasm._images.push(param);\n            this._imageIndex = index;\n            this._id = this._engine.wasm._wl_renderer_addImage(index);\n        }\n        else {\n            this._id = param;\n        }\n        this._engine.textures[this._id] = this;\n    }\n    /** Whether this texture is valid. */\n    get valid() {\n        return this._id >= 0;\n    }\n    /** Index in this manager. */\n    get id() {\n        return this._id;\n    }\n    /** Update the texture to match the HTML element (e.g. reflect the current frame of a video). */\n    update() {\n        if (!this.valid || this._imageIndex === null)\n            return;\n        this._engine.wasm._wl_renderer_updateImage(this._id, this._imageIndex);\n    }\n    /** Width of the texture. */\n    get width() {\n        return this._engine.wasm._wl_texture_width(this._id);\n    }\n    /** Height of the texture. */\n    get height() {\n        return this._engine.wasm._wl_texture_height(this._id);\n    }\n    /** Hosting engine instance. */\n    get engine() {\n        return this._engine;\n    }\n    /**\n     * Update a subrange on the texture to match the HTML element (e.g. reflect the current frame of a video).\n     *\n     * Usage:\n     *\n     * ```js\n     * // Copies rectangle of pixel starting from (10, 20)\n     * texture.updateSubImage(10, 20, 600, 400);\n     * ```\n     *\n     * @param x x offset\n     * @param y y offset\n     * @param w width\n     * @param h height\n     */\n    updateSubImage(x, y, w, h) {\n        if (!this.valid || this._imageIndex === null)\n            return;\n        /* Lazy initialize temp canvas */\n        if (!temp2d) {\n            const canvas = document.createElement('canvas');\n            const ctx = canvas.getContext('2d');\n            if (!ctx) {\n                throw new Error('Texture.updateSubImage(): Failed to obtain CanvasRenderingContext2D.');\n            }\n            temp2d = { canvas, ctx };\n        }\n        const wasm = this._engine.wasm;\n        const img = wasm._images[this._imageIndex];\n        if (!img)\n            return;\n        temp2d.canvas.width = w;\n        temp2d.canvas.height = h;\n        temp2d.ctx.drawImage(img, x, y, w, h, 0, 0, w, h);\n        const yOffset = (img.videoHeight ?? img.height) - y - h;\n        wasm._images[this._imageIndex] = temp2d.canvas;\n        wasm._wl_renderer_updateImage(this._id, this._imageIndex, x, yOffset);\n        wasm._images[this._imageIndex] = img;\n    }\n    /**\n     * Destroy and free the texture's texture altas space and memory.\n     *\n     * It is best practice to set the texture variable to `null` after calling\n     * destroy to prevent accidental use of the invalid texture:\n     *\n     * ```js\n     *   texture.destroy();\n     *   texture = null;\n     * ```\n     *\n     * @since 0.9.0\n     */\n    destroy() {\n        this._engine.wasm._wl_texture_destroy(this._id);\n        if (this._imageIndex !== null) {\n            this._engine.wasm._images[this._imageIndex] = null;\n            this._imageIndex = undefined;\n        }\n    }\n    /**\n     * Checks equality by comparing whether the wrapped native texture ids are\n     * equal.\n     *\n     * @param otherTexture Texture to check equality with.\n     * @returns Whether this texture equals the given texture.\n     *\n     * @since 1.0.0\n     */\n    equals(otherTexture) {\n        if (!otherTexture)\n            return false;\n        return this._id === otherTexture._id;\n    }\n}\n/**\n * Wrapper around a native animation.\n */\nexport class Animation {\n    /** Index of the mesh in the manager. @hidden */\n    _index;\n    /** Wonderland Engine instance. @hidden */\n    _engine;\n    /**\n     * @param index Index in the manager\n     */\n    constructor(engine = WL, index) {\n        this._engine = engine;\n        this._index = index;\n    }\n    /** Duration of this animation. */\n    get duration() {\n        return this._engine.wasm._wl_animation_get_duration(this._index);\n    }\n    /** Number of tracks in this animation. */\n    get trackCount() {\n        return this._engine.wasm._wl_animation_get_trackCount(this._index);\n    }\n    /**\n     * Clone this animation retargeted to a new set of objects.\n     *\n     * The clone shares most of the data with the original and is therefore\n     * light-weight.\n     *\n     * **Experimental:** This API might change in upcoming versions.\n     *\n     * If retargeting to {@link Skin}, the join names will be used to determine a mapping\n     * from the previous skin to the new skin. The source skin will be retrieved from\n     * the first track in the animation that targets a joint.\n     *\n     * @param newTargets New targets per track. Expected to have\n     *      {@link Animation#trackCount} elements or to be a {@link Skin}.\n     * @returns The retargeted clone of this animation.\n     */\n    retarget(newTargets) {\n        const wasm = this._engine.wasm;\n        if (newTargets instanceof Skin) {\n            const animId = wasm._wl_animation_retargetToSkin(this._index, newTargets._index);\n            return new Animation(this._engine, animId);\n        }\n        if (newTargets.length != this.trackCount) {\n            throw Error('Expected ' +\n                this.trackCount.toString() +\n                ' targets, but got ' +\n                newTargets.length.toString());\n        }\n        const ptr = wasm._malloc(2 * newTargets.length);\n        for (let i = 0; i < newTargets.length; ++i) {\n            wasm.HEAPU16[ptr >> (1 + i)] = newTargets[i].objectId;\n        }\n        const animId = wasm._wl_animation_retarget(this._index, ptr);\n        wasm._free(ptr);\n        return new Animation(this._engine, animId);\n    }\n    /**\n     * Checks equality by comparing whether the wrapped native animation ids\n     * are equal.\n     *\n     * @param otherAnimation Animation to check equality with.\n     * @returns Whether this animation equals the given animation.\n     *\n     * @since 1.0.0\n     */\n    equals(otherAnimation) {\n        if (!otherAnimation)\n            return false;\n        return this._index === otherAnimation._index;\n    }\n}\n/**\n * Scene graph object.\n *\n * Node in the scene graph or \"entity\". Consists of transformation and a reference\n * to its parent object. Usually holds components and is accessible by components\n * through {@link Component#object}.\n *\n * Objects are stored in a data oriented manner inside WebAssembly memory. This class\n * is a JavaScript API wrapper around this memory for more convenient use in\n * components.\n *\n * Objects can be created and added to a scene through\n * {@link Scene#addObject} on the {@link WonderlandEngine.scene}.\n */\nexport class Object3D {\n    /** Wonderland Engine instance. @hidden */\n    _engine;\n    /**\n     * Object index in the manager.\n     *\n     * @hidden\n     */\n    _objectId = -1;\n    /**\n     * @param o Object id to wrap\n     *\n     * For performance reasons, please use {@link WonderlandEngine.wrapObject}\n     */\n    constructor(engine, o) {\n        this._objectId = o;\n        this._engine = engine;\n    }\n    /**\n     * Name of the object.\n     *\n     * Useful for identifying objects during debugging.\n     */\n    get name() {\n        const wasm = this._engine.wasm;\n        return wasm.UTF8ToString(wasm._wl_object_name(this.objectId));\n    }\n    /**\n     * Set the object's name.\n     *\n     * @param newName The new name to set.\n     */\n    set name(newName) {\n        const wasm = this._engine.wasm;\n        wasm._wl_object_set_name(this.objectId, wasm.tempUTF8(newName));\n    }\n    /**\n     * Parent of this object or `null` if parented to root.\n     */\n    get parent() {\n        const p = this._engine.wasm._wl_object_parent(this.objectId);\n        return p === 0 ? null : this._engine.wrapObject(p);\n    }\n    /**\n     * Children of this object.\n     */\n    get children() {\n        const childrenCount = this._engine.wasm._wl_object_get_children_count(this.objectId);\n        if (childrenCount === 0)\n            return [];\n        const wasm = this._engine.wasm;\n        wasm.requireTempMem(childrenCount * 2);\n        this._engine.wasm._wl_object_get_children(this.objectId, wasm._tempMem, wasm._tempMemSize >> 1);\n        const children = new Array(childrenCount);\n        for (let i = 0; i < childrenCount; ++i) {\n            children[i] = this._engine.wrapObject(wasm._tempMemUint16[i]);\n        }\n        return children;\n    }\n    /**\n     * Reparent object to given object.\n     *\n     * @note Reparenting is not trivial and might have a noticeable performance impact.\n     *\n     * @param newParent New parent or `null` to parent to root\n     */\n    set parent(newParent) {\n        this._engine.wasm._wl_object_set_parent(this.objectId, newParent == null ? 0 : newParent.objectId);\n    }\n    /** Object index in the manager. */\n    get objectId() {\n        return this._objectId;\n    }\n    /** Hosting engine instance. */\n    get engine() {\n        return this._engine;\n    }\n    /** Reset local transformation (translation, rotation and scaling) to identity. */\n    resetTransform() {\n        this._engine.wasm._wl_object_reset_translation_rotation(this.objectId);\n        this._engine.wasm._wl_object_reset_scaling(this.objectId);\n    }\n    /** Reset local translation and rotation to identity */\n    resetTranslationRotation() {\n        this._engine.wasm._wl_object_reset_translation_rotation(this.objectId);\n    }\n    /**\n     * Reset local rotation, keep translation.\n     * @note To reset both rotation and translation, prefer\n     *       {@link resetTranslationRotation}.\n     */\n    resetRotation() {\n        this._engine.wasm._wl_object_reset_rotation(this.objectId);\n    }\n    /**\n     * Reset local translation, keep rotation.\n     * @note To reset both rotation and translation, prefer\n     *       {@link resetTranslationRotation}.\n     */\n    resetTranslation() {\n        this._engine.wasm._wl_object_reset_translation(this.objectId);\n    }\n    /** Reset local scaling to identity (``[1.0, 1.0, 1.0]``). */\n    resetScaling() {\n        this._engine.wasm._wl_object_reset_scaling(this.objectId);\n    }\n    /**\n     * Translate object by a vector in the parent's space.\n     * @param v Vector to translate by.\n     */\n    translate(v) {\n        this._engine.wasm._wl_object_translate(this.objectId, v[0], v[1], v[2]);\n    }\n    /**\n     * Translate object by a vector in object space.\n     * @param v Vector to translate by.\n     */\n    translateObject(v) {\n        this._engine.wasm._wl_object_translate_obj(this.objectId, v[0], v[1], v[2]);\n    }\n    /**\n     * Translate object by a vector in world space.\n     * @param v Vector to translate by.\n     */\n    translateWorld(v) {\n        this._engine.wasm._wl_object_translate_world(this.objectId, v[0], v[1], v[2]);\n    }\n    /**\n     * Rotate around given axis by given angle (degrees) in local space.\n     *\n     * @param a Vector representing the rotation axis.\n     * @param d Angle in degrees.\n     *\n     * @note If the object is translated the rotation will be around\n     *     the parent. To rotate around the object origin, use\n     *     {@link rotateAxisAngleDegObject}\n     *\n     * @see {@link rotateAxisAngleRad}\n     */\n    rotateAxisAngleDeg(a, d) {\n        this._engine.wasm._wl_object_rotate_axis_angle(this.objectId, a[0], a[1], a[2], d);\n    }\n    /**\n     * Rotate around given axis by given angle (radians) in local space.\n     *\n     * @param a Vector representing the rotation axis.\n     * @param d Angle in radians.\n     *\n     * @note If the object is translated the rotation will be around\n     *     the parent. To rotate around the object origin, use\n     *     {@link rotateAxisAngleDegObject}\n     *\n     * @see {@link rotateAxisAngleDeg}\n     */\n    rotateAxisAngleRad(a, d) {\n        this._engine.wasm._wl_object_rotate_axis_angle_rad(this.objectId, a[0], a[1], a[2], d);\n    }\n    /**\n     * Rotate around given axis by given angle (degrees) in object space.\n     *\n     * @param a Vector representing the rotation axis.\n     * @param d Angle in degrees.\n     *\n     * Equivalent to prepending a rotation quaternion to the object's\n     * local transformation.\n     *\n     * @see {@link rotateAxisAngleRadObject}\n     */\n    rotateAxisAngleDegObject(a, d) {\n        this._engine.wasm._wl_object_rotate_axis_angle_obj(this.objectId, a[0], a[1], a[2], d);\n    }\n    /**\n     * Rotate around given axis by given angle (radians) in object space\n     * Equivalent to prepending a rotation quaternion to the object's\n     * local transformation.\n     *\n     * @param a Vector representing the rotation axis\n     * @param d Angle in degrees\n     *\n     * @see {@link rotateAxisAngleDegObject}\n     */\n    rotateAxisAngleRadObject(a, d) {\n        this._engine.wasm._wl_object_rotate_axis_angle_rad_obj(this.objectId, a[0], a[1], a[2], d);\n    }\n    /**\n     * Rotate by a quaternion.\n     *\n     * @param q the Quaternion to rotate by.\n     */\n    rotate(q) {\n        this._engine.wasm._wl_object_rotate_quat(this.objectId, q[0], q[1], q[2], q[3]);\n    }\n    /**\n     * Rotate by a quaternion in object space.\n     *\n     * Equivalent to prepending a rotation quaternion to the object's\n     * local transformation.\n     *\n     * @param q the Quaternion to rotate by.\n     */\n    rotateObject(q) {\n        this._engine.wasm._wl_object_rotate_quat_obj(this.objectId, q[0], q[1], q[2], q[3]);\n    }\n    /**\n     * Scale object by a vector in object space.\n     *\n     * @param v Vector to scale by.\n     */\n    scale(v) {\n        this._engine.wasm._wl_object_scale(this.objectId, v[0], v[1], v[2]);\n    }\n    /** Local / object space transformation. */\n    get transformLocal() {\n        const wasm = this._engine.wasm;\n        return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_object_trans_local(this.objectId), 8);\n    }\n    /**\n     * Set local transform.\n     *\n     * @param t Local space transformation.\n     *\n     * @since 0.8.5\n     */\n    set transformLocal(t) {\n        this.transformLocal.set(t);\n        this.setDirty();\n    }\n    /**\n     * Compute local / object space translation from transformation.\n     *\n     * @param out Destination array/vector, expected to have at least 3 elements.\n     * @return The `out` parameter.\n     */\n    getTranslationLocal(out) {\n        const wasm = this._engine.wasm;\n        wasm._wl_object_get_translation_local(this.objectId, wasm._tempMem);\n        out[0] = wasm._tempMemFloat[0];\n        out[1] = wasm._tempMemFloat[1];\n        out[2] = wasm._tempMemFloat[2];\n        return out;\n    }\n    /**\n     * Compute world space translation from transformation.\n     *\n     * May recompute transformations of the hierarchy of this object,\n     * if they were changed by JavaScript components this frame.\n     *\n     * @param out Destination array/vector, expected to have at least 3 elements.\n     * @return The `out` parameter.\n     */\n    getTranslationWorld(out) {\n        const wasm = this._engine.wasm;\n        wasm._wl_object_get_translation_world(this.objectId, wasm._tempMem);\n        out[0] = wasm._tempMemFloat[0];\n        out[1] = wasm._tempMemFloat[1];\n        out[2] = wasm._tempMemFloat[2];\n        return out;\n    }\n    /**\n     * Set local / object space translation.\n     *\n     * Concatenates a new translation dual quaternion onto the existing rotation.\n     *\n     * @param v New local translation array/vector, expected to have at least 3 elements.\n     */\n    setTranslationLocal(v) {\n        this._engine.wasm._wl_object_set_translation_local(this.objectId, v[0], v[1], v[2]);\n    }\n    /**\n     * Set world space translation.\n     *\n     * Applies the inverse parent transform with a new translation dual quaternion\n     * which is concatenated onto the existing rotation.\n     *\n     * @param v New world translation array/vector, expected to have at least 3 elements.\n     */\n    setTranslationWorld(v) {\n        this._engine.wasm._wl_object_set_translation_world(this.objectId, v[0], v[1], v[2]);\n    }\n    /**\n     * Global / world space transformation.\n     *\n     * May recompute transformations of the hierarchy of this object,\n     * if they were changed by JavaScript components this frame.\n     */\n    get transformWorld() {\n        const wasm = this._engine.wasm;\n        return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_object_trans_world(this.objectId), 8);\n    }\n    /**\n     * Set world transform.\n     *\n     * @param t Global / world space transformation.\n     *\n     * @since 0.8.5\n     */\n    set transformWorld(t) {\n        this.transformWorld.set(t);\n        this._engine.wasm._wl_object_trans_world_to_local(this.objectId);\n    }\n    /** Local / object space scaling. */\n    get scalingLocal() {\n        const wasm = this._engine.wasm;\n        return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_object_scaling_local(this.objectId), 3);\n    }\n    /**\n     * Set local space scaling.\n     *\n     * @param s Global / world space transformation.\n     *\n     * @since 0.8.7\n     */\n    set scalingLocal(s) {\n        this.scalingLocal.set(s);\n        this.setDirty();\n    }\n    /**\n     * Global / world space scaling.\n     *\n     * May recompute transformations of the hierarchy of this object,\n     * if they were changed by JavaScript components this frame.\n     */\n    get scalingWorld() {\n        const wasm = this._engine.wasm;\n        return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_object_scaling_world(this.objectId), 3);\n    }\n    /**\n     * Set world space scaling.\n     *\n     * @param t Global / world space transformation.\n     *\n     * @since 0.8.7\n     */\n    set scalingWorld(s) {\n        this.scalingWorld.set(s);\n        this._engine.wasm._wl_object_scaling_world_to_local(this.objectId);\n    }\n    /**\n     * Local space rotation.\n     *\n     * @since 0.8.7\n     */\n    get rotationLocal() {\n        return this.transformLocal.subarray(0, 4);\n    }\n    /**\n     * Global / world space rotation\n     *\n     * @since 0.8.7\n     */\n    get rotationWorld() {\n        return this.transformWorld.subarray(0, 4);\n    }\n    /**\n     * Set local space rotation.\n     *\n     * @param r Local space rotation\n     *\n     * @since 0.8.7\n     */\n    set rotationLocal(r) {\n        this._engine.wasm._wl_object_set_rotation_local(this.objectId, r[0], r[1], r[2], r[3]);\n    }\n    /**\n     * Set world space rotation.\n     *\n     * @param r Global / world space rotation.\n     *\n     * @since 0.8.7\n     */\n    set rotationWorld(r) {\n        this._engine.wasm._wl_object_set_rotation_world(this.objectId, r[0], r[1], r[2], r[3]);\n    }\n    /**\n     * Compute the object's forward facing world space vector.\n     *\n     * The forward vector in object space is along the negative z-axis, i.e.,\n     * `[0, 0, -1]`.\n     *\n     * @param out Destination array/vector, expected to have at least 3 elements.\n     * @return The `out` parameter.\n     */\n    getForward(out) {\n        out[0] = 0;\n        out[1] = 0;\n        out[2] = -1;\n        this.transformVectorWorld(out);\n        return out;\n    }\n    /**\n     * Compute the object's up facing world space vector.\n     *\n     * @param out Destination array/vector, expected to have at least 3 elements.\n     * @return The `out` parameter.\n     */\n    getUp(out) {\n        out[0] = 0;\n        out[1] = 1;\n        out[2] = 0;\n        this.transformVectorWorld(out);\n        return out;\n    }\n    /**\n     * Compute the object's right facing world space vector.\n     *\n     * @param out Destination array/vector, expected to have at least 3 elements.\n     * @return The `out` parameter.\n     */\n    getRight(out) {\n        out[0] = 1;\n        out[1] = 0;\n        out[2] = 0;\n        this.transformVectorWorld(out);\n        return out;\n    }\n    /**\n     * Transform a vector by this object's world transform.\n     *\n     * @param out Out vector\n     * @param v Vector to transform, default `out`\n     * @return The `out` parameter.\n     *\n     * @since 0.8.7\n     */\n    transformVectorWorld(out, v = out) {\n        const wasm = this._engine.wasm;\n        wasm._tempMemFloat[0] = v[0];\n        wasm._tempMemFloat[1] = v[1];\n        wasm._tempMemFloat[2] = v[2];\n        wasm._wl_object_transformVectorWorld(this.objectId, wasm._tempMem);\n        out[0] = wasm._tempMemFloat[0];\n        out[1] = wasm._tempMemFloat[1];\n        out[2] = wasm._tempMemFloat[2];\n        return out;\n    }\n    /**\n     * Transform a vector by this object's local transform.\n     *\n     * @param out Out vector\n     * @param v Vector to transform, default `out`\n     * @return The `out` parameter.\n     *\n     * @since 0.8.7\n     */\n    transformVectorLocal(out, v = out) {\n        const wasm = this._engine.wasm;\n        wasm._tempMemFloat[0] = v[0];\n        wasm._tempMemFloat[1] = v[1];\n        wasm._tempMemFloat[2] = v[2];\n        wasm._wl_object_transformVectorLocal(this.objectId, wasm._tempMem);\n        out[0] = wasm._tempMemFloat[0];\n        out[1] = wasm._tempMemFloat[1];\n        out[2] = wasm._tempMemFloat[2];\n        return out;\n    }\n    /**\n     * Transform a point by this object's world transform.\n     *\n     * @param out Out point.\n     * @param p Point to transform, default `out`.\n     * @return The `out` parameter.\n     *\n     * @since 0.8.7\n     */\n    transformPointWorld(out, p = out) {\n        const wasm = this._engine.wasm;\n        wasm._tempMemFloat[0] = p[0];\n        wasm._tempMemFloat[1] = p[1];\n        wasm._tempMemFloat[2] = p[2];\n        wasm._wl_object_transformPointWorld(this.objectId, wasm._tempMem);\n        out[0] = wasm._tempMemFloat[0];\n        out[1] = wasm._tempMemFloat[1];\n        out[2] = wasm._tempMemFloat[2];\n        return out;\n    }\n    /**\n     * Transform a point by this object's local transform.\n     *\n     * @param out Out point.\n     * @param p Point to transform, default `out`.\n     * @return The `out` parameter.\n     *\n     * @since 0.8.7\n     */\n    transformPointLocal(out, p = out) {\n        const wasm = this._engine.wasm;\n        wasm._tempMemFloat[0] = p[0];\n        wasm._tempMemFloat[1] = p[1];\n        wasm._tempMemFloat[2] = p[2];\n        wasm._wl_object_transformPointLocal(this.objectId, wasm._tempMem);\n        out[0] = wasm._tempMemFloat[0];\n        out[1] = wasm._tempMemFloat[1];\n        out[2] = wasm._tempMemFloat[2];\n        return out;\n    }\n    /**\n     * Transform a vector by this object's inverse world transform.\n     *\n     * @param out Out vector.\n     * @param v Vector to transform, default `out`.\n     * @return The `out` parameter.\n     *\n     * @since 0.8.7\n     */\n    transformVectorInverseWorld(out, v = out) {\n        const wasm = this._engine.wasm;\n        wasm._tempMemFloat[0] = v[0];\n        wasm._tempMemFloat[1] = v[1];\n        wasm._tempMemFloat[2] = v[2];\n        wasm._wl_object_transformVectorInverseWorld(this.objectId, wasm._tempMem);\n        out[0] = wasm._tempMemFloat[0];\n        out[1] = wasm._tempMemFloat[1];\n        out[2] = wasm._tempMemFloat[2];\n        return out;\n    }\n    /**\n     * Transform a vector by this object's inverse local transform.\n     *\n     * @param out Out vector\n     * @param v Vector to transform, default `out`\n     * @return The `out` parameter.\n     *\n     * @since 0.8.7\n     */\n    transformVectorInverseLocal(out, v = out) {\n        const wasm = this._engine.wasm;\n        wasm._tempMemFloat[0] = v[0];\n        wasm._tempMemFloat[1] = v[1];\n        wasm._tempMemFloat[2] = v[2];\n        wasm._wl_object_transformVectorInverseLocal(this.objectId, wasm._tempMem);\n        out[0] = wasm._tempMemFloat[0];\n        out[1] = wasm._tempMemFloat[1];\n        out[2] = wasm._tempMemFloat[2];\n        return out;\n    }\n    /**\n     * Transform a point by this object's inverse world transform.\n     *\n     * @param out Out point.\n     * @param p Point to transform, default `out`.\n     * @return The `out` parameter.\n     *\n     * @since 0.8.7\n     */\n    transformPointInverseWorld(out, p = out) {\n        const wasm = this._engine.wasm;\n        wasm._tempMemFloat[0] = p[0];\n        wasm._tempMemFloat[1] = p[1];\n        wasm._tempMemFloat[2] = p[2];\n        wasm._wl_object_transformPointInverseWorld(this.objectId, wasm._tempMem);\n        out[0] = wasm._tempMemFloat[0];\n        out[1] = wasm._tempMemFloat[1];\n        out[2] = wasm._tempMemFloat[2];\n        return out;\n    }\n    /**\n     * Transform a point by this object's inverse local transform.\n     *\n     * @param out Out point.\n     * @param p Point to transform, default `out`.\n     * @return The `out` parameter.\n     *\n     * @since 0.8.7\n     */\n    transformPointInverseLocal(out, p = out) {\n        const wasm = this._engine.wasm;\n        wasm._tempMemFloat.set(p);\n        wasm._wl_object_transformPointInverseLocal(this.objectId, wasm._tempMem);\n        out[0] = wasm._tempMemFloat[0];\n        out[1] = wasm._tempMemFloat[1];\n        out[2] = wasm._tempMemFloat[2];\n        return out;\n    }\n    /**\n     * Transform an object space dual quaternion into world space.\n     *\n     * @param out Out transformation.\n     * @param q Local space transformation, default `out`.\n     * @return The `out` parameter.\n     *\n     * @since 0.8.7\n     */\n    toWorldSpaceTransform(out, q = out) {\n        const wasm = this._engine.wasm;\n        wasm._tempMemFloat.set(q);\n        wasm._wl_object_toWorldSpaceTransform(this.objectId, wasm._tempMem);\n        out[0] = wasm._tempMemFloat[0];\n        out[1] = wasm._tempMemFloat[1];\n        out[2] = wasm._tempMemFloat[2];\n        out[3] = wasm._tempMemFloat[3];\n        out[4] = wasm._tempMemFloat[4];\n        out[5] = wasm._tempMemFloat[5];\n        out[6] = wasm._tempMemFloat[6];\n        out[7] = wasm._tempMemFloat[7];\n        return out;\n    }\n    /**\n     * Transform a world space dual quaternion into local space.\n     *\n     * @param out Out transformation\n     * @param q World space transformation, default `out`\n     * @return The `out` parameter.\n     *\n     * @since 0.8.7\n     */\n    toLocalSpaceTransform(out, q = out) {\n        const p = this.parent;\n        if (p) {\n            p.toObjectSpaceTransform(out, q);\n            return out;\n        }\n        if (out !== q) {\n            out[0] = q[0];\n            out[1] = q[1];\n            out[2] = q[2];\n            out[3] = q[3];\n            out[4] = q[4];\n            out[5] = q[5];\n            out[6] = q[6];\n            out[7] = q[7];\n        }\n        return out;\n    }\n    /**\n     * Transform a world space dual quaternion into object space.\n     *\n     * @param out Out transformation.\n     * @param q World space transformation, default `out`\n     * @return The `out` parameter.\n     *\n     * @since 0.8.7\n     */\n    toObjectSpaceTransform(out, q = out) {\n        const wasm = this._engine.wasm;\n        wasm._tempMemFloat.set(q);\n        wasm._wl_object_toObjectSpaceTransform(this.objectId, wasm._tempMem);\n        out[0] = wasm._tempMemFloat[0];\n        out[1] = wasm._tempMemFloat[1];\n        out[2] = wasm._tempMemFloat[2];\n        out[3] = wasm._tempMemFloat[3];\n        out[4] = wasm._tempMemFloat[4];\n        out[5] = wasm._tempMemFloat[5];\n        out[6] = wasm._tempMemFloat[6];\n        out[7] = wasm._tempMemFloat[7];\n        return out;\n    }\n    /**\n     * Turn towards / look at target.\n     *\n     * Rotates the object so that its forward vector faces towards the target\n     * position. The `up` vector acts as a hint to uniquely orient the object's\n     * up direction. When orienting a view component, the projected `up` vector\n     * faces upwards on the viewing plane.\n     *\n     * @param p Target position to turn towards, in world space.\n     * @param up Up vector to align object with, in world space. Default is `[0, 1, 0]`.\n     */\n    lookAt(p, up = UP_VECTOR) {\n        this._engine.wasm._wl_object_lookAt(this.objectId, p[0], p[1], p[2], up[0], up[1], up[2]);\n    }\n    /** Destroy the object with all of its components and remove it from the scene */\n    destroy() {\n        this._engine.wasm._wl_scene_remove_object(this.objectId);\n        this._objectId = -1;\n    }\n    /**\n     * Mark transformation dirty.\n     *\n     * Causes an eventual recalculation of {@link transformWorld}, either\n     * on next {@link getTranslationWorld}, {@link transformWorld} or\n     * {@link scalingWorld} or the beginning of next frame, whichever\n     * happens first.\n     */\n    setDirty() {\n        this._engine.wasm._wl_object_set_dirty(this.objectId);\n    }\n    /**\n     * Disable/enable all components of this object.\n     *\n     * @param b New state for the components.\n     *\n     * @since 0.8.5\n     */\n    set active(b) {\n        const comps = this.getComponents();\n        for (let c of comps) {\n            c.active = b;\n        }\n    }\n    /**\n     * Get a component attached to this object.\n     *\n     * @param typeOrClass Type name. It's also possible to give a class definition.\n     *     In this case, the method will use the `class.TypeName` field to find the component.\n     * @param index=0 Index for component of given type. This can be used to access specific\n     *      components if the object has multiple components of the same type.\n     * @returns The component or `null` if there is no such component on this object\n     */\n    getComponent(typeOrClass, index = 0) {\n        const type = isString(typeOrClass) ? typeOrClass : typeOrClass.TypeName;\n        const wasm = this._engine.wasm;\n        const componentType = wasm._wl_get_component_manager_index(wasm.tempUTF8(type));\n        if (componentType < 0) {\n            /* Not a native component, try js: */\n            const typeIndex = wasm._componentTypeIndices[type];\n            const jsIndex = wasm._wl_get_js_component_index(this.objectId, typeIndex, index);\n            return jsIndex < 0 ? null : this._engine.wasm._components[jsIndex];\n        }\n        const componentId = this._engine.wasm._wl_get_component_id(this.objectId, componentType, index);\n        return this._engine._wrapComponent(type, componentType, componentId);\n    }\n    /**\n     * @param typeOrClass Type name, pass a falsey value (`undefined` or `null`) to retrieve all.\n     *     It's also possible to give a class definition. In this case, the method will use the `class.TypeName` field to\n     *     find the components.\n     * @returns All components of given type attached to this object.\n     *\n     * @note As this function is non-trivial, avoid using it in `update()` repeatedly,\n     *      but rather store its result in `init()` or `start()`\n     * @warning This method will currently return at most 341 components.\n     */\n    getComponents(typeOrClass) {\n        const wasm = this._engine.wasm;\n        let componentType = null;\n        let type = null;\n        if (typeOrClass) {\n            type = isString(typeOrClass) ? typeOrClass : typeOrClass.TypeName;\n            componentType = wasm._typeIndexFor(type);\n        }\n        const components = [];\n        const maxComps = Math.floor((wasm._tempMemSize / 3) * 2);\n        const componentsCount = wasm._wl_object_get_components(this.objectId, wasm._tempMem, maxComps);\n        const offset = 2 * componentsCount;\n        wasm._wl_object_get_component_types(this.objectId, wasm._tempMem + offset, maxComps);\n        const jsManagerIndex = wasm._typeIndexFor('js');\n        for (let i = 0; i < componentsCount; ++i) {\n            const t = wasm._tempMemUint8[i + offset];\n            const componentId = wasm._tempMemUint16[i];\n            /* Handle JS types separately */\n            if (t == jsManagerIndex) {\n                const typeIndex = wasm._wl_get_js_component_index_for_id(componentId);\n                const comp = wasm._components[typeIndex];\n                if (componentType === null || comp.type == type)\n                    components.push(comp);\n                continue;\n            }\n            if (componentType === null) {\n                const managerName = wasm._typeNameFor(t);\n                components.push(this._engine._wrapComponent(managerName, t, componentId));\n            }\n            else if (t == componentType) {\n                /* Optimized manager name retrieval, already have type */\n                components.push(this._engine._wrapComponent(type, componentType, componentId));\n            }\n        }\n        return components;\n    }\n    /**\n     * Add component of given type to the object.\n     *\n     * You can use this function to clone components, see the example below.\n     *\n     * ```js\n     *  // Clone existing component (since 0.8.10)\n     *  let original = this.object.getComponent('mesh');\n     *  otherObject.addComponent('mesh', original);\n     *  // Create component from parameters\n     *  this.object.addComponent('mesh', {\n     *      mesh: someMesh,\n     *      material: someMaterial,\n     *  });\n     * ```\n     *\n     * @param typeOrClass Typename to create a component of. Can be native or\n     *     custom JavaScript component type. It's also possible to give a class definition.\n     *     In this case, the method will use the `class.TypeName` field.\n     * @param params Parameters to initialize properties of the new component,\n     *      can be another component to copy properties from.\n     *\n     * @returns The component or `null` if the type was not found\n     */\n    addComponent(typeOrClass, params) {\n        const wasm = this._engine.wasm;\n        const type = isString(typeOrClass) ? typeOrClass : typeOrClass.TypeName;\n        const componentType = wasm._typeIndexFor(type);\n        let component = null;\n        let componentIndex = null;\n        if (componentType < 0) {\n            /* JavaScript component */\n            if (!(type in wasm._componentTypeIndices)) {\n                throw new TypeError(\"Unknown component type '\" + type + \"'\");\n            }\n            const componentId = wasm._wl_object_add_js_component(this.objectId, wasm._componentTypeIndices[type]);\n            componentIndex = wasm._wl_get_js_component_index_for_id(componentId);\n            component = wasm._components[componentIndex];\n        }\n        else {\n            /* native component */\n            const componentId = wasm._wl_object_add_component(this.objectId, componentType);\n            component = this._engine._wrapComponent(type, componentType, componentId);\n        }\n        if (params !== undefined) {\n            const ctor = component.constructor;\n            for (const key in params) {\n                if (!(key in ctor.Properties))\n                    continue;\n                component[key] = params[key];\n            }\n        }\n        /* Explicitly initialize native components */\n        if (componentType < 0) {\n            /* @todo: `componentIndex` can be null here, that's an error */\n            wasm._wljs_component_init(componentIndex);\n            /* start() is called through onActivate() */\n        }\n        /* If it was not explicitly requested by the user to leave the component inactive,\n         * we activate it as a final step. This invalidates componentIndex! */\n        if (!params || !('active' in params && !params.active)) {\n            component.active = true;\n        }\n        return component;\n    }\n    /**\n     * Whether given object's transformation has changed.\n     */\n    get changed() {\n        return !!this._engine.wasm._wl_object_is_changed(this.objectId);\n    }\n    /**\n     * Checks equality by comparing whether the wrapped native object ids are\n     * equal.\n     *\n     * @param otherObject Object to check equality with.\n     * @returns Whether this object equals the given object.\n     */\n    equals(otherObject) {\n        if (!otherObject)\n            return false;\n        return this.objectId == otherObject.objectId;\n    }\n}\n/**\n * Wrapper around a native skin data.\n */\nexport class Skin {\n    /**\n     * Index of the skin in the manager.\n     * @hidden\n     */\n    _index;\n    /** Wonderland Engine instance. @hidden */\n    _engine;\n    constructor(engine, index) {\n        this._engine = engine;\n        this._index = index;\n    }\n    /** Amount of joints in this skin. */\n    get jointCount() {\n        return this._engine.wasm._wl_skin_get_joint_count(this._index);\n    }\n    /** Joints object ids for this skin */\n    get jointIds() {\n        const wasm = this._engine.wasm;\n        return new Uint16Array(wasm.HEAPU16.buffer, wasm._wl_skin_joint_ids(this._index), this.jointCount);\n    }\n    /**\n     * Dual quaternions in a flat array of size 8 times {@link jointCount}.\n     *\n     * Inverse bind transforms of the skin.\n     */\n    get inverseBindTransforms() {\n        const wasm = this._engine.wasm;\n        return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_skin_inverse_bind_transforms(this._index), 8 * this.jointCount);\n    }\n    /**\n     * Vectors in a flat array of size 3 times {@link jointCount}.\n     *\n     * Inverse bind scalings of the skin.\n     */\n    get inverseBindScalings() {\n        const wasm = this._engine.wasm;\n        return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_skin_inverse_bind_scalings(this._index), 3 * this.jointCount);\n    }\n    /**\n     * Checks equality by comparing whether the wrapped native skin ids are\n     * equal.\n     *\n     * @param otherSkin Skin to check equality with.\n     * @returns Whether this skin equals the given skin.\n     *\n     * @since 1.0.0\n     */\n    equals(otherSkin) {\n        if (!otherSkin)\n            return false;\n        return this._index === otherSkin._index;\n    }\n}\n/* For backward compatibility with < 1.0.0. */\nexport { Object3D as Object };\n/**\n * Ray hit.\n *\n * Result of a {@link Scene.rayCast}.\n *\n * @note this class wraps internal engine data and should only be created internally.\n */\nexport class RayHit {\n    /** Wonderland Engine instance. @hidden */\n    _engine;\n    /** Pointer to the memory heap. */\n    _ptr;\n    /**\n     * @param ptr Pointer to the ray hits memory.\n     */\n    constructor(engine, ptr) {\n        if ((ptr & 3) !== 0) {\n            throw new Error('Misaligned pointer: please report a bug');\n        }\n        this._engine = engine;\n        this._ptr = ptr;\n    }\n    /** Array of ray hit locations. */\n    get locations() {\n        let p = this._ptr;\n        let l = [];\n        for (let i = 0; i < this.hitCount; ++i) {\n            l.push(new Float32Array(this._engine.wasm.HEAPF32.buffer, p + 12 * i, 3));\n        }\n        return l;\n    }\n    /** Array of ray hit normals (only when using {@link Physics#rayCast}. */\n    get normals() {\n        let p = this._ptr + 48;\n        let l = [];\n        for (let i = 0; i < this.hitCount; ++i) {\n            l.push(new Float32Array(this._engine.wasm.HEAPF32.buffer, p + 12 * i, 3));\n        }\n        return l;\n    }\n    /**\n     * Prefer these to recalculating the distance from locations.\n     *\n     * Distances of array hits to ray origin.\n     */\n    get distances() {\n        const p = this._ptr + 48 * 2;\n        return new Float32Array(this._engine.wasm.HEAPF32.buffer, p, this.hitCount);\n    }\n    /** Hit objects */\n    get objects() {\n        let p = this._ptr + (48 * 2 + 16);\n        let objIds = new Uint16Array(this._engine.wasm.HEAPU16.buffer, p, this.hitCount);\n        return [\n            objIds[0] <= 0 ? null : this._engine.wrapObject(objIds[0]),\n            objIds[1] <= 0 ? null : this._engine.wrapObject(objIds[1]),\n            objIds[2] <= 0 ? null : this._engine.wrapObject(objIds[2]),\n            objIds[3] <= 0 ? null : this._engine.wrapObject(objIds[3]),\n        ];\n    }\n    /** Number of hits (max 4) */\n    get hitCount() {\n        return Math.min(this._engine.wasm.HEAPU32[this._ptr / 4 + 30], 4);\n    }\n}\nclass math {\n    /** (Experimental!) Cubic Hermite spline interpolation for vector3 and quaternions.\n     *\n     * With `f == 0`, `out` will be `b`, if `f == 1`, `out` will be c.\n     *\n     * Whether a quaternion or vector3 interpolation is intended is determined by\n     * length of `a`.\n     *\n     * @param out Array to write result to.\n     * @param a First tangent/handle.\n     * @param b First point or quaternion.\n     * @param c Second point or quaternion.\n     * @param d Second handle.\n     * @param f Interpolation factor in [0; 1].\n     * @returns The `out` parameter.\n     *\n     * @since 0.8.6\n     */\n    static cubicHermite(out, a, b, c, d, f, engine = WL) {\n        const wasm = engine.wasm;\n        wasm._tempMemFloat.subarray(0).set(a);\n        wasm._tempMemFloat.subarray(4).set(b);\n        wasm._tempMemFloat.subarray(8).set(c);\n        wasm._tempMemFloat.subarray(12).set(d);\n        const isQuat = a.length == 4;\n        wasm._wl_math_cubicHermite(wasm._tempMem + 4 * 16, wasm._tempMem + 4 * 0, wasm._tempMem + 4 * 4, wasm._tempMem + 4 * 8, wasm._tempMem + 4 * 12, f, isQuat);\n        out[0] = wasm._tempMemFloat[16];\n        out[1] = wasm._tempMemFloat[17];\n        out[2] = wasm._tempMemFloat[18];\n        if (isQuat)\n            out[3] = wasm._tempMemFloat[19];\n        return out;\n    }\n}\nexport { math };\n/**\n * Class for accessing internationalization (i18n) features.\n *\n * Allows {@link I18N.onLanguageChanged \"detecting language change\"},\n * {@link I18N.language \"setting the current language\"} or translating\n * {@link I18N.translate() \"individual terms\"}.\n *\n * Internationalization works with terms,\n * a string type keyword that is linked to a different text for each language.\n *\n * Internally, string parameters for text and js components are\n * automatically swapped during language change, given they are linked to a term.\n * If manual text swapping is desired, {@link I18N.translate()}\n * can be used to retrieve the current translation for any term.\n *\n * You can also use the {@link I18N.onLanguageChanged} to manually update text\n * when a language is changed to for example update a number in a string.\n *\n * @since 1.0.0\n */\nexport class I18N {\n    /**\n     * {@link Emitter} for language change events.\n     *\n     * First parameter to a listener is the old language index,\n     * second parameter is the new language index.\n     *\n     * Usage from a within a component:\n     * ```js\n     * this.engine.i18n.onLanguageChanged.add((oldLanguageIndex, newLanguageIndex) => {\n     *     const oldLanguage = this.engine.i18n.languageName(oldLanguageIndex);\n     *     const newLanguage = this.engine.i18n.languageName(newLanguageIndex);\n     *     console.log(\"Switched from\", oldLanguage, \"to\", newLanguage);\n     * });\n     * ```\n     */\n    onLanguageChanged = new Emitter();\n    /** Wonderland Engine instance. @hidden */\n    _engine;\n    /**\n     * Constructor\n     */\n    constructor(engine) {\n        this._engine = engine;\n    }\n    /**\n     * Set current language and apply translations to linked text parameters.\n     *\n     * @param code Language code to switch to\n     */\n    set language(code) {\n        if (code == null)\n            return;\n        const wasm = this._engine.wasm;\n        wasm._wl_i18n_setLanguage(wasm.tempUTF8(code));\n    }\n    /**\n     * Get current language code.\n     *\n     */\n    get language() {\n        const wasm = this._engine.wasm;\n        const code = wasm._wl_i18n_currentLanguage();\n        if (code === 0)\n            return null;\n        return wasm.UTF8ToString(code);\n    }\n    /**\n     * Get translated string for a term for the currently loaded language.\n     *\n     * @param term Term to translate\n     */\n    translate(term) {\n        const wasm = this._engine.wasm;\n        const translation = wasm._wl_i18n_translate(wasm.tempUTF8(term));\n        if (translation === 0)\n            return null;\n        return wasm.UTF8ToString(translation);\n    }\n    /**\n     * Get the number of languages in the project.\n     *\n     */\n    languageCount() {\n        const wasm = this._engine.wasm;\n        return wasm._wl_i18n_languageCount();\n    }\n    /**\n     * Get a language code.\n     *\n     * @param index Index of the language to get the code from\n     */\n    languageIndex(code) {\n        const wasm = this._engine.wasm;\n        return wasm._wl_i18n_languageIndex(wasm.tempUTF8(code));\n    }\n    /**\n     * Get a language code.\n     *\n     * @param index Index of the language to get the code from\n     */\n    languageCode(index) {\n        const wasm = this._engine.wasm;\n        const code = wasm._wl_i18n_languageCode(index);\n        if (code === 0)\n            return null;\n        return wasm.UTF8ToString(code);\n    }\n    /**\n     * Get a language name.\n     *\n     * @param index Index of the language to get the name from\n     */\n    languageName(index) {\n        const wasm = this._engine.wasm;\n        const name = wasm._wl_i18n_languageName(index);\n        if (name === 0)\n            return null;\n        return wasm.UTF8ToString(name);\n    }\n}\n/** Properties of a WebXR session */\nexport class XR {\n    /** Wonderland WASM bridge. @hidden */\n    #wasm;\n    #mode;\n    constructor(wasm, mode) {\n        this.#wasm = wasm;\n        this.#mode = mode;\n    }\n    /** Current WebXR session mode */\n    get sessionMode() {\n        return this.#mode;\n    }\n    /** Current WebXR session */\n    get session() {\n        return this.#wasm.webxr_session;\n    }\n    /** Current WebXR frame */\n    get frame() {\n        return this.#wasm.webxr_frame;\n    }\n    /**\n     * Get a WebXR reference space of a given reference space type.\n     *\n     * @param type Type of reference space to get\n     * @returns Reference space, or `null` if there's no reference space\n     *     of the requested type available\n     */\n    referenceSpaceForType(type) {\n        return this.#wasm.webxr_refSpaces[type] ?? null;\n    }\n    /** Set current reference space type used for retrieving eye, head, hand and joint poses */\n    set currentReferenceSpace(refSpace) {\n        this.#wasm.webxr_refSpace = refSpace;\n        this.#wasm.webxr_refSpaceType = null;\n        for (const type of Object.keys(this.#wasm.webxr_refSpaces)) {\n            if (this.#wasm.webxr_refSpaces[type] === refSpace) {\n                /* Keep track of reference space type */\n                this.#wasm.webxr_refSpaceType = type;\n            }\n        }\n    }\n    /** Current reference space type used for retrieving eye, head, hand and joint poses */\n    get currentReferenceSpace() {\n        return this.#wasm.webxr_refSpace;\n    }\n    /** Current WebXR reference space type or `null` if not a default reference space */\n    get currentReferenceSpaceType() {\n        return this.#wasm.webxr_refSpaceType;\n    }\n    /** Current WebXR base layer  */\n    get baseLayer() {\n        return this.#wasm.webxr_baseLayer;\n    }\n    /** Current WebXR framebuffer */\n    get framebuffers() {\n        if (!Array.isArray(this.#wasm.webxr_fbo)) {\n            return [this.#wasm.GL.framebuffers[this.#wasm.webxr_fbo]];\n        }\n        return this.#wasm.webxr_fbo.map((id) => this.#wasm.GL.framebuffers[id]);\n    }\n}\n", "import { Type } from './property.js';\nimport { Animation, Component, Material, Mesh, Skin, Texture, XR, } from './wonderland.js';\n/**\n * Default component parameter value per type.\n */\nconst _componentDefaults = new Map([\n    [Type.Bool, false],\n    [Type.Int, 0],\n    [Type.Float, 0.0],\n    [Type.String, ''],\n    [Type.Enum, undefined],\n    [Type.Object, null],\n    [Type.Mesh, null],\n    [Type.Texture, null],\n    [Type.Material, null],\n    [Type.Animation, null],\n    [Type.Skin, null],\n    [Type.Color, [0.0, 0.0, 0.0, 1.0]],\n]);\n/**\n * Setup the defaults value of the properties on a given\n * component class.\n *\n * @param ctor The component class\n */\nfunction _setupDefaults(ctor) {\n    for (const name in ctor.Properties) {\n        const p = ctor.Properties[name];\n        if (p.type === Type.Enum) {\n            /* Enum default can be a string or an index. Convert to and/or\n             * sanity-check the index. */\n            if (p.values?.length) {\n                /* Don't try to look up the default if the user specified a\n                 * number or we already converted to one. */\n                if (typeof p.default !== 'number') {\n                    /* If undefined, missing element or wrong type this returns\n                     * -1 which becomes 0 below. This matches editor behavior. */\n                    p.default = p.values.indexOf(p.default);\n                }\n                if (p.default < 0 || p.default >= p.values.length) {\n                    p.default = 0;\n                }\n            }\n            else {\n                /* There's no index value that makes sense */\n                p.default = undefined;\n            }\n        }\n        else {\n            p.default = p.default ?? _componentDefaults.get(p.type);\n        }\n        ctor.prototype[name] = p.default;\n    }\n}\n/**\n * Low-level wrapper to interact with the WebAssembly code.\n *\n * @hidden\n */\nexport class WASM {\n    /**\n     * Emscripten worker field.\n     *\n     * @note This api is meant to be used internally.\n     */\n    worker = '';\n    /**\n     * Emscripten wasm field.\n     *\n     * @note This api is meant to be used internally.\n     */\n    wasm = null;\n    /** Current WebXR  */\n    /**\n     * Emscripten WebXR session.\n     *\n     * @note This api is meant to be used internally.\n     */\n    webxr_session = null;\n    /**\n     * Emscripten WebXR request session callback.\n     *\n     * @note This api is meant to be used internally.\n     */\n    webxr_requestSession = null;\n    /**\n     * Emscripten WebXR frame.\n     *\n     * @note This api is meant to be used internally.\n     */\n    webxr_frame = null;\n    /**\n     * Emscripten current WebXR reference space.\n     *\n     * @note This api is meant to be used internally.\n     */\n    webxr_refSpace = null;\n    /**\n     * Emscripten WebXR reference spaces.\n     *\n     * @note This api is meant to be used internally.\n     */\n    webxr_refSpaces = null;\n    /**\n     * Emscripten WebXR current reference space type.\n     *\n     * @note This api is meant to be used internally.\n     */\n    webxr_refSpaceType = null;\n    /**\n     * Emscripten WebXR GL projection layer.\n     *\n     * @note This api is meant to be used internally.\n     */\n    webxr_baseLayer = null;\n    /**\n     * Emscripten WebXR framebuffer scale factor.\n     *\n     * @note This api is meant to be used internally.\n     */\n    webxr_framebufferScaleFactor = 1.0;\n    /**\n     * Emscripten WebXR framebuffer(s).\n     *\n     * @note This api is meant to be used internally.\n     */\n    webxr_fbo = -1;\n    /**\n     * Convert a WASM memory view to a JavaScript string.\n     *\n     * @param ptr Pointer start\n     * @param ptrEnd Pointer end\n     * @returns JavaScript string\n     */\n    UTF8ViewToString;\n    /** If `true`, logs will not spam the console on error. */\n    _deactivate_component_on_error = false;\n    /** Temporary memory pointer. */\n    _tempMem = null;\n    /** Temporary memory size. */\n    _tempMemSize = 0;\n    /** Temporary float memory view. */\n    _tempMemFloat = null;\n    /** Temporary int memory view. */\n    _tempMemInt = null;\n    /** Temporary uint8 memory view. */\n    _tempMemUint8 = null;\n    /** Temporary uint32 memory view. */\n    _tempMemUint32 = null;\n    /** Temporary uint16 memory view. */\n    _tempMemUint16 = null;\n    /** Loading screen .bin file data */\n    _loadingScreen = null;\n    /** List of callbacks triggered when the scene is loaded. */\n    _sceneLoadedCallback = [];\n    /**\n     * Material definition cache. Each pipeline has its own\n     * associated material definition.\n     */\n    _materialDefinitions = [];\n    /** Image cache. */\n    _images = [];\n    /** Component instances. */\n    _components = [];\n    /** Component Type info. */\n    _componentTypes = [];\n    /** Index per component type name. */\n    _componentTypeIndices = {};\n    /** Wonderland engine instance. */\n    _engine = null;\n    /**\n     * `true` if this runtime is using physx.\n     *\n     * @note This api is meant to be used internally.\n     */\n    _withPhysX = false;\n    /** Decoder for UTF8 `ArrayBuffer` to JavaScript string. */\n    _utf8Decoder = new TextDecoder('utf8');\n    /**\n     * Create a new instance of the WebAssembly <> API bridge.\n     *\n     * @param threads `true` if the runtime used has threads support\n     */\n    constructor(threads) {\n        if (threads) {\n            this.UTF8ViewToString = (s, e) => {\n                if (!s)\n                    return '';\n                return this._utf8Decoder.decode(this.HEAPU8.slice(s, e));\n            };\n            return;\n        }\n        this.UTF8ViewToString = (s, e) => {\n            if (!s)\n                return '';\n            return this._utf8Decoder.decode(this.HEAPU8.subarray(s, e));\n        };\n    }\n    /**\n     * Reset the cache of the library\n     *\n     * @note Should only be called when tearing down the runtime.\n     */\n    reset() {\n        this._materialDefinitions = [];\n        this._images = [];\n        this._components = [];\n        this._componentTypes = [];\n        this._componentTypeIndices = {};\n    }\n    /**\n     * Checks whether the given component is registered or not.\n     *\n     * @param ctor  A string representing the component typename (e.g., `'cursor-component'`).\n     * @returns `true` if the component is registered, `false` otherwise.\n     */\n    isRegistered(type) {\n        return type in this._componentTypeIndices;\n    }\n    /**\n     * Register a legacy component in this Emscripten instance.\n     *\n     * @note This api is meant to be used internally.\n     *\n     * @param typeName The name of the component.\n     * @param params An object containing the parameters (properties).\n     * @param object The object's prototype.\n     * @returns The registration index\n     */\n    _registerComponentLegacy(typeName, params, object) {\n        const ctor = class CustomComponent extends Component {\n        };\n        ctor.TypeName = typeName;\n        ctor.Properties = params;\n        Object.assign(ctor.prototype, object);\n        return this._registerComponent(ctor);\n    }\n    /**\n     * Register a class component in this Emscripten instance.\n     *\n     * @note This api is meant to be used internally.\n     *\n     * @param ctor The class to register.\n     * @param recursive If `true`, automatically registers dependencies.\n     * @returns The registration index.\n     */\n    _registerComponent(ctor, recursive = false) {\n        if (!ctor.TypeName)\n            throw new Error('no name provided for component.');\n        const dependencies = ctor.Dependencies;\n        if (recursive && dependencies) {\n            for (const dependency of dependencies) {\n                /* For dependencies, we skip potential over-registration. */\n                if (!this.isRegistered(dependency.TypeName)) {\n                    this._registerComponent(dependency, recursive);\n                }\n            }\n        }\n        _setupDefaults(ctor);\n        const typeIndex = ctor.TypeName in this._componentTypeIndices\n            ? this._componentTypeIndices[ctor.TypeName]\n            : this._componentTypes.length;\n        this._componentTypes[typeIndex] = ctor;\n        this._componentTypeIndices[ctor.TypeName] = typeIndex;\n        console.log('WL: registered component', ctor.TypeName, 'with index', typeIndex);\n        return typeIndex;\n    }\n    /**\n     * Allocate the requested amount of temporary memory\n     * in this WASM instance.\n     *\n     * @param size The number of bytes to allocate\n     */\n    allocateTempMemory(size) {\n        console.log('Allocating temp mem:', size);\n        this._tempMemSize = size;\n        if (this._tempMem)\n            this._free(this._tempMem);\n        this._tempMem = this._malloc(this._tempMemSize);\n        this.updateTempMemory();\n    }\n    /**\n     * @todo: Delete this and only keep `allocateTempMemory`\n     *\n     * @param size Number of bytes to allocate\n     */\n    requireTempMem(size) {\n        if (this._tempMemSize >= size)\n            return;\n        /* Grow in 1kb increments */\n        this.allocateTempMemory(Math.ceil(size / 1024) * 1024);\n    }\n    /**\n     * Update the temporary memory views. This must be called whenever the\n     * temporary memory address changes.\n     *\n     * @note This api is meant to be used internally.\n     */\n    updateTempMemory() {\n        this._tempMemFloat = new Float32Array(this.HEAP8.buffer, this._tempMem, this._tempMemSize >> 2);\n        this._tempMemInt = new Int32Array(this.HEAP8.buffer, this._tempMem, this._tempMemSize >> 2);\n        this._tempMemUint32 = new Uint32Array(this.HEAP8.buffer, this._tempMem, this._tempMemSize >> 2);\n        this._tempMemUint16 = new Uint16Array(this.HEAP8.buffer, this._tempMem, this._tempMemSize >> 1);\n        this._tempMemUint8 = new Uint8Array(this.HEAP8.buffer, this._tempMem, this._tempMemSize);\n    }\n    /**\n     * Returns a uint8 buffer view on temporary WASM memory.\n     *\n     * **Note**: this method might allocate if the requested memory is bigger\n     * than the current temporary memory allocated.\n     *\n     * @param count The number of **elements** required\n     * @returns A {@link TypedArray} over the WASM memory\n     */\n    getTempBufferU8(count) {\n        this.requireTempMem(count);\n        return this._tempMemUint8;\n    }\n    /**\n     * Returns a uint16 buffer view on temporary WASM memory.\n     *\n     * **Note**: this method might allocate if the requested memory is bigger\n     * than the current temporary memory allocated.\n     *\n     * @param count The number of **elements** required\n     * @returns A {@link TypedArray} over the WASM memory\n     */\n    getTempBufferU16(count) {\n        this.requireTempMem(count * 2);\n        return this._tempMemUint16;\n    }\n    /**\n     * Returns a uint32 buffer view on temporary WASM memory.\n     *\n     * **Note**: this method might allocate if the requested memory is bigger\n     * than the current temporary memory allocated.\n     *\n     * @param count The number of **elements** required.\n     * @returns A {@link TypedArray} over the WASM memory.\n     */\n    getTempBufferU32(count) {\n        this.requireTempMem(count * 4);\n        return this._tempMemUint32;\n    }\n    /**\n     * Returns a int32 buffer view on temporary WASM memory.\n     *\n     * **Note**: this method might allocate if the requested memory is bigger\n     * than the current temporary memory allocated.\n     *\n     * @param count The number of **elements** required.\n     * @returns A {@link TypedArray} over the WASM memory.\n     */\n    getTempBufferI32(count) {\n        this.requireTempMem(count * 4);\n        return this._tempMemInt;\n    }\n    /**\n     * Returns a float32 buffer view on temporary WASM memory.\n     *\n     * **Note**: this method might allocate if the requested memory is bigger\n     * than the current temporary memory allocated.\n     *\n     * @param count The number of **elements** required.\n     * @returns A {@link TypedArray} over the WASM memory.\n     */\n    getTempBufferF32(count) {\n        this.requireTempMem(count * 4);\n        return this._tempMemFloat;\n    }\n    /**\n     * Copy the string into temporary WASM memory and retrieve the pointer.\n     *\n     * @note This method will compute the strlen and append a `\\0`.\n     *\n     * @note The result should be used **directly** otherwise it might get\n     * overridden by any next call modifying the temporary memory.\n     *\n     * @param str The string to write to temporary memory\n     * @return The temporary pointer onto the WASM memory\n     */\n    tempUTF8(str) {\n        const strLen = this.lengthBytesUTF8(str) + 1;\n        this.requireTempMem(strLen);\n        this.stringToUTF8(str, this._tempMem, strLen);\n        return this._tempMem;\n    }\n    /**\n     * Return the index of the component type.\n     *\n     * @note This method uses malloc and copies the string\n     * to avoid overwriting caller's temporary data.\n     *\n     * @param type The type\n     * @return The component type index\n     */\n    _typeIndexFor(type) {\n        const lengthBytes = this.lengthBytesUTF8(type) + 1;\n        const mem = this._malloc(lengthBytes);\n        this.stringToUTF8(type, mem, lengthBytes);\n        const componentType = this._wl_get_component_manager_index(mem);\n        this._free(mem);\n        return componentType;\n    }\n    /**\n     * Return the name of component type stored at the given index.\n     *\n     * @param typeIndex The type index\n     * @return The name as a string\n     */\n    _typeNameFor(typeIndex) {\n        return this.UTF8ToString(this._wl_component_manager_name(typeIndex));\n    }\n    /**\n     * Returns `true` if the runtime supports physx or not.\n     */\n    get withPhysX() {\n        return this._withPhysX;\n    }\n    /**\n     * Set the engine instance holding this bridge.\n     *\n     * @note This api is meant to be used internally.\n     *\n     * @param engine The engine instance.\n     */\n    _setEngine(engine) {\n        this._engine = engine;\n    }\n    /* WebAssembly to JS call bridge. */\n    _wljs_xr_session_start(mode) {\n        this._engine.xr = new XR(this, mode);\n        this._engine.onXRSessionStart.notify(this.webxr_session, mode);\n    }\n    _wljs_xr_session_end() {\n        this._engine.onXRSessionEnd.notify();\n        this._engine.xr = null;\n    }\n    _wljs_xr_disable() {\n        /* @todo This could directly be fully handled in JS. */\n        this._engine.arSupported = false;\n        this._engine.vrSupported = false;\n    }\n    _wljs_allocate(numComponents) {\n        this._components = new Array(numComponents);\n    }\n    _wljs_init(withPhysX) {\n        this._withPhysX = withPhysX;\n        /* Target memory for JS API functions that return arrays */\n        this.allocateTempMemory(1024);\n    }\n    _wljs_reallocate(numComponents) {\n        if (numComponents > this._components.length) {\n            this._components.length = numComponents;\n        }\n    }\n    _wljs_scene_add_material_definition(definitionId) {\n        const definition = new Map();\n        /* Cache material definition for faster read/write */\n        const nbParams = this._wl_material_definition_get_count(definitionId);\n        for (let i = 0; i < nbParams; ++i) {\n            const name = this.UTF8ToString(this._wl_material_definition_get_param_name(definitionId, i));\n            const t = this._wl_material_definition_get_param_type(definitionId, i);\n            definition.set(name, {\n                index: i,\n                type: {\n                    type: t & 0xff,\n                    componentCount: (t >> 8) & 0xff,\n                    metaType: (t >> 16) & 0xff,\n                },\n            });\n        }\n        this._materialDefinitions[definitionId] = definition;\n    }\n    _wljs_set_component_param_bool(c, p, pe, v) {\n        const param = this.UTF8ViewToString(p, pe);\n        this._components[c][param] = v !== 0;\n    }\n    _wljs_set_component_param_int(c, p, pe, v) {\n        const param = this.UTF8ViewToString(p, pe);\n        this._components[c][param] = v;\n    }\n    _wljs_set_component_param_float(c, p, pe, v) {\n        const param = this.UTF8ViewToString(p, pe);\n        this._components[c][param] = v;\n    }\n    _wljs_set_component_param_string(c, p, pe, v, ve) {\n        const param = this.UTF8ViewToString(p, pe);\n        const value = this.UTF8ViewToString(v, ve);\n        this._components[c][param] = value;\n    }\n    _wljs_set_component_param_color(c, p, pe, v) {\n        const param = this.UTF8ViewToString(p, pe);\n        this._components[c][param] = new Float32Array([0, 8, 16, 24].map((s) => ((v >>> s) & 0xff) / 255.0));\n    }\n    _wljs_set_component_param_object(c, p, pe, v) {\n        const param = this.UTF8ViewToString(p, pe);\n        this._components[c][param] =\n            v > 0 ? this._engine.wrapObject(v) : null;\n    }\n    _wljs_set_component_param_mesh(c, p, pe, v) {\n        const param = this.UTF8ViewToString(p, pe);\n        this._components[c][param] =\n            v > 0 ? new Mesh(this._engine, v) : null;\n    }\n    _wljs_set_component_param_texture(c, p, pe, v) {\n        const param = this.UTF8ViewToString(p, pe);\n        this._components[c][param] =\n            v > 0 ? new Texture(this._engine, v) : null;\n    }\n    _wljs_set_component_param_material(c, p, pe, v) {\n        const param = this.UTF8ViewToString(p, pe);\n        this._components[c][param] =\n            v > 0 ? new Material(this._engine, v) : null;\n    }\n    _wljs_set_component_param_animation(c, p, pe, v) {\n        const param = this.UTF8ViewToString(p, pe);\n        this._components[c][param] =\n            v > 0 ? new Animation(this._engine, v) : null;\n    }\n    _wljs_set_component_param_skin(c, p, pe, v) {\n        const param = this.UTF8ViewToString(p, pe);\n        this._components[c][param] =\n            v > 0 ? new Skin(this._engine, v) : null;\n    }\n    _wljs_get_component_type_index(namePtr, nameEndPtr) {\n        return this._componentTypeIndices[this.UTF8ViewToString(namePtr, nameEndPtr)];\n    }\n    _wljs_component_create(jsManagerIndex, index, id, type, object) {\n        const ctor = this._componentTypes[type];\n        const component = new ctor();\n        /* Sets the manager and identifier from the outside, to simplify the user's constructor. */\n        /* @ts-ignore */\n        component._engine = this._engine;\n        component._manager = jsManagerIndex;\n        component._id = id;\n        component._object = this._engine.wrapObject(object);\n        this._components[index] = component;\n        return component;\n    }\n    _wljs_component_init(component) {\n        const c = this._components[component];\n        if (c.init) {\n            try {\n                c.init();\n            }\n            catch (e) {\n                console.error(`Exception during ${c.type} init() on object ${c.object.name}`);\n                console.error(e);\n            }\n        }\n        if (c.start) {\n            /* Arm onActivate() with the initial start() call */\n            const oldActivate = c.onActivate;\n            c.onActivate = function () {\n                /* As \"component\" is the component index, which may change\n                 * through calls to init() and start(), we call it on the\n                 * calling object, which will be the component, instead of\n                 * wljs_component_start() etc */\n                try {\n                    if (this.start)\n                        this.start();\n                }\n                catch (e) {\n                    console.error(`Exception during ${this.type} start() on object ${this.object.name}`);\n                    console.error(e);\n                }\n                this.onActivate = oldActivate;\n                if (this.onActivate) {\n                    try {\n                        this.onActivate();\n                    }\n                    catch (e) {\n                        console.error(`Exception during ${this.type} onActivate() on object ${this.object.name}`);\n                        console.error(e);\n                    }\n                }\n            };\n        }\n    }\n    _wljs_component_update(component, dt) {\n        const c = this._components[component];\n        if (!c) {\n            console.warn('WL: component was undefined:', component);\n            this._components[component] = new Component(this._engine);\n            return;\n        }\n        if (!c.update)\n            return;\n        try {\n            c.update(dt);\n        }\n        catch (e) {\n            console.error(`Exception during ${c.type} update() on object ${c.object.name}`);\n            console.error(e);\n            if (this._deactivate_component_on_error)\n                c.active = false;\n        }\n    }\n    _wljs_component_onActivate(component) {\n        const c = this._components[component];\n        if (!c || !c.onActivate)\n            return;\n        try {\n            c.onActivate();\n        }\n        catch (e) {\n            console.error(`Exception during ${c.type} onActivate() on object ${c.object.name}`);\n            console.error(e);\n        }\n    }\n    _wljs_component_onDeactivate(component) {\n        const c = this._components[component];\n        if (!c.onDeactivate)\n            return;\n        try {\n            c.onDeactivate();\n        }\n        catch (e) {\n            console.error(`Exception during ${c.type} onDeactivate() on object ${c.object.name}`);\n            console.error(e);\n        }\n    }\n    _wljs_component_onDestroy(component) {\n        const c = this._components[component];\n        if (!c.onDestroy)\n            return;\n        try {\n            c.onDestroy();\n        }\n        catch (e) {\n            console.error(`Exception during ${c.type} onDestroy() on object ${c.object.name}`);\n            console.error(e);\n        }\n    }\n    _wljs_swap(a, b) {\n        const componentA = this._components[a];\n        this._components[a] = this._components[b];\n        this._components[b] = componentA;\n    }\n    /* JS to WebAssembly bridge. */\n    HEAP8 = null;\n    HEAPU8 = null;\n    HEAPU16 = null;\n    HEAPU32 = null;\n    HEAP32 = null;\n    HEAPF32 = null;\n    GL = null;\n    assert = null;\n    _free = null;\n    _malloc = null;\n    lengthBytesUTF8 = null;\n    stringToUTF8 = null;\n    UTF8ToString = null;\n    addFunction = null;\n    _wl_set_error_callback = null;\n    _wl_application_start = null;\n    _wl_scene_get_active_views = null;\n    _wl_scene_ray_cast = null;\n    _wl_scene_add_object = null;\n    _wl_scene_add_objects = null;\n    _wl_scene_reserve_objects = null;\n    _wl_scene_set_clearColor = null;\n    _wl_scene_enableColorClear = null;\n    _wl_load_scene = null;\n    _wl_append_scene = null;\n    _wl_scene_reset = null;\n    _wl_component_get_object = null;\n    _wl_component_setActive = null;\n    _wl_component_isActive = null;\n    _wl_component_remove = null;\n    _wl_collision_component_get_collider = null;\n    _wl_collision_component_set_collider = null;\n    _wl_collision_component_get_extents = null;\n    _wl_collision_component_get_group = null;\n    _wl_collision_component_set_group = null;\n    _wl_collision_component_query_overlaps = null;\n    _wl_text_component_get_horizontal_alignment = null;\n    _wl_text_component_set_horizontal_alignment = null;\n    _wl_text_component_get_vertical_alignment = null;\n    _wl_text_component_set_vertical_alignment = null;\n    _wl_text_component_get_character_spacing = null;\n    _wl_text_component_set_character_spacing = null;\n    _wl_text_component_get_line_spacing = null;\n    _wl_text_component_set_line_spacing = null;\n    _wl_text_component_get_effect = null;\n    _wl_text_component_set_effect = null;\n    _wl_text_component_get_text = null;\n    _wl_text_component_set_text = null;\n    _wl_text_component_set_material = null;\n    _wl_text_component_get_material = null;\n    _wl_view_component_get_projection_matrix = null;\n    _wl_view_component_get_near = null;\n    _wl_view_component_set_near = null;\n    _wl_view_component_get_far = null;\n    _wl_view_component_set_far = null;\n    _wl_view_component_get_fov = null;\n    _wl_view_component_set_fov = null;\n    _wl_input_component_get_type = null;\n    _wl_input_component_set_type = null;\n    _wl_light_component_get_color = null;\n    _wl_light_component_get_type = null;\n    _wl_light_component_set_type = null;\n    _wl_animation_component_get_animation = null;\n    _wl_animation_component_set_animation = null;\n    _wl_animation_component_get_playCount = null;\n    _wl_animation_component_set_playCount = null;\n    _wl_animation_component_get_speed = null;\n    _wl_animation_component_set_speed = null;\n    _wl_animation_component_play = null;\n    _wl_animation_component_stop = null;\n    _wl_animation_component_pause = null;\n    _wl_animation_component_state = null;\n    _wl_mesh_component_get_material = null;\n    _wl_mesh_component_set_material = null;\n    _wl_mesh_component_get_mesh = null;\n    _wl_mesh_component_set_mesh = null;\n    _wl_mesh_component_get_skin = null;\n    _wl_mesh_component_set_skin = null;\n    _wl_physx_component_get_static = null;\n    _wl_physx_component_set_static = null;\n    _wl_physx_component_get_kinematic = null;\n    _wl_physx_component_set_kinematic = null;\n    _wl_physx_component_get_gravity = null;\n    _wl_physx_component_set_gravity = null;\n    _wl_physx_component_get_simulate = null;\n    _wl_physx_component_set_simulate = null;\n    _wl_physx_component_get_allowSimulation = null;\n    _wl_physx_component_set_allowSimulation = null;\n    _wl_physx_component_get_allowQuery = null;\n    _wl_physx_component_set_allowQuery = null;\n    _wl_physx_component_get_trigger = null;\n    _wl_physx_component_set_trigger = null;\n    _wl_physx_component_get_shape = null;\n    _wl_physx_component_set_shape = null;\n    _wl_physx_component_get_shape_data = null;\n    _wl_physx_component_set_shape_data = null;\n    _wl_physx_component_get_extents = null;\n    _wl_physx_component_get_staticFriction = null;\n    _wl_physx_component_set_staticFriction = null;\n    _wl_physx_component_get_dynamicFriction = null;\n    _wl_physx_component_set_dynamicFriction = null;\n    _wl_physx_component_get_bounciness = null;\n    _wl_physx_component_set_bounciness = null;\n    _wl_physx_component_get_linearDamping = null;\n    _wl_physx_component_set_linearDamping = null;\n    _wl_physx_component_get_angularDamping = null;\n    _wl_physx_component_set_angularDamping = null;\n    _wl_physx_component_get_linearVelocity = null;\n    _wl_physx_component_set_linearVelocity = null;\n    _wl_physx_component_get_angularVelocity = null;\n    _wl_physx_component_set_angularVelocity = null;\n    _wl_physx_component_get_groupsMask = null;\n    _wl_physx_component_set_groupsMask = null;\n    _wl_physx_component_get_blocksMask = null;\n    _wl_physx_component_set_blocksMask = null;\n    _wl_physx_component_get_linearLockAxis = null;\n    _wl_physx_component_set_linearLockAxis = null;\n    _wl_physx_component_get_angularLockAxis = null;\n    _wl_physx_component_set_angularLockAxis = null;\n    _wl_physx_component_get_mass = null;\n    _wl_physx_component_set_mass = null;\n    _wl_physx_component_set_massSpaceInertiaTensor = null;\n    _wl_physx_component_addForce = null;\n    _wl_physx_component_addForceAt = null;\n    _wl_physx_component_addTorque = null;\n    _wl_physx_component_addCallback = null;\n    _wl_physx_component_removeCallback = null;\n    _wl_physx_update = null;\n    _wl_physx_update_global_pose = null;\n    _wl_physx_ray_cast = null;\n    _wl_physx_set_collision_callback = null;\n    _wl_mesh_create = null;\n    _wl_mesh_get_vertexData = null;\n    _wl_mesh_get_vertexCount = null;\n    _wl_mesh_get_indexData = null;\n    _wl_mesh_update = null;\n    _wl_mesh_get_boundingSphere = null;\n    _wl_mesh_get_attribute = null;\n    _wl_mesh_destroy = null;\n    _wl_mesh_get_attribute_values = null;\n    _wl_mesh_set_attribute_values = null;\n    _wl_material_create = null;\n    _wl_material_get_definition = null;\n    _wl_material_definition_get_count = null;\n    _wl_material_definition_get_param_name = null;\n    _wl_material_definition_get_param_type = null;\n    /** @deprecated */\n    _wl_material_get_shader = null;\n    _wl_material_get_pipeline = null;\n    _wl_material_clone = null;\n    _wl_material_get_param_index = null;\n    _wl_material_get_param_type = null;\n    _wl_material_get_param_value = null;\n    _wl_material_set_param_value_uint = null;\n    _wl_material_set_param_value_float = null;\n    _wl_renderer_addImage = null;\n    _wl_texture_width = null;\n    _wl_texture_height = null;\n    _wl_renderer_updateImage = null;\n    _wl_texture_destroy = null;\n    _wl_animation_get_duration = null;\n    _wl_animation_get_trackCount = null;\n    _wl_animation_retargetToSkin = null;\n    _wl_animation_retarget = null;\n    _wl_object_name = null;\n    _wl_object_set_name = null;\n    _wl_object_parent = null;\n    _wl_object_get_children_count = null;\n    _wl_object_get_children = null;\n    _wl_object_set_parent = null;\n    _wl_object_reset_scaling = null;\n    _wl_object_reset_translation_rotation = null;\n    _wl_object_reset_rotation = null;\n    _wl_object_reset_translation = null;\n    _wl_object_translate = null;\n    _wl_object_translate_obj = null;\n    _wl_object_translate_world = null;\n    _wl_object_rotate_axis_angle = null;\n    _wl_object_rotate_axis_angle_rad = null;\n    _wl_object_rotate_axis_angle_obj = null;\n    _wl_object_rotate_axis_angle_rad_obj = null;\n    _wl_object_rotate_quat = null;\n    _wl_object_rotate_quat_obj = null;\n    _wl_object_scale = null;\n    _wl_object_trans_local = null;\n    _wl_object_get_translation_local = null;\n    _wl_object_set_translation_local = null;\n    _wl_object_get_translation_world = null;\n    _wl_object_set_translation_world = null;\n    _wl_object_trans_world = null;\n    _wl_object_trans_world_to_local = null;\n    _wl_object_scaling_local = null;\n    _wl_object_scaling_world = null;\n    _wl_object_scaling_world_to_local = null;\n    _wl_object_set_rotation_local = null;\n    _wl_object_set_rotation_world = null;\n    _wl_object_transformVectorWorld = null;\n    _wl_object_transformVectorLocal = null;\n    _wl_object_transformPointWorld = null;\n    _wl_object_transformPointLocal = null;\n    _wl_object_transformVectorInverseWorld = null;\n    _wl_object_transformVectorInverseLocal = null;\n    _wl_object_transformPointInverseWorld = null;\n    _wl_object_transformPointInverseLocal = null;\n    _wl_object_toWorldSpaceTransform = null;\n    _wl_object_toObjectSpaceTransform = null;\n    _wl_object_lookAt = null;\n    _wl_scene_remove_object = null;\n    _wl_object_set_dirty = null;\n    _wl_get_component_manager_index = null;\n    _wl_get_js_component_index = null;\n    _wl_get_js_component_index_for_id = null;\n    _wl_get_component_id = null;\n    _wl_object_get_components = null;\n    _wl_object_get_component_types = null;\n    _wl_object_add_js_component = null;\n    _wl_object_add_component = null;\n    _wl_object_is_changed = null;\n    _wl_component_manager_name = null;\n    _wl_skin_get_joint_count = null;\n    _wl_skin_joint_ids = null;\n    _wl_skin_inverse_bind_transforms = null;\n    _wl_skin_inverse_bind_scalings = null;\n    _wl_math_cubicHermite = null;\n    _wl_i18n_setLanguage = null;\n    _wl_i18n_currentLanguage = null;\n    _wl_i18n_translate = null;\n    _wl_i18n_languageCount = null;\n    _wl_i18n_languageIndex = null;\n    _wl_i18n_languageCode = null;\n    _wl_i18n_languageName = null;\n}\n", "import { Component, Type } from '@wonderlandengine/api';\n/**\n * 8thwall camera component.\n *\n * Sets up the 8thwall pipeline and retrieves tracking events to place an\n * object at the location of the tracked AR camera / mobile device.\n *\n * Use this for SLAM tracking based on 8thwall.\n *\n * Make sure to enable 8thwall in \"Project Settings\" > \"AR\". See also the\n * [AR Getting Started Guide](/getting-started/quick-start-ar)\n *\n *\n * Currently only supports world-tracking (SLAM) using BACK camera.\n *\n * - remove any occurrences of the old 8thwall-camera component in the editor\n * - Add this component to NonVrCamera\n *\n * IMPORTANT!\n * - until it get's fixed, select 'customIndexHtml' in the project settings\n * - open a generated index.html and crossorigin=\"anonymous\" attribute to the <script> tag where //apps.8thwall.com/xrweb is loaded\n *\n *\n * ######### Using UI overlays #############\n * By default, this component renders own UI to give the user feedback about rejected permissions or tracking errors.\n * It can be changed by enabling useCustomUIOverlays flag.\n *\n * If useCustomUIOverlays is enabled, you are expected handle the following events dispatched by the window object:\n * - \"8thwall-request-user-interaction\" - used only on iOS safari. Request a user to perform and interaction with the page so that javascript is allowed to allowed to request a motion/camera/mic permissions.\n *  Make sure the window object is dispatching an '8thwall-safe-to-request-permissions' event after interaction has happened.\n * ```\n * <button onclick=\"window.dispatchEvent(new Event('8thwall-safe-to-request-permissions'))\">Allow Sensors</button>\n * ```\n *\n * - \"8thwall-permission-fail\" - user rejected any of the permissions\n *\n * - \"8thwall-error\" - runtime 8thwall error occurred\n */\nclass ARCamera8thwall extends Component {\n    static TypeName = '8thwall-camera';\n    static Properties = {\n        /** Override the WL html overlays for handling camera/motion permissions and error handling */\n        useCustomUIOverlays: { type: Type.Bool, default: false },\n    };\n    /* 8thwall camera pipeline module name */\n    name = 'wonderland-engine-8thwall-camera';\n    started = false;\n    view = null; // cache camera\n    position = [0, 0, 0]; // cache 8thwall cam position\n    rotation = [0, 0, 0, -1]; // cache 8thwall cam rotation\n    glTextureRenderer = null; // cache XR8.GlTextureRenderer.pipelineModule\n    promptForDeviceMotion() {\n        return new Promise(async (resolve, reject) => {\n            // Tell anyone who's interested that we want to get some user interaction\n            window.dispatchEvent(new Event('8thwall-request-user-interaction'));\n            // Wait until someone response that user interaction happened\n            window.addEventListener('8thwall-safe-to-request-permissions', async () => {\n                try {\n                    const motionEvent = await DeviceMotionEvent.requestPermission();\n                    resolve(motionEvent);\n                }\n                catch (exception) {\n                    reject(exception);\n                }\n            });\n        });\n    }\n    async getPermissions() {\n        // iOS \"feature\". If we want to request the DeviceMotion permission, user has to interact with the page at first (touch it).\n        // If there was no interaction done so far, we will render a HTML overlay with would get the user to interact with the screen\n        if (DeviceMotionEvent && DeviceMotionEvent.requestPermission) {\n            try {\n                const result = await DeviceMotionEvent.requestPermission();\n                // The user must have rejected the motion event on previous page load. (safari remembers this choice).\n                if (result !== 'granted') {\n                    throw new Error('MotionEvent');\n                }\n            }\n            catch (exception) {\n                // User had no interaction with the page so far\n                if (exception.name === 'NotAllowedError') {\n                    const motionEvent = await this.promptForDeviceMotion();\n                    if (motionEvent !== 'granted') {\n                        throw new Error('MotionEvent');\n                    }\n                }\n                else {\n                    throw new Error('MotionEvent');\n                }\n            }\n        }\n        try {\n            // make sure we get the camera stream\n            const stream = await navigator.mediaDevices.getUserMedia({\n                video: true,\n                audio: true,\n            });\n            // If we successfully acquired the camera stream - we can stop it and wait until 8thwall requests it again\n            stream.getTracks().forEach((track) => {\n                track.stop();\n            });\n        }\n        catch (exception) {\n            throw new Error('Camera');\n        }\n    }\n    init() {\n        this.view = this.object.getComponent('view');\n        this.onUpdate = this.onUpdate.bind(this);\n        this.onAttach = this.onAttach.bind(this);\n        this.onException = this.onException.bind(this);\n        this.onCameraStatusChange = this.onCameraStatusChange.bind(this);\n    }\n    async start() {\n        this.view = this.object.getComponent('view');\n        if (!this.useCustomUIOverlays) {\n            OverlaysHandler.init();\n        }\n        try {\n            await this.getPermissions();\n        }\n        catch (error) {\n            // User did not grant the camera or motionEvent permissions\n            window.dispatchEvent(new CustomEvent('8thwall-permission-fail', { detail: error }));\n            return;\n        }\n        await this.waitForXR8();\n        XR8.XrController.configure({\n            disableWorldTracking: false,\n        });\n        this.glTextureRenderer = XR8.GlTextureRenderer.pipelineModule();\n        XR8.addCameraPipelineModules([\n            this.glTextureRenderer,\n            XR8.XrController.pipelineModule(),\n            this,\n        ]);\n        const config = {\n            cameraConfig: {\n                direction: XR8.XrConfig.camera().BACK,\n            },\n            canvas: Module.canvas,\n            allowedDevices: XR8.XrConfig.device().ANY,\n            ownRunLoop: false,\n        };\n        XR8.run(config);\n    }\n    /**\n     * @private\n     * 8thwall pipeline function\n     */\n    onAttach(params) {\n        this.started = true;\n        this.engine.scene.colorClearEnabled = false;\n        const gl = Module.ctx;\n        const rot = this.object.rotationWorld;\n        const pos = this.object.getTranslationWorld([]);\n        this.position = Array.from(pos);\n        this.rotation = Array.from(rot);\n        XR8.XrController.updateCameraProjectionMatrix({\n            origin: { x: pos[0], y: pos[1], z: pos[2] },\n            facing: { x: rot[0], y: rot[1], z: rot[2], w: rot[3] },\n            cam: {\n                pixelRectWidth: Module.canvas.width,\n                pixelRectHeight: Module.canvas.height,\n                nearClipPlane: this.view.near,\n                farClipPlane: this.view.far,\n            },\n        });\n        this.engine.scene.onPreRender.push(() => {\n            gl.bindFramebuffer(gl.DRAW_FRAMEBUFFER, null);\n            XR8.runPreRender(Date.now());\n            XR8.runRender(); // <--- tell 8thwall to do it's thing (alternatively call this.glTextureRenderer.onRender() if you only care about camera feed )\n        });\n        this.engine.scene.onPostRender.push(() => {\n            XR8.runPostRender(Date.now());\n        });\n    }\n    /**\n     * @private\n     * 8thwall pipeline function\n     */\n    onCameraStatusChange(e) {\n        if (e && e.status === 'failed') {\n            this.onException(new Error(`Camera failed with status: ${e.status}`));\n        }\n    }\n    /**\n     * @private\n     * 8thwall pipeline function\n     */\n    onUpdate(e) {\n        if (!e.processCpuResult.reality)\n            return;\n        const { rotation, position, intrinsics } = e.processCpuResult.reality;\n        this.rotation[0] = rotation.x;\n        this.rotation[1] = rotation.y;\n        this.rotation[2] = rotation.z;\n        this.rotation[3] = rotation.w;\n        this.position[0] = position.x;\n        this.position[1] = position.y;\n        this.position[2] = position.z;\n        if (intrinsics) {\n            const projectionMatrix = this.view.projectionMatrix;\n            for (let i = 0; i < 16; i++) {\n                /* Some processCpuResult.reality.intrinsics are set to Infinity,\n                 * which brakes our projectionMatrix. So we just filter those elements out. */\n                if (Number.isFinite(intrinsics[i])) {\n                    projectionMatrix[i] = intrinsics[i];\n                }\n            }\n        }\n        if (position && rotation) {\n            this.object.rotationWorld = this.rotation;\n            this.object.setTranslationWorld(this.position);\n        }\n    }\n    /**\n     * @private\n     * 8thwall pipeline function\n     */\n    onException(error) {\n        console.error('8thwall exception:', error);\n        window.dispatchEvent(new CustomEvent('8thwall-error', { detail: error }));\n    }\n    waitForXR8() {\n        return new Promise((resolve, _rej) => {\n            if (window.XR8) {\n                resolve();\n            }\n            else {\n                window.addEventListener('xrloaded', () => resolve());\n            }\n        });\n    }\n}\nexport { ARCamera8thwall };\nconst OverlaysHandler = {\n    init: function () {\n        this.handleRequestUserInteraction = this.handleRequestUserInteraction.bind(this);\n        this.handlePermissionFail = this.handlePermissionFail.bind(this);\n        this.handleError = this.handleError.bind(this);\n        window.addEventListener('8thwall-request-user-interaction', this.handleRequestUserInteraction);\n        window.addEventListener('8thwall-permission-fail', this.handlePermissionFail);\n        window.addEventListener('8thwall-error', this.handleError);\n    },\n    handleRequestUserInteraction: function () {\n        const overlay = this.showOverlay(requestPermissionOverlay);\n        window.addEventListener('8thwall-safe-to-request-permissions', () => {\n            overlay.remove();\n        });\n    },\n    handlePermissionFail: function (_reason) {\n        this.showOverlay(failedPermissionOverlay);\n    },\n    handleError: function (_error) {\n        this.showOverlay(runtimeErrorOverlay);\n    },\n    showOverlay: function (htmlContent) {\n        const overlay = document.createElement('div');\n        overlay.innerHTML = htmlContent;\n        document.body.appendChild(overlay);\n        return overlay;\n    },\n};\nconst requestPermissionOverlay = `\n<style>\n  #request-permission-overlay {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    z-index: 999;\n    color: #fff;\n    background-color: rgba(0, 0, 0, 0.5);\n    text-align: center;\n    font-family: sans-serif;\n  }\n\n  .request-permission-overlay_title {\n    margin: 30px;\n    font-size: 32px;\n  }\n\n  .request-permission-overlay_button {\n    background-color: #e80086;\n    font-size: 22px;\n    padding: 10px 30px;\n    color: #fff;\n    border-radius: 15px;\n    border: none;\n  }\n</style>\n\n<div id=\"request-permission-overlay\">\n  <div class=\"request-permission-overlay_title\">This app requires to use your camera and motion sensors</div>\n\n  <button class=\"request-permission-overlay_button\" onclick=\"window.dispatchEvent(new Event('8thwall-safe-to-request-permissions'))\">OK</button>\n</div>`;\nconst failedPermissionOverlay = `\n<style>\n  #failed-permission-overlay {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    z-index: 999;\n    color: #fff;\n    background-color: rgba(0, 0, 0, 0.5);\n    text-align: center;\n    font-family: sans-serif;\n  }\n\n  .failed-permission-overlay_title {\n    margin: 30px;\n    font-size: 32px;\n  }\n\n  .failed-permission-overlay_button {\n    background-color: #e80086;\n    font-size: 22px;\n    padding: 10px 30px;\n    color: #fff;\n    border-radius: 15px;\n    border: none;\n  }\n</style>\n\n<div id=\"failed-permission-overlay\">\n  <div class=\"failed-permission-overlay_title\">Failed to grant permissions. Reset the the permissions and refresh the page.</div>\n\n  <button class=\"failed-permission-overlay_button\" onclick=\"window.location.reload()\">Refresh the page</button>\n</div>`;\nconst runtimeErrorOverlay = `\n<style>\n  #wall-error-overlay {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    z-index: 999;\n    color: #fff;\n    background-color: rgba(0, 0, 0, 0.5);\n    text-align: center;\n    font-family: sans-serif;\n  }\n\n  .wall-error-overlay_title {\n    margin: 30px;\n    font-size: 32px;\n  }\n\n  .wall-error-overlay_button {\n    background-color: #e80086;\n    font-size: 22px;\n    padding: 10px 30px;\n    color: #fff;\n    border-radius: 15px;\n    border: none;\n  }\n</style>\n\n<div id=\"wall-error-overlay\">\n  <div class=\"wall-error-overlay_title\">Error has occurred. Please reload the page</div>\n\n  <button class=\"wall-error-overlay_button\" onclick=\"window.location.reload()\">Reload</button>\n</div>`;\n", "import { Component, Emitter } from '@wonderlandengine/api';\n/**\n * Click/hover/move/button target for [cursor](#cursor).\n *\n * To trigger code when clicking, hovering, unhovering, moving cursor, pressing\n * cursor button or releasing cursor button, use `.addClickFunction(f)`,\n * `.addHoverFunction(f)`, `.addUnHoverFunction(f)`,\n * `.addMoveFunction(f)`, `.addDownFunction(f)` and\n * `.addUpFunction(f)` respectively with any `function f() {}`.\n *\n * To call members on a different component, you can set up a cursor target like\n * so:\n *\n * ```js\n * start: function() {\n *   let target = this.object.addComponent('cursor-target');\n *   target.onClick.add(this.onClick.bind(this));\n * },\n * onClick: function() {\n *   console.log(this.object.name, \"was clicked!\");\n * }\n * ```\n * **Functions:**\n *\n * ```js\n * const target = this.object.getComponent(CursorTarget);\n * const callback = function(object, cursorComponent) {};\n *\n * target.onHover.add(callback);\n * target.onHover.remove(callback);\n *\n * target.onUnHover.add(callback);\n * target.onUnHover.remove(callback);\n *\n * target.onClick.add(callback);\n * target.onClick.remove(callback);\n *\n * target.onMove.add(callback);\n * target.onMove.remove(callback);\n *\n * target.onDown.add(callback);\n * target.onDown.remove(callback);\n *\n * target.onUp.add(callback);\n * target.onUp.remove(callback);\n * ```\n *\n * **Requirements:**\n * - a `collision` component to be attached to the same object.\n *\n * See [Animation Example](/showcase/animation).\n */\nclass CursorTarget extends Component {\n    static TypeName = 'cursor-target';\n    static Properties = {};\n    /** Emitter for events when the target is hovered */\n    onHover = new Emitter();\n    /** Emitter for events when the target is unhovered */\n    onUnhover = new Emitter();\n    /** Emitter for events when the target is clicked */\n    onClick = new Emitter();\n    /** Emitter for events when the cursor moves on the target */\n    onMove = new Emitter();\n    /** Emitter for events when the user pressed the select button on the target */\n    onDown = new Emitter();\n    /** Emitter for events when the user unpressed the select button on the target */\n    onUp = new Emitter();\n    /**\n     * @deprecated Use the emitter instead.\n     *\n     * @example\n     *    this.onHover.add(f);\n     */\n    addHoverFunction(f) {\n        this.onHover.add(f);\n    }\n    /**\n     * @deprecated Use the emitter instead.\n     *\n     * @example\n     *    this.onHover.remove(f);\n     */\n    removeHoverFunction(f) {\n        this.onHover.remove(f);\n    }\n    /**\n     * @deprecated Use the emitter instead.\n     *\n     * @example\n     *    this.onUnhover.add(f);\n     */\n    addUnHoverFunction(f) {\n        this.onUnhover.add(f);\n    }\n    /**\n     * @deprecated Use the emitter instead.\n     *\n     * @example\n     *    this.onUnhover.remove(f);\n     */\n    removeUnHoverFunction(f) {\n        this.onUnhover.remove(f);\n    }\n    /**\n     * @deprecated Use the emitter instead.\n     *\n     * @example\n     *    this.onClick.add(f);\n     */\n    addClickFunction(f) {\n        this.onClick.add(f);\n    }\n    /**\n     * @deprecated Use the emitter instead.\n     *\n     * @example\n     *    component.onClick.remove(f);\n     */\n    removeClickFunction(f) {\n        this.onClick.remove(f);\n    }\n    /**\n     * @deprecated Use the emitter instead.\n     *\n     * @example\n     *    component.onMove.add(f);\n     */\n    addMoveFunction(f) {\n        this.onMove.add(f);\n    }\n    /**\n     * @deprecated Use the emitter instead.\n     *\n     * @example\n     *    component.onMove.remove(f);\n     */\n    removeMoveFunction(f) {\n        this.onMove.remove(f);\n    }\n    /**\n     * @deprecated Use the emitter instead.\n     *\n     * @example\n     *    component.onDown.add(f);\n     */\n    addDownFunction(f) {\n        this.onDown.add(f);\n    }\n    /**\n     * @deprecated Use the emitter instead.\n     *\n     * @example\n     *    component.onDown.remove(f);\n     */\n    removeDownFunction(f) {\n        this.onDown.remove(f);\n    }\n    /**\n     * @deprecated Use the emitter instead.\n     *\n     * @example\n     *    component.onUp.add(f);\n     */\n    addUpFunction(f) {\n        this.onUp.add(f);\n    }\n    /**\n     * @deprecated Use the emitter instead.\n     *\n     * @example\n     *    component.onUp.remove(f);\n     */\n    removeUpFunction(f) {\n        this.onUp.remove(f);\n    }\n}\nexport { CursorTarget };\n", "/**\n * Common utilities\n * @module glMatrix\n */\n// Configuration Constants\nexport var EPSILON = 0.000001;\nexport var ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nexport var RANDOM = Math.random;\n/**\n * Sets the type of array used when creating new vectors and matrices\n *\n * @param {Float32ArrayConstructor | ArrayConstructor} type Array type, such as Float32Array or Array\n */\n\nexport function setMatrixArrayType(type) {\n  ARRAY_TYPE = type;\n}\nvar degree = Math.PI / 180;\n/**\n * Convert Degree To Radian\n *\n * @param {Number} a Angle in Degrees\n */\n\nexport function toRadian(a) {\n  return a * degree;\n}\n/**\n * Tests whether or not the arguments have approximately the same value, within an absolute\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\n * than or equal to 1.0, and a relative tolerance is used for larger values)\n *\n * @param {Number} a The first number to test.\n * @param {Number} b The second number to test.\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}\nif (!Math.hypot) Math.hypot = function () {\n  var y = 0,\n      i = arguments.length;\n\n  while (i--) {\n    y += arguments[i] * arguments[i];\n  }\n\n  return Math.sqrt(y);\n};", "import * as glMatrix from \"./common.js\";\n/**\n * 3x3 Matrix\n * @module mat3\n */\n\n/**\n * Creates a new identity mat3\n *\n * @returns {mat3} a new 3x3 matrix\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(9);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[5] = 0;\n    out[6] = 0;\n    out[7] = 0;\n  }\n\n  out[0] = 1;\n  out[4] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\n * Copies the upper-left 3x3 values into the given mat3.\n *\n * @param {mat3} out the receiving 3x3 matrix\n * @param {ReadonlyMat4} a   the source 4x4 matrix\n * @returns {mat3} out\n */\n\nexport function fromMat4(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[4];\n  out[4] = a[5];\n  out[5] = a[6];\n  out[6] = a[8];\n  out[7] = a[9];\n  out[8] = a[10];\n  return out;\n}\n/**\n * Creates a new mat3 initialized with values from an existing matrix\n *\n * @param {ReadonlyMat3} a matrix to clone\n * @returns {mat3} a new 3x3 matrix\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Copy the values from one mat3 to another\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Create a new mat3 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} A new mat3\n */\n\nexport function fromValues(m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\n * Set the components of a mat3 to the given values\n *\n * @param {mat3} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} out\n */\n\nexport function set(out, m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\n * Set a mat3 to the identity matrix\n *\n * @param {mat3} out the receiving matrix\n * @returns {mat3} out\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Transpose the values of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a12 = a[5];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a01;\n    out[5] = a[7];\n    out[6] = a02;\n    out[7] = a12;\n  } else {\n    out[0] = a[0];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a[1];\n    out[4] = a[4];\n    out[5] = a[7];\n    out[6] = a[2];\n    out[7] = a[5];\n    out[8] = a[8];\n  }\n\n  return out;\n}\n/**\n * Inverts a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b01 = a22 * a11 - a12 * a21;\n  var b11 = -a22 * a10 + a12 * a20;\n  var b21 = a21 * a10 - a11 * a20; // Calculate the determinant\n\n  var det = a00 * b01 + a01 * b11 + a02 * b21;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = b01 * det;\n  out[1] = (-a22 * a01 + a02 * a21) * det;\n  out[2] = (a12 * a01 - a02 * a11) * det;\n  out[3] = b11 * det;\n  out[4] = (a22 * a00 - a02 * a20) * det;\n  out[5] = (-a12 * a00 + a02 * a10) * det;\n  out[6] = b21 * det;\n  out[7] = (-a21 * a00 + a01 * a20) * det;\n  out[8] = (a11 * a00 - a01 * a10) * det;\n  return out;\n}\n/**\n * Calculates the adjugate of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  out[0] = a11 * a22 - a12 * a21;\n  out[1] = a02 * a21 - a01 * a22;\n  out[2] = a01 * a12 - a02 * a11;\n  out[3] = a12 * a20 - a10 * a22;\n  out[4] = a00 * a22 - a02 * a20;\n  out[5] = a02 * a10 - a00 * a12;\n  out[6] = a10 * a21 - a11 * a20;\n  out[7] = a01 * a20 - a00 * a21;\n  out[8] = a00 * a11 - a01 * a10;\n  return out;\n}\n/**\n * Calculates the determinant of a mat3\n *\n * @param {ReadonlyMat3} a the source matrix\n * @returns {Number} determinant of a\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  return a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);\n}\n/**\n * Multiplies two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b00 = b[0],\n      b01 = b[1],\n      b02 = b[2];\n  var b10 = b[3],\n      b11 = b[4],\n      b12 = b[5];\n  var b20 = b[6],\n      b21 = b[7],\n      b22 = b[8];\n  out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n  out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n  out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n  out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n  out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n  out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n  out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n  out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n  out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n  return out;\n}\n/**\n * Translate a mat3 by the given vector\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to translate\n * @param {ReadonlyVec2} v vector to translate by\n * @returns {mat3} out\n */\n\nexport function translate(out, a, v) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      x = v[0],\n      y = v[1];\n  out[0] = a00;\n  out[1] = a01;\n  out[2] = a02;\n  out[3] = a10;\n  out[4] = a11;\n  out[5] = a12;\n  out[6] = x * a00 + y * a10 + a20;\n  out[7] = x * a01 + y * a11 + a21;\n  out[8] = x * a02 + y * a12 + a22;\n  return out;\n}\n/**\n * Rotates a mat3 by the given angle\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\n\nexport function rotate(out, a, rad) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c * a00 + s * a10;\n  out[1] = c * a01 + s * a11;\n  out[2] = c * a02 + s * a12;\n  out[3] = c * a10 - s * a00;\n  out[4] = c * a11 - s * a01;\n  out[5] = c * a12 - s * a02;\n  out[6] = a20;\n  out[7] = a21;\n  out[8] = a22;\n  return out;\n}\n/**\n * Scales the mat3 by the dimensions in the given vec2\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to rotate\n * @param {ReadonlyVec2} v the vec2 to scale the matrix by\n * @returns {mat3} out\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1];\n  out[0] = x * a[0];\n  out[1] = x * a[1];\n  out[2] = x * a[2];\n  out[3] = y * a[3];\n  out[4] = y * a[4];\n  out[5] = y * a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.translate(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyVec2} v Translation vector\n * @returns {mat3} out\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = v[0];\n  out[7] = v[1];\n  out[8] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a given angle\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.rotate(dest, dest, rad);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\n\nexport function fromRotation(out, rad) {\n  var s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = -s;\n  out[4] = c;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.scale(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyVec2} v Scaling vector\n * @returns {mat3} out\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = v[1];\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Copies the values from a mat2d into a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat2d} a the matrix to copy\n * @returns {mat3} out\n **/\n\nexport function fromMat2d(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = 0;\n  out[3] = a[2];\n  out[4] = a[3];\n  out[5] = 0;\n  out[6] = a[4];\n  out[7] = a[5];\n  out[8] = 1;\n  return out;\n}\n/**\n * Calculates a 3x3 matrix from the given quaternion\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyQuat} q Quaternion to create matrix from\n *\n * @returns {mat3} out\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[3] = yx - wz;\n  out[6] = zx + wy;\n  out[1] = yx + wz;\n  out[4] = 1 - xx - zz;\n  out[7] = zy - wx;\n  out[2] = zx - wy;\n  out[5] = zy + wx;\n  out[8] = 1 - xx - yy;\n  return out;\n}\n/**\n * Calculates a 3x3 normal matrix (transpose inverse) from the 4x4 matrix\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyMat4} a Mat4 to derive the normal matrix from\n *\n * @returns {mat3} out\n */\n\nexport function normalFromMat4(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[3] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[4] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[5] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[6] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[7] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[8] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  return out;\n}\n/**\n * Generates a 2D projection matrix with the given bounds\n *\n * @param {mat3} out mat3 frustum matrix will be written into\n * @param {number} width Width of your gl context\n * @param {number} height Height of gl context\n * @returns {mat3} out\n */\n\nexport function projection(out, width, height) {\n  out[0] = 2 / width;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -2 / height;\n  out[5] = 0;\n  out[6] = -1;\n  out[7] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\n * Returns a string representation of a mat3\n *\n * @param {ReadonlyMat3} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\n\nexport function str(a) {\n  return \"mat3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \")\";\n}\n/**\n * Returns Frobenius norm of a mat3\n *\n * @param {ReadonlyMat3} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8]);\n}\n/**\n * Adds two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  return out;\n}\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  return out;\n}\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat3} out\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  return out;\n}\n/**\n * Adds two mat3's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat3} out the receiving vector\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat3} out\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  return out;\n}\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyMat3} a The first matrix.\n * @param {ReadonlyMat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8];\n}\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {ReadonlyMat3} a The first matrix.\n * @param {ReadonlyMat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7],\n      a8 = a[8];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7],\n      b8 = b[8];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8));\n}\n/**\n * Alias for {@link mat3.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link mat3.subtract}\n * @function\n */\n\nexport var sub = subtract;", "import * as glMatrix from \"./common.js\";\n/**\n * 4x4 Matrix<br>Format: column-major, when typed out it looks like row-major<br>The matrices are being post multiplied.\n * @module mat4\n */\n\n/**\n * Creates a new identity mat4\n *\n * @returns {mat4} a new 4x4 matrix\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(16);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[11] = 0;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n  }\n\n  out[0] = 1;\n  out[5] = 1;\n  out[10] = 1;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a new mat4 initialized with values from an existing matrix\n *\n * @param {ReadonlyMat4} a matrix to clone\n * @returns {mat4} a new 4x4 matrix\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\n * Copy the values from one mat4 to another\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\n * Create a new mat4 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\n * @returns {mat4} A new mat4\n */\n\nexport function fromValues(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\n * Set the components of a mat4 to the given values\n *\n * @param {mat4} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\n * @returns {mat4} out\n */\n\nexport function set(out, m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\n * Set a mat4 to the identity matrix\n *\n * @param {mat4} out the receiving matrix\n * @returns {mat4} out\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Transpose the values of a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a03 = a[3];\n    var a12 = a[6],\n        a13 = a[7];\n    var a23 = a[11];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a01;\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a02;\n    out[9] = a12;\n    out[11] = a[14];\n    out[12] = a03;\n    out[13] = a13;\n    out[14] = a23;\n  } else {\n    out[0] = a[0];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a[1];\n    out[5] = a[5];\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a[2];\n    out[9] = a[6];\n    out[10] = a[10];\n    out[11] = a[14];\n    out[12] = a[3];\n    out[13] = a[7];\n    out[14] = a[11];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\n * Inverts a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;\n  out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;\n  out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;\n  out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;\n  out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;\n  out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;\n  out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;\n  return out;\n}\n/**\n * Calculates the adjugate of a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  out[0] = a11 * (a22 * a33 - a23 * a32) - a21 * (a12 * a33 - a13 * a32) + a31 * (a12 * a23 - a13 * a22);\n  out[1] = -(a01 * (a22 * a33 - a23 * a32) - a21 * (a02 * a33 - a03 * a32) + a31 * (a02 * a23 - a03 * a22));\n  out[2] = a01 * (a12 * a33 - a13 * a32) - a11 * (a02 * a33 - a03 * a32) + a31 * (a02 * a13 - a03 * a12);\n  out[3] = -(a01 * (a12 * a23 - a13 * a22) - a11 * (a02 * a23 - a03 * a22) + a21 * (a02 * a13 - a03 * a12));\n  out[4] = -(a10 * (a22 * a33 - a23 * a32) - a20 * (a12 * a33 - a13 * a32) + a30 * (a12 * a23 - a13 * a22));\n  out[5] = a00 * (a22 * a33 - a23 * a32) - a20 * (a02 * a33 - a03 * a32) + a30 * (a02 * a23 - a03 * a22);\n  out[6] = -(a00 * (a12 * a33 - a13 * a32) - a10 * (a02 * a33 - a03 * a32) + a30 * (a02 * a13 - a03 * a12));\n  out[7] = a00 * (a12 * a23 - a13 * a22) - a10 * (a02 * a23 - a03 * a22) + a20 * (a02 * a13 - a03 * a12);\n  out[8] = a10 * (a21 * a33 - a23 * a31) - a20 * (a11 * a33 - a13 * a31) + a30 * (a11 * a23 - a13 * a21);\n  out[9] = -(a00 * (a21 * a33 - a23 * a31) - a20 * (a01 * a33 - a03 * a31) + a30 * (a01 * a23 - a03 * a21));\n  out[10] = a00 * (a11 * a33 - a13 * a31) - a10 * (a01 * a33 - a03 * a31) + a30 * (a01 * a13 - a03 * a11);\n  out[11] = -(a00 * (a11 * a23 - a13 * a21) - a10 * (a01 * a23 - a03 * a21) + a20 * (a01 * a13 - a03 * a11));\n  out[12] = -(a10 * (a21 * a32 - a22 * a31) - a20 * (a11 * a32 - a12 * a31) + a30 * (a11 * a22 - a12 * a21));\n  out[13] = a00 * (a21 * a32 - a22 * a31) - a20 * (a01 * a32 - a02 * a31) + a30 * (a01 * a22 - a02 * a21);\n  out[14] = -(a00 * (a11 * a32 - a12 * a31) - a10 * (a01 * a32 - a02 * a31) + a30 * (a01 * a12 - a02 * a11));\n  out[15] = a00 * (a11 * a22 - a12 * a21) - a10 * (a01 * a22 - a02 * a21) + a20 * (a01 * a12 - a02 * a11);\n  return out;\n}\n/**\n * Calculates the determinant of a mat4\n *\n * @param {ReadonlyMat4} a the source matrix\n * @returns {Number} determinant of a\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  return b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n}\n/**\n * Multiplies two mat4s\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @returns {mat4} out\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15]; // Cache only the current line of the second matrix\n\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  out[0] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[1] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[2] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[3] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[4];\n  b1 = b[5];\n  b2 = b[6];\n  b3 = b[7];\n  out[4] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[5] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[6] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[7] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[8];\n  b1 = b[9];\n  b2 = b[10];\n  b3 = b[11];\n  out[8] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[9] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[10] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[11] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[12];\n  b1 = b[13];\n  b2 = b[14];\n  b3 = b[15];\n  out[12] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[13] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[14] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[15] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  return out;\n}\n/**\n * Translate a mat4 by the given vector\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to translate\n * @param {ReadonlyVec3} v vector to translate by\n * @returns {mat4} out\n */\n\nexport function translate(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n\n  if (a === out) {\n    out[12] = a[0] * x + a[4] * y + a[8] * z + a[12];\n    out[13] = a[1] * x + a[5] * y + a[9] * z + a[13];\n    out[14] = a[2] * x + a[6] * y + a[10] * z + a[14];\n    out[15] = a[3] * x + a[7] * y + a[11] * z + a[15];\n  } else {\n    a00 = a[0];\n    a01 = a[1];\n    a02 = a[2];\n    a03 = a[3];\n    a10 = a[4];\n    a11 = a[5];\n    a12 = a[6];\n    a13 = a[7];\n    a20 = a[8];\n    a21 = a[9];\n    a22 = a[10];\n    a23 = a[11];\n    out[0] = a00;\n    out[1] = a01;\n    out[2] = a02;\n    out[3] = a03;\n    out[4] = a10;\n    out[5] = a11;\n    out[6] = a12;\n    out[7] = a13;\n    out[8] = a20;\n    out[9] = a21;\n    out[10] = a22;\n    out[11] = a23;\n    out[12] = a00 * x + a10 * y + a20 * z + a[12];\n    out[13] = a01 * x + a11 * y + a21 * z + a[13];\n    out[14] = a02 * x + a12 * y + a22 * z + a[14];\n    out[15] = a03 * x + a13 * y + a23 * z + a[15];\n  }\n\n  return out;\n}\n/**\n * Scales the mat4 by the dimensions in the given vec3 not using vectorization\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to scale\n * @param {ReadonlyVec3} v the vec3 to scale the matrix by\n * @returns {mat4} out\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  out[0] = a[0] * x;\n  out[1] = a[1] * x;\n  out[2] = a[2] * x;\n  out[3] = a[3] * x;\n  out[4] = a[4] * y;\n  out[5] = a[5] * y;\n  out[6] = a[6] * y;\n  out[7] = a[7] * y;\n  out[8] = a[8] * z;\n  out[9] = a[9] * z;\n  out[10] = a[10] * z;\n  out[11] = a[11] * z;\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\n * Rotates a mat4 by the given angle around the given axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @param {ReadonlyVec3} axis the axis to rotate around\n * @returns {mat4} out\n */\n\nexport function rotate(out, a, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n  var b00, b01, b02;\n  var b10, b11, b12;\n  var b20, b21, b22;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c;\n  a00 = a[0];\n  a01 = a[1];\n  a02 = a[2];\n  a03 = a[3];\n  a10 = a[4];\n  a11 = a[5];\n  a12 = a[6];\n  a13 = a[7];\n  a20 = a[8];\n  a21 = a[9];\n  a22 = a[10];\n  a23 = a[11]; // Construct the elements of the rotation matrix\n\n  b00 = x * x * t + c;\n  b01 = y * x * t + z * s;\n  b02 = z * x * t - y * s;\n  b10 = x * y * t - z * s;\n  b11 = y * y * t + c;\n  b12 = z * y * t + x * s;\n  b20 = x * z * t + y * s;\n  b21 = y * z * t - x * s;\n  b22 = z * z * t + c; // Perform rotation-specific matrix multiplication\n\n  out[0] = a00 * b00 + a10 * b01 + a20 * b02;\n  out[1] = a01 * b00 + a11 * b01 + a21 * b02;\n  out[2] = a02 * b00 + a12 * b01 + a22 * b02;\n  out[3] = a03 * b00 + a13 * b01 + a23 * b02;\n  out[4] = a00 * b10 + a10 * b11 + a20 * b12;\n  out[5] = a01 * b10 + a11 * b11 + a21 * b12;\n  out[6] = a02 * b10 + a12 * b11 + a22 * b12;\n  out[7] = a03 * b10 + a13 * b11 + a23 * b12;\n  out[8] = a00 * b20 + a10 * b21 + a20 * b22;\n  out[9] = a01 * b20 + a11 * b21 + a21 * b22;\n  out[10] = a02 * b20 + a12 * b21 + a22 * b22;\n  out[11] = a03 * b20 + a13 * b21 + a23 * b22;\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\n * Rotates a matrix by the given angle around the X axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function rotateX(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[4] = a10 * c + a20 * s;\n  out[5] = a11 * c + a21 * s;\n  out[6] = a12 * c + a22 * s;\n  out[7] = a13 * c + a23 * s;\n  out[8] = a20 * c - a10 * s;\n  out[9] = a21 * c - a11 * s;\n  out[10] = a22 * c - a12 * s;\n  out[11] = a23 * c - a13 * s;\n  return out;\n}\n/**\n * Rotates a matrix by the given angle around the Y axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function rotateY(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[4] = a[4];\n    out[5] = a[5];\n    out[6] = a[6];\n    out[7] = a[7];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c - a20 * s;\n  out[1] = a01 * c - a21 * s;\n  out[2] = a02 * c - a22 * s;\n  out[3] = a03 * c - a23 * s;\n  out[8] = a00 * s + a20 * c;\n  out[9] = a01 * s + a21 * c;\n  out[10] = a02 * s + a22 * c;\n  out[11] = a03 * s + a23 * c;\n  return out;\n}\n/**\n * Rotates a matrix by the given angle around the Z axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function rotateZ(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[8] = a[8];\n    out[9] = a[9];\n    out[10] = a[10];\n    out[11] = a[11];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c + a10 * s;\n  out[1] = a01 * c + a11 * s;\n  out[2] = a02 * c + a12 * s;\n  out[3] = a03 * c + a13 * s;\n  out[4] = a10 * c - a00 * s;\n  out[5] = a11 * c - a01 * s;\n  out[6] = a12 * c - a02 * s;\n  out[7] = a13 * c - a03 * s;\n  return out;\n}\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, dest, vec);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {ReadonlyVec3} v Translation vector\n * @returns {mat4} out\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.scale(dest, dest, vec);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {ReadonlyVec3} v Scaling vector\n * @returns {mat4} out\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = v[1];\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = v[2];\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a given angle around a given axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotate(dest, dest, rad, axis);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @param {ReadonlyVec3} axis the axis to rotate around\n * @returns {mat4} out\n */\n\nexport function fromRotation(out, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c; // Perform rotation-specific matrix multiplication\n\n  out[0] = x * x * t + c;\n  out[1] = y * x * t + z * s;\n  out[2] = z * x * t - y * s;\n  out[3] = 0;\n  out[4] = x * y * t - z * s;\n  out[5] = y * y * t + c;\n  out[6] = z * y * t + x * s;\n  out[7] = 0;\n  out[8] = x * z * t + y * s;\n  out[9] = y * z * t - x * s;\n  out[10] = z * z * t + c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from the given angle around the X axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateX(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function fromXRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = c;\n  out[6] = s;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = -s;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from the given angle around the Y axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateY(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function fromYRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = 0;\n  out[2] = -s;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = s;\n  out[9] = 0;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from the given angle around the Z axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateZ(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function fromZRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -s;\n  out[5] = c;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a quaternion rotation and vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {ReadonlyVec3} v Translation vector\n * @returns {mat4} out\n */\n\nexport function fromRotationTranslation(out, q, v) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - (yy + zz);\n  out[1] = xy + wz;\n  out[2] = xz - wy;\n  out[3] = 0;\n  out[4] = xy - wz;\n  out[5] = 1 - (xx + zz);\n  out[6] = yz + wx;\n  out[7] = 0;\n  out[8] = xz + wy;\n  out[9] = yz - wx;\n  out[10] = 1 - (xx + yy);\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a new mat4 from a dual quat.\n *\n * @param {mat4} out Matrix\n * @param {ReadonlyQuat2} a Dual Quaternion\n * @returns {mat4} mat4 receiving operation result\n */\n\nexport function fromQuat2(out, a) {\n  var translation = new glMatrix.ARRAY_TYPE(3);\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7];\n  var magnitude = bx * bx + by * by + bz * bz + bw * bw; //Only scale if it makes sense\n\n  if (magnitude > 0) {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2 / magnitude;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2 / magnitude;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2 / magnitude;\n  } else {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;\n  }\n\n  fromRotationTranslation(out, a, translation);\n  return out;\n}\n/**\n * Returns the translation vector component of a transformation\n *  matrix. If a matrix is built with fromRotationTranslation,\n *  the returned vector will be the same as the translation vector\n *  originally supplied.\n * @param  {vec3} out Vector to receive translation component\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\n * @return {vec3} out\n */\n\nexport function getTranslation(out, mat) {\n  out[0] = mat[12];\n  out[1] = mat[13];\n  out[2] = mat[14];\n  return out;\n}\n/**\n * Returns the scaling factor component of a transformation\n *  matrix. If a matrix is built with fromRotationTranslationScale\n *  with a normalized Quaternion paramter, the returned vector will be\n *  the same as the scaling vector\n *  originally supplied.\n * @param  {vec3} out Vector to receive scaling factor component\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\n * @return {vec3} out\n */\n\nexport function getScaling(out, mat) {\n  var m11 = mat[0];\n  var m12 = mat[1];\n  var m13 = mat[2];\n  var m21 = mat[4];\n  var m22 = mat[5];\n  var m23 = mat[6];\n  var m31 = mat[8];\n  var m32 = mat[9];\n  var m33 = mat[10];\n  out[0] = Math.hypot(m11, m12, m13);\n  out[1] = Math.hypot(m21, m22, m23);\n  out[2] = Math.hypot(m31, m32, m33);\n  return out;\n}\n/**\n * Returns a quaternion representing the rotational component\n *  of a transformation matrix. If a matrix is built with\n *  fromRotationTranslation, the returned quaternion will be the\n *  same as the quaternion originally supplied.\n * @param {quat} out Quaternion to receive the rotation component\n * @param {ReadonlyMat4} mat Matrix to be decomposed (input)\n * @return {quat} out\n */\n\nexport function getRotation(out, mat) {\n  var scaling = new glMatrix.ARRAY_TYPE(3);\n  getScaling(scaling, mat);\n  var is1 = 1 / scaling[0];\n  var is2 = 1 / scaling[1];\n  var is3 = 1 / scaling[2];\n  var sm11 = mat[0] * is1;\n  var sm12 = mat[1] * is2;\n  var sm13 = mat[2] * is3;\n  var sm21 = mat[4] * is1;\n  var sm22 = mat[5] * is2;\n  var sm23 = mat[6] * is3;\n  var sm31 = mat[8] * is1;\n  var sm32 = mat[9] * is2;\n  var sm33 = mat[10] * is3;\n  var trace = sm11 + sm22 + sm33;\n  var S = 0;\n\n  if (trace > 0) {\n    S = Math.sqrt(trace + 1.0) * 2;\n    out[3] = 0.25 * S;\n    out[0] = (sm23 - sm32) / S;\n    out[1] = (sm31 - sm13) / S;\n    out[2] = (sm12 - sm21) / S;\n  } else if (sm11 > sm22 && sm11 > sm33) {\n    S = Math.sqrt(1.0 + sm11 - sm22 - sm33) * 2;\n    out[3] = (sm23 - sm32) / S;\n    out[0] = 0.25 * S;\n    out[1] = (sm12 + sm21) / S;\n    out[2] = (sm31 + sm13) / S;\n  } else if (sm22 > sm33) {\n    S = Math.sqrt(1.0 + sm22 - sm11 - sm33) * 2;\n    out[3] = (sm31 - sm13) / S;\n    out[0] = (sm12 + sm21) / S;\n    out[1] = 0.25 * S;\n    out[2] = (sm23 + sm32) / S;\n  } else {\n    S = Math.sqrt(1.0 + sm33 - sm11 - sm22) * 2;\n    out[3] = (sm12 - sm21) / S;\n    out[0] = (sm31 + sm13) / S;\n    out[1] = (sm23 + sm32) / S;\n    out[2] = 0.25 * S;\n  }\n\n  return out;\n}\n/**\n * Creates a matrix from a quaternion rotation, vector translation and vector scale\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *     mat4.scale(dest, scale)\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {ReadonlyVec3} v Translation vector\n * @param {ReadonlyVec3} s Scaling vector\n * @returns {mat4} out\n */\n\nexport function fromRotationTranslationScale(out, q, v, s) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  out[0] = (1 - (yy + zz)) * sx;\n  out[1] = (xy + wz) * sx;\n  out[2] = (xz - wy) * sx;\n  out[3] = 0;\n  out[4] = (xy - wz) * sy;\n  out[5] = (1 - (xx + zz)) * sy;\n  out[6] = (yz + wx) * sy;\n  out[7] = 0;\n  out[8] = (xz + wy) * sz;\n  out[9] = (yz - wx) * sz;\n  out[10] = (1 - (xx + yy)) * sz;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a quaternion rotation, vector translation and vector scale, rotating and scaling around the given origin\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     mat4.translate(dest, origin);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *     mat4.scale(dest, scale)\n *     mat4.translate(dest, negativeOrigin);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {ReadonlyVec3} v Translation vector\n * @param {ReadonlyVec3} s Scaling vector\n * @param {ReadonlyVec3} o The origin vector around which to scale and rotate\n * @returns {mat4} out\n */\n\nexport function fromRotationTranslationScaleOrigin(out, q, v, s, o) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  var ox = o[0];\n  var oy = o[1];\n  var oz = o[2];\n  var out0 = (1 - (yy + zz)) * sx;\n  var out1 = (xy + wz) * sx;\n  var out2 = (xz - wy) * sx;\n  var out4 = (xy - wz) * sy;\n  var out5 = (1 - (xx + zz)) * sy;\n  var out6 = (yz + wx) * sy;\n  var out8 = (xz + wy) * sz;\n  var out9 = (yz - wx) * sz;\n  var out10 = (1 - (xx + yy)) * sz;\n  out[0] = out0;\n  out[1] = out1;\n  out[2] = out2;\n  out[3] = 0;\n  out[4] = out4;\n  out[5] = out5;\n  out[6] = out6;\n  out[7] = 0;\n  out[8] = out8;\n  out[9] = out9;\n  out[10] = out10;\n  out[11] = 0;\n  out[12] = v[0] + ox - (out0 * ox + out4 * oy + out8 * oz);\n  out[13] = v[1] + oy - (out1 * ox + out5 * oy + out9 * oz);\n  out[14] = v[2] + oz - (out2 * ox + out6 * oy + out10 * oz);\n  out[15] = 1;\n  return out;\n}\n/**\n * Calculates a 4x4 matrix from the given quaternion\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {ReadonlyQuat} q Quaternion to create matrix from\n *\n * @returns {mat4} out\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[1] = yx + wz;\n  out[2] = zx - wy;\n  out[3] = 0;\n  out[4] = yx - wz;\n  out[5] = 1 - xx - zz;\n  out[6] = zy + wx;\n  out[7] = 0;\n  out[8] = zx + wy;\n  out[9] = zy - wx;\n  out[10] = 1 - xx - yy;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Generates a frustum matrix with the given bounds\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {Number} left Left bound of the frustum\n * @param {Number} right Right bound of the frustum\n * @param {Number} bottom Bottom bound of the frustum\n * @param {Number} top Top bound of the frustum\n * @param {Number} near Near bound of the frustum\n * @param {Number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nexport function frustum(out, left, right, bottom, top, near, far) {\n  var rl = 1 / (right - left);\n  var tb = 1 / (top - bottom);\n  var nf = 1 / (near - far);\n  out[0] = near * 2 * rl;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = near * 2 * tb;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = (right + left) * rl;\n  out[9] = (top + bottom) * tb;\n  out[10] = (far + near) * nf;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = far * near * 2 * nf;\n  out[15] = 0;\n  return out;\n}\n/**\n * Generates a perspective projection matrix with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [-1, 1],\n * which matches WebGL/OpenGL's clip volume.\n * Passing null/undefined/no value for far will generate infinite projection matrix.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} fovy Vertical field of view in radians\n * @param {number} aspect Aspect ratio. typically viewport width/height\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum, can be null or Infinity\n * @returns {mat4} out\n */\n\nexport function perspectiveNO(out, fovy, aspect, near, far) {\n  var f = 1.0 / Math.tan(fovy / 2),\n      nf;\n  out[0] = f / aspect;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = f;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[15] = 0;\n\n  if (far != null && far !== Infinity) {\n    nf = 1 / (near - far);\n    out[10] = (far + near) * nf;\n    out[14] = 2 * far * near * nf;\n  } else {\n    out[10] = -1;\n    out[14] = -2 * near;\n  }\n\n  return out;\n}\n/**\n * Alias for {@link mat4.perspectiveNO}\n * @function\n */\n\nexport var perspective = perspectiveNO;\n/**\n * Generates a perspective projection matrix suitable for WebGPU with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [0, 1],\n * which matches WebGPU/Vulkan/DirectX/Metal's clip volume.\n * Passing null/undefined/no value for far will generate infinite projection matrix.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} fovy Vertical field of view in radians\n * @param {number} aspect Aspect ratio. typically viewport width/height\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum, can be null or Infinity\n * @returns {mat4} out\n */\n\nexport function perspectiveZO(out, fovy, aspect, near, far) {\n  var f = 1.0 / Math.tan(fovy / 2),\n      nf;\n  out[0] = f / aspect;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = f;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[15] = 0;\n\n  if (far != null && far !== Infinity) {\n    nf = 1 / (near - far);\n    out[10] = far * nf;\n    out[14] = far * near * nf;\n  } else {\n    out[10] = -1;\n    out[14] = -near;\n  }\n\n  return out;\n}\n/**\n * Generates a perspective projection matrix with the given field of view.\n * This is primarily useful for generating projection matrices to be used\n * with the still experiemental WebVR API.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {Object} fov Object containing the following values: upDegrees, downDegrees, leftDegrees, rightDegrees\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nexport function perspectiveFromFieldOfView(out, fov, near, far) {\n  var upTan = Math.tan(fov.upDegrees * Math.PI / 180.0);\n  var downTan = Math.tan(fov.downDegrees * Math.PI / 180.0);\n  var leftTan = Math.tan(fov.leftDegrees * Math.PI / 180.0);\n  var rightTan = Math.tan(fov.rightDegrees * Math.PI / 180.0);\n  var xScale = 2.0 / (leftTan + rightTan);\n  var yScale = 2.0 / (upTan + downTan);\n  out[0] = xScale;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  out[4] = 0.0;\n  out[5] = yScale;\n  out[6] = 0.0;\n  out[7] = 0.0;\n  out[8] = -((leftTan - rightTan) * xScale * 0.5);\n  out[9] = (upTan - downTan) * yScale * 0.5;\n  out[10] = far / (near - far);\n  out[11] = -1.0;\n  out[12] = 0.0;\n  out[13] = 0.0;\n  out[14] = far * near / (near - far);\n  out[15] = 0.0;\n  return out;\n}\n/**\n * Generates a orthogonal projection matrix with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [-1, 1],\n * which matches WebGL/OpenGL's clip volume.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} left Left bound of the frustum\n * @param {number} right Right bound of the frustum\n * @param {number} bottom Bottom bound of the frustum\n * @param {number} top Top bound of the frustum\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nexport function orthoNO(out, left, right, bottom, top, near, far) {\n  var lr = 1 / (left - right);\n  var bt = 1 / (bottom - top);\n  var nf = 1 / (near - far);\n  out[0] = -2 * lr;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = -2 * bt;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 2 * nf;\n  out[11] = 0;\n  out[12] = (left + right) * lr;\n  out[13] = (top + bottom) * bt;\n  out[14] = (far + near) * nf;\n  out[15] = 1;\n  return out;\n}\n/**\n * Alias for {@link mat4.orthoNO}\n * @function\n */\n\nexport var ortho = orthoNO;\n/**\n * Generates a orthogonal projection matrix with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [0, 1],\n * which matches WebGPU/Vulkan/DirectX/Metal's clip volume.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} left Left bound of the frustum\n * @param {number} right Right bound of the frustum\n * @param {number} bottom Bottom bound of the frustum\n * @param {number} top Top bound of the frustum\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nexport function orthoZO(out, left, right, bottom, top, near, far) {\n  var lr = 1 / (left - right);\n  var bt = 1 / (bottom - top);\n  var nf = 1 / (near - far);\n  out[0] = -2 * lr;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = -2 * bt;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = nf;\n  out[11] = 0;\n  out[12] = (left + right) * lr;\n  out[13] = (top + bottom) * bt;\n  out[14] = near * nf;\n  out[15] = 1;\n  return out;\n}\n/**\n * Generates a look-at matrix with the given eye position, focal point, and up axis.\n * If you want a matrix that actually makes an object look at another object, you should use targetTo instead.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {ReadonlyVec3} eye Position of the viewer\n * @param {ReadonlyVec3} center Point the viewer is looking at\n * @param {ReadonlyVec3} up vec3 pointing up\n * @returns {mat4} out\n */\n\nexport function lookAt(out, eye, center, up) {\n  var x0, x1, x2, y0, y1, y2, z0, z1, z2, len;\n  var eyex = eye[0];\n  var eyey = eye[1];\n  var eyez = eye[2];\n  var upx = up[0];\n  var upy = up[1];\n  var upz = up[2];\n  var centerx = center[0];\n  var centery = center[1];\n  var centerz = center[2];\n\n  if (Math.abs(eyex - centerx) < glMatrix.EPSILON && Math.abs(eyey - centery) < glMatrix.EPSILON && Math.abs(eyez - centerz) < glMatrix.EPSILON) {\n    return identity(out);\n  }\n\n  z0 = eyex - centerx;\n  z1 = eyey - centery;\n  z2 = eyez - centerz;\n  len = 1 / Math.hypot(z0, z1, z2);\n  z0 *= len;\n  z1 *= len;\n  z2 *= len;\n  x0 = upy * z2 - upz * z1;\n  x1 = upz * z0 - upx * z2;\n  x2 = upx * z1 - upy * z0;\n  len = Math.hypot(x0, x1, x2);\n\n  if (!len) {\n    x0 = 0;\n    x1 = 0;\n    x2 = 0;\n  } else {\n    len = 1 / len;\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  y0 = z1 * x2 - z2 * x1;\n  y1 = z2 * x0 - z0 * x2;\n  y2 = z0 * x1 - z1 * x0;\n  len = Math.hypot(y0, y1, y2);\n\n  if (!len) {\n    y0 = 0;\n    y1 = 0;\n    y2 = 0;\n  } else {\n    len = 1 / len;\n    y0 *= len;\n    y1 *= len;\n    y2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = y0;\n  out[2] = z0;\n  out[3] = 0;\n  out[4] = x1;\n  out[5] = y1;\n  out[6] = z1;\n  out[7] = 0;\n  out[8] = x2;\n  out[9] = y2;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = -(x0 * eyex + x1 * eyey + x2 * eyez);\n  out[13] = -(y0 * eyex + y1 * eyey + y2 * eyez);\n  out[14] = -(z0 * eyex + z1 * eyey + z2 * eyez);\n  out[15] = 1;\n  return out;\n}\n/**\n * Generates a matrix that makes something look at something else.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {ReadonlyVec3} eye Position of the viewer\n * @param {ReadonlyVec3} center Point the viewer is looking at\n * @param {ReadonlyVec3} up vec3 pointing up\n * @returns {mat4} out\n */\n\nexport function targetTo(out, eye, target, up) {\n  var eyex = eye[0],\n      eyey = eye[1],\n      eyez = eye[2],\n      upx = up[0],\n      upy = up[1],\n      upz = up[2];\n  var z0 = eyex - target[0],\n      z1 = eyey - target[1],\n      z2 = eyez - target[2];\n  var len = z0 * z0 + z1 * z1 + z2 * z2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    z0 *= len;\n    z1 *= len;\n    z2 *= len;\n  }\n\n  var x0 = upy * z2 - upz * z1,\n      x1 = upz * z0 - upx * z2,\n      x2 = upx * z1 - upy * z0;\n  len = x0 * x0 + x1 * x1 + x2 * x2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = x1;\n  out[2] = x2;\n  out[3] = 0;\n  out[4] = z1 * x2 - z2 * x1;\n  out[5] = z2 * x0 - z0 * x2;\n  out[6] = z0 * x1 - z1 * x0;\n  out[7] = 0;\n  out[8] = z0;\n  out[9] = z1;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = eyex;\n  out[13] = eyey;\n  out[14] = eyez;\n  out[15] = 1;\n  return out;\n}\n/**\n * Returns a string representation of a mat4\n *\n * @param {ReadonlyMat4} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\n\nexport function str(a) {\n  return \"mat4(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \", \" + a[9] + \", \" + a[10] + \", \" + a[11] + \", \" + a[12] + \", \" + a[13] + \", \" + a[14] + \", \" + a[15] + \")\";\n}\n/**\n * Returns Frobenius norm of a mat4\n *\n * @param {ReadonlyMat4} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8], a[9], a[10], a[11], a[12], a[13], a[14], a[15]);\n}\n/**\n * Adds two mat4's\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @returns {mat4} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  out[9] = a[9] + b[9];\n  out[10] = a[10] + b[10];\n  out[11] = a[11] + b[11];\n  out[12] = a[12] + b[12];\n  out[13] = a[13] + b[13];\n  out[14] = a[14] + b[14];\n  out[15] = a[15] + b[15];\n  return out;\n}\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @returns {mat4} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  out[9] = a[9] - b[9];\n  out[10] = a[10] - b[10];\n  out[11] = a[11] - b[11];\n  out[12] = a[12] - b[12];\n  out[13] = a[13] - b[13];\n  out[14] = a[14] - b[14];\n  out[15] = a[15] - b[15];\n  return out;\n}\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat4} out\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  out[9] = a[9] * b;\n  out[10] = a[10] * b;\n  out[11] = a[11] * b;\n  out[12] = a[12] * b;\n  out[13] = a[13] * b;\n  out[14] = a[14] * b;\n  out[15] = a[15] * b;\n  return out;\n}\n/**\n * Adds two mat4's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat4} out the receiving vector\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat4} out\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  out[9] = a[9] + b[9] * scale;\n  out[10] = a[10] + b[10] * scale;\n  out[11] = a[11] + b[11] * scale;\n  out[12] = a[12] + b[12] * scale;\n  out[13] = a[13] + b[13] * scale;\n  out[14] = a[14] + b[14] * scale;\n  out[15] = a[15] + b[15] * scale;\n  return out;\n}\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyMat4} a The first matrix.\n * @param {ReadonlyMat4} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8] && a[9] === b[9] && a[10] === b[10] && a[11] === b[11] && a[12] === b[12] && a[13] === b[13] && a[14] === b[14] && a[15] === b[15];\n}\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {ReadonlyMat4} a The first matrix.\n * @param {ReadonlyMat4} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7];\n  var a8 = a[8],\n      a9 = a[9],\n      a10 = a[10],\n      a11 = a[11];\n  var a12 = a[12],\n      a13 = a[13],\n      a14 = a[14],\n      a15 = a[15];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  var b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7];\n  var b8 = b[8],\n      b9 = b[9],\n      b10 = b[10],\n      b11 = b[11];\n  var b12 = b[12],\n      b13 = b[13],\n      b14 = b[14],\n      b15 = b[15];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8)) && Math.abs(a9 - b9) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a9), Math.abs(b9)) && Math.abs(a10 - b10) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a10), Math.abs(b10)) && Math.abs(a11 - b11) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a11), Math.abs(b11)) && Math.abs(a12 - b12) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a12), Math.abs(b12)) && Math.abs(a13 - b13) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a13), Math.abs(b13)) && Math.abs(a14 - b14) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a14), Math.abs(b14)) && Math.abs(a15 - b15) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a15), Math.abs(b15));\n}\n/**\n * Alias for {@link mat4.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link mat4.subtract}\n * @function\n */\n\nexport var sub = subtract;", "import * as glMatrix from \"./common.js\";\nimport * as mat3 from \"./mat3.js\";\nimport * as vec3 from \"./vec3.js\";\nimport * as vec4 from \"./vec4.js\";\n/**\n * Quaternion\n * @module quat\n */\n\n/**\n * Creates a new identity quat\n *\n * @returns {quat} a new quaternion\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(4);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  out[3] = 1;\n  return out;\n}\n/**\n * Set a quat to the identity quaternion\n *\n * @param {quat} out the receiving quaternion\n * @returns {quat} out\n */\n\nexport function identity(out) {\n  out[0] = 0;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  return out;\n}\n/**\n * Sets a quat from the given angle and rotation axis,\n * then returns it.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyVec3} axis the axis around which to rotate\n * @param {Number} rad the angle in radians\n * @returns {quat} out\n **/\n\nexport function setAxisAngle(out, axis, rad) {\n  rad = rad * 0.5;\n  var s = Math.sin(rad);\n  out[0] = s * axis[0];\n  out[1] = s * axis[1];\n  out[2] = s * axis[2];\n  out[3] = Math.cos(rad);\n  return out;\n}\n/**\n * Gets the rotation axis and angle for a given\n *  quaternion. If a quaternion is created with\n *  setAxisAngle, this method will return the same\n *  values as providied in the original parameter list\n *  OR functionally equivalent values.\n * Example: The quaternion formed by axis [0, 0, 1] and\n *  angle -90 is the same as the quaternion formed by\n *  [0, 0, 1] and 270. This method favors the latter.\n * @param  {vec3} out_axis  Vector receiving the axis of rotation\n * @param  {ReadonlyQuat} q     Quaternion to be decomposed\n * @return {Number}     Angle, in radians, of the rotation\n */\n\nexport function getAxisAngle(out_axis, q) {\n  var rad = Math.acos(q[3]) * 2.0;\n  var s = Math.sin(rad / 2.0);\n\n  if (s > glMatrix.EPSILON) {\n    out_axis[0] = q[0] / s;\n    out_axis[1] = q[1] / s;\n    out_axis[2] = q[2] / s;\n  } else {\n    // If s is zero, return any axis (no rotation - axis does not matter)\n    out_axis[0] = 1;\n    out_axis[1] = 0;\n    out_axis[2] = 0;\n  }\n\n  return rad;\n}\n/**\n * Gets the angular distance between two unit quaternions\n *\n * @param  {ReadonlyQuat} a     Origin unit quaternion\n * @param  {ReadonlyQuat} b     Destination unit quaternion\n * @return {Number}     Angle, in radians, between the two quaternions\n */\n\nexport function getAngle(a, b) {\n  var dotproduct = dot(a, b);\n  return Math.acos(2 * dotproduct * dotproduct - 1);\n}\n/**\n * Multiplies two quat's\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @returns {quat} out\n */\n\nexport function multiply(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2],\n      bw = b[3];\n  out[0] = ax * bw + aw * bx + ay * bz - az * by;\n  out[1] = ay * bw + aw * by + az * bx - ax * bz;\n  out[2] = az * bw + aw * bz + ax * by - ay * bx;\n  out[3] = aw * bw - ax * bx - ay * by - az * bz;\n  return out;\n}\n/**\n * Rotates a quaternion by the given angle about the X axis\n *\n * @param {quat} out quat receiving operation result\n * @param {ReadonlyQuat} a quat to rotate\n * @param {number} rad angle (in radians) to rotate\n * @returns {quat} out\n */\n\nexport function rotateX(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw + aw * bx;\n  out[1] = ay * bw + az * bx;\n  out[2] = az * bw - ay * bx;\n  out[3] = aw * bw - ax * bx;\n  return out;\n}\n/**\n * Rotates a quaternion by the given angle about the Y axis\n *\n * @param {quat} out quat receiving operation result\n * @param {ReadonlyQuat} a quat to rotate\n * @param {number} rad angle (in radians) to rotate\n * @returns {quat} out\n */\n\nexport function rotateY(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var by = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw - az * by;\n  out[1] = ay * bw + aw * by;\n  out[2] = az * bw + ax * by;\n  out[3] = aw * bw - ay * by;\n  return out;\n}\n/**\n * Rotates a quaternion by the given angle about the Z axis\n *\n * @param {quat} out quat receiving operation result\n * @param {ReadonlyQuat} a quat to rotate\n * @param {number} rad angle (in radians) to rotate\n * @returns {quat} out\n */\n\nexport function rotateZ(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bz = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw + ay * bz;\n  out[1] = ay * bw - ax * bz;\n  out[2] = az * bw + aw * bz;\n  out[3] = aw * bw - az * bz;\n  return out;\n}\n/**\n * Calculates the W component of a quat from the X, Y, and Z components.\n * Assumes that quaternion is 1 unit in length.\n * Any existing W component will be ignored.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate W component of\n * @returns {quat} out\n */\n\nexport function calculateW(out, a) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = Math.sqrt(Math.abs(1.0 - x * x - y * y - z * z));\n  return out;\n}\n/**\n * Calculate the exponential of a unit quaternion.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate the exponential of\n * @returns {quat} out\n */\n\nexport function exp(out, a) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  var r = Math.sqrt(x * x + y * y + z * z);\n  var et = Math.exp(w);\n  var s = r > 0 ? et * Math.sin(r) / r : 0;\n  out[0] = x * s;\n  out[1] = y * s;\n  out[2] = z * s;\n  out[3] = et * Math.cos(r);\n  return out;\n}\n/**\n * Calculate the natural logarithm of a unit quaternion.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate the exponential of\n * @returns {quat} out\n */\n\nexport function ln(out, a) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  var r = Math.sqrt(x * x + y * y + z * z);\n  var t = r > 0 ? Math.atan2(r, w) / r : 0;\n  out[0] = x * t;\n  out[1] = y * t;\n  out[2] = z * t;\n  out[3] = 0.5 * Math.log(x * x + y * y + z * z + w * w);\n  return out;\n}\n/**\n * Calculate the scalar power of a unit quaternion.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate the exponential of\n * @param {Number} b amount to scale the quaternion by\n * @returns {quat} out\n */\n\nexport function pow(out, a, b) {\n  ln(out, a);\n  scale(out, out, b);\n  exp(out, out);\n  return out;\n}\n/**\n * Performs a spherical linear interpolation between two quat\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {quat} out\n */\n\nexport function slerp(out, a, b, t) {\n  // benchmarks:\n  //    http://jsperf.com/quaternion-slerp-implementations\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2],\n      bw = b[3];\n  var omega, cosom, sinom, scale0, scale1; // calc cosine\n\n  cosom = ax * bx + ay * by + az * bz + aw * bw; // adjust signs (if necessary)\n\n  if (cosom < 0.0) {\n    cosom = -cosom;\n    bx = -bx;\n    by = -by;\n    bz = -bz;\n    bw = -bw;\n  } // calculate coefficients\n\n\n  if (1.0 - cosom > glMatrix.EPSILON) {\n    // standard case (slerp)\n    omega = Math.acos(cosom);\n    sinom = Math.sin(omega);\n    scale0 = Math.sin((1.0 - t) * omega) / sinom;\n    scale1 = Math.sin(t * omega) / sinom;\n  } else {\n    // \"from\" and \"to\" quaternions are very close\n    //  ... so we can do a linear interpolation\n    scale0 = 1.0 - t;\n    scale1 = t;\n  } // calculate final values\n\n\n  out[0] = scale0 * ax + scale1 * bx;\n  out[1] = scale0 * ay + scale1 * by;\n  out[2] = scale0 * az + scale1 * bz;\n  out[3] = scale0 * aw + scale1 * bw;\n  return out;\n}\n/**\n * Generates a random unit quaternion\n *\n * @param {quat} out the receiving quaternion\n * @returns {quat} out\n */\n\nexport function random(out) {\n  // Implementation of http://planning.cs.uiuc.edu/node198.html\n  // TODO: Calling random 3 times is probably not the fastest solution\n  var u1 = glMatrix.RANDOM();\n  var u2 = glMatrix.RANDOM();\n  var u3 = glMatrix.RANDOM();\n  var sqrt1MinusU1 = Math.sqrt(1 - u1);\n  var sqrtU1 = Math.sqrt(u1);\n  out[0] = sqrt1MinusU1 * Math.sin(2.0 * Math.PI * u2);\n  out[1] = sqrt1MinusU1 * Math.cos(2.0 * Math.PI * u2);\n  out[2] = sqrtU1 * Math.sin(2.0 * Math.PI * u3);\n  out[3] = sqrtU1 * Math.cos(2.0 * Math.PI * u3);\n  return out;\n}\n/**\n * Calculates the inverse of a quat\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate inverse of\n * @returns {quat} out\n */\n\nexport function invert(out, a) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var dot = a0 * a0 + a1 * a1 + a2 * a2 + a3 * a3;\n  var invDot = dot ? 1.0 / dot : 0; // TODO: Would be faster to return [0,0,0,0] immediately if dot == 0\n\n  out[0] = -a0 * invDot;\n  out[1] = -a1 * invDot;\n  out[2] = -a2 * invDot;\n  out[3] = a3 * invDot;\n  return out;\n}\n/**\n * Calculates the conjugate of a quat\n * If the quaternion is normalized, this function is faster than quat.inverse and produces the same result.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate conjugate of\n * @returns {quat} out\n */\n\nexport function conjugate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\n * Creates a quaternion from the given 3x3 rotation matrix.\n *\n * NOTE: The resultant quaternion is not normalized, so you should be sure\n * to renormalize the quaternion yourself where necessary.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyMat3} m rotation matrix\n * @returns {quat} out\n * @function\n */\n\nexport function fromMat3(out, m) {\n  // Algorithm in Ken Shoemake's article in 1987 SIGGRAPH course notes\n  // article \"Quaternion Calculus and Fast Animation\".\n  var fTrace = m[0] + m[4] + m[8];\n  var fRoot;\n\n  if (fTrace > 0.0) {\n    // |w| > 1/2, may as well choose w > 1/2\n    fRoot = Math.sqrt(fTrace + 1.0); // 2w\n\n    out[3] = 0.5 * fRoot;\n    fRoot = 0.5 / fRoot; // 1/(4w)\n\n    out[0] = (m[5] - m[7]) * fRoot;\n    out[1] = (m[6] - m[2]) * fRoot;\n    out[2] = (m[1] - m[3]) * fRoot;\n  } else {\n    // |w| <= 1/2\n    var i = 0;\n    if (m[4] > m[0]) i = 1;\n    if (m[8] > m[i * 3 + i]) i = 2;\n    var j = (i + 1) % 3;\n    var k = (i + 2) % 3;\n    fRoot = Math.sqrt(m[i * 3 + i] - m[j * 3 + j] - m[k * 3 + k] + 1.0);\n    out[i] = 0.5 * fRoot;\n    fRoot = 0.5 / fRoot;\n    out[3] = (m[j * 3 + k] - m[k * 3 + j]) * fRoot;\n    out[j] = (m[j * 3 + i] + m[i * 3 + j]) * fRoot;\n    out[k] = (m[k * 3 + i] + m[i * 3 + k]) * fRoot;\n  }\n\n  return out;\n}\n/**\n * Creates a quaternion from the given euler angle x, y, z.\n *\n * @param {quat} out the receiving quaternion\n * @param {x} Angle to rotate around X axis in degrees.\n * @param {y} Angle to rotate around Y axis in degrees.\n * @param {z} Angle to rotate around Z axis in degrees.\n * @returns {quat} out\n * @function\n */\n\nexport function fromEuler(out, x, y, z) {\n  var halfToRad = 0.5 * Math.PI / 180.0;\n  x *= halfToRad;\n  y *= halfToRad;\n  z *= halfToRad;\n  var sx = Math.sin(x);\n  var cx = Math.cos(x);\n  var sy = Math.sin(y);\n  var cy = Math.cos(y);\n  var sz = Math.sin(z);\n  var cz = Math.cos(z);\n  out[0] = sx * cy * cz - cx * sy * sz;\n  out[1] = cx * sy * cz + sx * cy * sz;\n  out[2] = cx * cy * sz - sx * sy * cz;\n  out[3] = cx * cy * cz + sx * sy * sz;\n  return out;\n}\n/**\n * Returns a string representation of a quatenion\n *\n * @param {ReadonlyQuat} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"quat(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \")\";\n}\n/**\n * Creates a new quat initialized with values from an existing quaternion\n *\n * @param {ReadonlyQuat} a quaternion to clone\n * @returns {quat} a new quaternion\n * @function\n */\n\nexport var clone = vec4.clone;\n/**\n * Creates a new quat initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {quat} a new quaternion\n * @function\n */\n\nexport var fromValues = vec4.fromValues;\n/**\n * Copy the values from one quat to another\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the source quaternion\n * @returns {quat} out\n * @function\n */\n\nexport var copy = vec4.copy;\n/**\n * Set the components of a quat to the given values\n *\n * @param {quat} out the receiving quaternion\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {quat} out\n * @function\n */\n\nexport var set = vec4.set;\n/**\n * Adds two quat's\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @returns {quat} out\n * @function\n */\n\nexport var add = vec4.add;\n/**\n * Alias for {@link quat.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Scales a quat by a scalar number\n *\n * @param {quat} out the receiving vector\n * @param {ReadonlyQuat} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {quat} out\n * @function\n */\n\nexport var scale = vec4.scale;\n/**\n * Calculates the dot product of two quat's\n *\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @returns {Number} dot product of a and b\n * @function\n */\n\nexport var dot = vec4.dot;\n/**\n * Performs a linear interpolation between two quat's\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {quat} out\n * @function\n */\n\nexport var lerp = vec4.lerp;\n/**\n * Calculates the length of a quat\n *\n * @param {ReadonlyQuat} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport var length = vec4.length;\n/**\n * Alias for {@link quat.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Calculates the squared length of a quat\n *\n * @param {ReadonlyQuat} a vector to calculate squared length of\n * @returns {Number} squared length of a\n * @function\n */\n\nexport var squaredLength = vec4.squaredLength;\n/**\n * Alias for {@link quat.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Normalize a quat\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quaternion to normalize\n * @returns {quat} out\n * @function\n */\n\nexport var normalize = vec4.normalize;\n/**\n * Returns whether or not the quaternions have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyQuat} a The first quaternion.\n * @param {ReadonlyQuat} b The second quaternion.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport var exactEquals = vec4.exactEquals;\n/**\n * Returns whether or not the quaternions have approximately the same elements in the same position.\n *\n * @param {ReadonlyQuat} a The first vector.\n * @param {ReadonlyQuat} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport var equals = vec4.equals;\n/**\n * Sets a quaternion to represent the shortest rotation from one\n * vector to another.\n *\n * Both vectors are assumed to be unit length.\n *\n * @param {quat} out the receiving quaternion.\n * @param {ReadonlyVec3} a the initial vector\n * @param {ReadonlyVec3} b the destination vector\n * @returns {quat} out\n */\n\nexport var rotationTo = function () {\n  var tmpvec3 = vec3.create();\n  var xUnitVec3 = vec3.fromValues(1, 0, 0);\n  var yUnitVec3 = vec3.fromValues(0, 1, 0);\n  return function (out, a, b) {\n    var dot = vec3.dot(a, b);\n\n    if (dot < -0.999999) {\n      vec3.cross(tmpvec3, xUnitVec3, a);\n      if (vec3.len(tmpvec3) < 0.000001) vec3.cross(tmpvec3, yUnitVec3, a);\n      vec3.normalize(tmpvec3, tmpvec3);\n      setAxisAngle(out, tmpvec3, Math.PI);\n      return out;\n    } else if (dot > 0.999999) {\n      out[0] = 0;\n      out[1] = 0;\n      out[2] = 0;\n      out[3] = 1;\n      return out;\n    } else {\n      vec3.cross(tmpvec3, a, b);\n      out[0] = tmpvec3[0];\n      out[1] = tmpvec3[1];\n      out[2] = tmpvec3[2];\n      out[3] = 1 + dot;\n      return normalize(out, out);\n    }\n  };\n}();\n/**\n * Performs a spherical linear interpolation with two control points\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @param {ReadonlyQuat} c the third operand\n * @param {ReadonlyQuat} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {quat} out\n */\n\nexport var sqlerp = function () {\n  var temp1 = create();\n  var temp2 = create();\n  return function (out, a, b, c, d, t) {\n    slerp(temp1, a, d, t);\n    slerp(temp2, b, c, t);\n    slerp(out, temp1, temp2, 2 * t * (1 - t));\n    return out;\n  };\n}();\n/**\n * Sets the specified quaternion with values corresponding to the given\n * axes. Each axis is a vec3 and is expected to be unit length and\n * perpendicular to all other specified axes.\n *\n * @param {ReadonlyVec3} view  the vector representing the viewing direction\n * @param {ReadonlyVec3} right the vector representing the local \"right\" direction\n * @param {ReadonlyVec3} up    the vector representing the local \"up\" direction\n * @returns {quat} out\n */\n\nexport var setAxes = function () {\n  var matr = mat3.create();\n  return function (out, view, right, up) {\n    matr[0] = right[0];\n    matr[3] = right[1];\n    matr[6] = right[2];\n    matr[1] = up[0];\n    matr[4] = up[1];\n    matr[7] = up[2];\n    matr[2] = -view[0];\n    matr[5] = -view[1];\n    matr[8] = -view[2];\n    return normalize(out, fromMat3(out, matr));\n  };\n}();", "import * as glMatrix from \"./common.js\";\n/**\n * 3 Dimensional Vector\n * @module vec3\n */\n\n/**\n * Creates a new, empty vec3\n *\n * @returns {vec3} a new 3D vector\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(3);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec3 initialized with values from an existing vector\n *\n * @param {ReadonlyVec3} a vector to clone\n * @returns {vec3} a new 3D vector\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Calculates the length of a vec3\n *\n * @param {ReadonlyVec3} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return Math.hypot(x, y, z);\n}\n/**\n * Creates a new vec3 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} a new 3D vector\n */\n\nexport function fromValues(x, y, z) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Copy the values from one vec3 to another\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the source vector\n * @returns {vec3} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Set the components of a vec3 to the given values\n *\n * @param {vec3} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} out\n */\n\nexport function set(out, x, y, z) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Adds two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n/**\n * Multiplies two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n/**\n * Divides two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n/**\n * Math.ceil the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to ceil\n * @returns {vec3} out\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  return out;\n}\n/**\n * Math.floor the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to floor\n * @returns {vec3} out\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  return out;\n}\n/**\n * Returns the minimum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  return out;\n}\n/**\n * Returns the maximum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  return out;\n}\n/**\n * Math.round the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to round\n * @returns {vec3} out\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  return out;\n}\n/**\n * Scales a vec3 by a scalar number\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec3} out\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  return out;\n}\n/**\n * Adds two vec3's after scaling the second operand by a scalar value\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec3} out\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} distance between a and b\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return Math.hypot(x, y, z);\n}\n/**\n * Calculates the squared euclidian distance between two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Calculates the squared length of a vec3\n *\n * @param {ReadonlyVec3} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Negates the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to negate\n * @returns {vec3} out\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to invert\n * @returns {vec3} out\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  return out;\n}\n/**\n * Normalize a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to normalize\n * @returns {vec3} out\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var len = x * x + y * y + z * z;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  out[2] = a[2] * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n/**\n * Computes the cross product of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function cross(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2];\n  out[0] = ay * bz - az * by;\n  out[1] = az * bx - ax * bz;\n  out[2] = ax * by - ay * bx;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  return out;\n}\n/**\n * Performs a hermite interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {ReadonlyVec3} c the third operand\n * @param {ReadonlyVec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function hermite(out, a, b, c, d, t) {\n  var factorTimes2 = t * t;\n  var factor1 = factorTimes2 * (2 * t - 3) + 1;\n  var factor2 = factorTimes2 * (t - 2) + t;\n  var factor3 = factorTimes2 * (t - 1);\n  var factor4 = factorTimes2 * (3 - 2 * t);\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Performs a bezier interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {ReadonlyVec3} c the third operand\n * @param {ReadonlyVec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function bezier(out, a, b, c, d, t) {\n  var inverseFactor = 1 - t;\n  var inverseFactorTimesTwo = inverseFactor * inverseFactor;\n  var factorTimes2 = t * t;\n  var factor1 = inverseFactorTimesTwo * inverseFactor;\n  var factor2 = 3 * t * inverseFactorTimesTwo;\n  var factor3 = 3 * factorTimes2 * inverseFactor;\n  var factor4 = factorTimes2 * t;\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec3} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec3} out\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  var z = glMatrix.RANDOM() * 2.0 - 1.0;\n  var zScale = Math.sqrt(1.0 - z * z) * scale;\n  out[0] = Math.cos(r) * zScale;\n  out[1] = Math.sin(r) * zScale;\n  out[2] = z * scale;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat4.\n * 4th vector component is implicitly '1'\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec3} out\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  w = w || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat3.\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyMat3} m the 3x3 matrix to transform with\n * @returns {vec3} out\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x * m[0] + y * m[3] + z * m[6];\n  out[1] = x * m[1] + y * m[4] + z * m[7];\n  out[2] = x * m[2] + y * m[5] + z * m[8];\n  return out;\n}\n/**\n * Transforms the vec3 with a quat\n * Can also be used for dual quaternions. (Multiply it with the real part)\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyQuat} q quaternion to transform with\n * @returns {vec3} out\n */\n\nexport function transformQuat(out, a, q) {\n  // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3];\n  var x = a[0],\n      y = a[1],\n      z = a[2]; // var qvec = [qx, qy, qz];\n  // var uv = vec3.cross([], qvec, a);\n\n  var uvx = qy * z - qz * y,\n      uvy = qz * x - qx * z,\n      uvz = qx * y - qy * x; // var uuv = vec3.cross([], qvec, uv);\n\n  var uuvx = qy * uvz - qz * uvy,\n      uuvy = qz * uvx - qx * uvz,\n      uuvz = qx * uvy - qy * uvx; // vec3.scale(uv, uv, 2 * w);\n\n  var w2 = qw * 2;\n  uvx *= w2;\n  uvy *= w2;\n  uvz *= w2; // vec3.scale(uuv, uuv, 2);\n\n  uuvx *= 2;\n  uuvy *= 2;\n  uuvz *= 2; // return vec3.add(out, a, vec3.add(out, uv, uuv));\n\n  out[0] = x + uvx + uuvx;\n  out[1] = y + uvy + uuvy;\n  out[2] = z + uvz + uuvz;\n  return out;\n}\n/**\n * Rotate a 3D vector around the x-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateX(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0];\n  r[1] = p[1] * Math.cos(rad) - p[2] * Math.sin(rad);\n  r[2] = p[1] * Math.sin(rad) + p[2] * Math.cos(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the y-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateY(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[2] * Math.sin(rad) + p[0] * Math.cos(rad);\n  r[1] = p[1];\n  r[2] = p[2] * Math.cos(rad) - p[0] * Math.sin(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the z-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateZ(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0] * Math.cos(rad) - p[1] * Math.sin(rad);\n  r[1] = p[0] * Math.sin(rad) + p[1] * Math.cos(rad);\n  r[2] = p[2]; //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Get the angle between two 3D vectors\n * @param {ReadonlyVec3} a The first operand\n * @param {ReadonlyVec3} b The second operand\n * @returns {Number} The angle in radians\n */\n\nexport function angle(a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      bx = b[0],\n      by = b[1],\n      bz = b[2],\n      mag1 = Math.sqrt(ax * ax + ay * ay + az * az),\n      mag2 = Math.sqrt(bx * bx + by * by + bz * bz),\n      mag = mag1 * mag2,\n      cosine = mag && dot(a, b) / mag;\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\n * Set the components of a vec3 to zero\n *\n * @param {vec3} out the receiving vector\n * @returns {vec3} out\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec3} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"vec3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \")\";\n}\n/**\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec3} a The first vector.\n * @param {ReadonlyVec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec3} a The first vector.\n * @param {ReadonlyVec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));\n}\n/**\n * Alias for {@link vec3.subtract}\n * @function\n */\n\nexport var sub = subtract;\n/**\n * Alias for {@link vec3.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link vec3.divide}\n * @function\n */\n\nexport var div = divide;\n/**\n * Alias for {@link vec3.distance}\n * @function\n */\n\nexport var dist = distance;\n/**\n * Alias for {@link vec3.squaredDistance}\n * @function\n */\n\nexport var sqrDist = squaredDistance;\n/**\n * Alias for {@link vec3.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Alias for {@link vec3.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec3s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 3;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n    }\n\n    return a;\n  };\n}();", "import * as glMatrix from \"./common.js\";\n/**\n * 4 Dimensional Vector\n * @module vec4\n */\n\n/**\n * Creates a new, empty vec4\n *\n * @returns {vec4} a new 4D vector\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(4);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec4 initialized with values from an existing vector\n *\n * @param {ReadonlyVec4} a vector to clone\n * @returns {vec4} a new 4D vector\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\n * Creates a new vec4 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {vec4} a new 4D vector\n */\n\nexport function fromValues(x, y, z, w) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\n * Copy the values from one vec4 to another\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the source vector\n * @returns {vec4} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\n * Set the components of a vec4 to the given values\n *\n * @param {vec4} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {vec4} out\n */\n\nexport function set(out, x, y, z, w) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\n * Adds two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  return out;\n}\n/**\n * Multiplies two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  out[3] = a[3] * b[3];\n  return out;\n}\n/**\n * Divides two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  out[3] = a[3] / b[3];\n  return out;\n}\n/**\n * Math.ceil the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to ceil\n * @returns {vec4} out\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  out[3] = Math.ceil(a[3]);\n  return out;\n}\n/**\n * Math.floor the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to floor\n * @returns {vec4} out\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  out[3] = Math.floor(a[3]);\n  return out;\n}\n/**\n * Returns the minimum of two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  out[3] = Math.min(a[3], b[3]);\n  return out;\n}\n/**\n * Returns the maximum of two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  out[3] = Math.max(a[3], b[3]);\n  return out;\n}\n/**\n * Math.round the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to round\n * @returns {vec4} out\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  out[3] = Math.round(a[3]);\n  return out;\n}\n/**\n * Scales a vec4 by a scalar number\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec4} out\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  return out;\n}\n/**\n * Adds two vec4's after scaling the second operand by a scalar value\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec4} out\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec4's\n *\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {Number} distance between a and b\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return Math.hypot(x, y, z, w);\n}\n/**\n * Calculates the squared euclidian distance between two vec4's\n *\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\n * Calculates the length of a vec4\n *\n * @param {ReadonlyVec4} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return Math.hypot(x, y, z, w);\n}\n/**\n * Calculates the squared length of a vec4\n *\n * @param {ReadonlyVec4} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\n * Negates the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to negate\n * @returns {vec4} out\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = -a[3];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to invert\n * @returns {vec4} out\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  out[3] = 1.0 / a[3];\n  return out;\n}\n/**\n * Normalize a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to normalize\n * @returns {vec4} out\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  var len = x * x + y * y + z * z + w * w;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = x * len;\n  out[1] = y * len;\n  out[2] = z * len;\n  out[3] = w * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec4's\n *\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3];\n}\n/**\n * Returns the cross-product of three vectors in a 4-dimensional space\n *\n * @param {ReadonlyVec4} result the receiving vector\n * @param {ReadonlyVec4} U the first vector\n * @param {ReadonlyVec4} V the second vector\n * @param {ReadonlyVec4} W the third vector\n * @returns {vec4} result\n */\n\nexport function cross(out, u, v, w) {\n  var A = v[0] * w[1] - v[1] * w[0],\n      B = v[0] * w[2] - v[2] * w[0],\n      C = v[0] * w[3] - v[3] * w[0],\n      D = v[1] * w[2] - v[2] * w[1],\n      E = v[1] * w[3] - v[3] * w[1],\n      F = v[2] * w[3] - v[3] * w[2];\n  var G = u[0];\n  var H = u[1];\n  var I = u[2];\n  var J = u[3];\n  out[0] = H * F - I * E + J * D;\n  out[1] = -(G * F) + I * C - J * B;\n  out[2] = G * E - H * C + J * A;\n  out[3] = -(G * D) + H * B - I * A;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec4} out\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  var aw = a[3];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  out[3] = aw + t * (b[3] - aw);\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec4} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec4} out\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0; // Marsaglia, George. Choosing a Point from the Surface of a\n  // Sphere. Ann. Math. Statist. 43 (1972), no. 2, 645--646.\n  // http://projecteuclid.org/euclid.aoms/1177692644;\n\n  var v1, v2, v3, v4;\n  var s1, s2;\n\n  do {\n    v1 = glMatrix.RANDOM() * 2 - 1;\n    v2 = glMatrix.RANDOM() * 2 - 1;\n    s1 = v1 * v1 + v2 * v2;\n  } while (s1 >= 1);\n\n  do {\n    v3 = glMatrix.RANDOM() * 2 - 1;\n    v4 = glMatrix.RANDOM() * 2 - 1;\n    s2 = v3 * v3 + v4 * v4;\n  } while (s2 >= 1);\n\n  var d = Math.sqrt((1 - s1) / s2);\n  out[0] = scale * v1;\n  out[1] = scale * v2;\n  out[2] = scale * v3 * d;\n  out[3] = scale * v4 * d;\n  return out;\n}\n/**\n * Transforms the vec4 with a mat4.\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec4} out\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  out[0] = m[0] * x + m[4] * y + m[8] * z + m[12] * w;\n  out[1] = m[1] * x + m[5] * y + m[9] * z + m[13] * w;\n  out[2] = m[2] * x + m[6] * y + m[10] * z + m[14] * w;\n  out[3] = m[3] * x + m[7] * y + m[11] * z + m[15] * w;\n  return out;\n}\n/**\n * Transforms the vec4 with a quat\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the vector to transform\n * @param {ReadonlyQuat} q quaternion to transform with\n * @returns {vec4} out\n */\n\nexport function transformQuat(out, a, q) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3]; // calculate quat * vec\n\n  var ix = qw * x + qy * z - qz * y;\n  var iy = qw * y + qz * x - qx * z;\n  var iz = qw * z + qx * y - qy * x;\n  var iw = -qx * x - qy * y - qz * z; // calculate result * inverse quat\n\n  out[0] = ix * qw + iw * -qx + iy * -qz - iz * -qy;\n  out[1] = iy * qw + iw * -qy + iz * -qx - ix * -qz;\n  out[2] = iz * qw + iw * -qz + ix * -qy - iy * -qx;\n  out[3] = a[3];\n  return out;\n}\n/**\n * Set the components of a vec4 to zero\n *\n * @param {vec4} out the receiving vector\n * @returns {vec4} out\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec4} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"vec4(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \")\";\n}\n/**\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec4} a The first vector.\n * @param {ReadonlyVec4} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec4} a The first vector.\n * @param {ReadonlyVec4} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3));\n}\n/**\n * Alias for {@link vec4.subtract}\n * @function\n */\n\nexport var sub = subtract;\n/**\n * Alias for {@link vec4.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link vec4.divide}\n * @function\n */\n\nexport var div = divide;\n/**\n * Alias for {@link vec4.distance}\n * @function\n */\n\nexport var dist = distance;\n/**\n * Alias for {@link vec4.squaredDistance}\n * @function\n */\n\nexport var sqrDist = squaredDistance;\n/**\n * Alias for {@link vec4.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Alias for {@link vec4.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec4s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec4. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec4s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 4;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      vec[3] = a[i + 3];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n      a[i + 3] = vec[3];\n    }\n\n    return a;\n  };\n}();", "import * as glMatrix from \"./common.js\";\nimport * as quat from \"./quat.js\";\nimport * as mat4 from \"./mat4.js\";\n/**\n * Dual Quaternion<br>\n * Format: [real, dual]<br>\n * Quaternion format: XYZW<br>\n * Make sure to have normalized dual quaternions, otherwise the functions may not work as intended.<br>\n * @module quat2\n */\n\n/**\n * Creates a new identity dual quat\n *\n * @returns {quat2} a new dual quaternion [real -> rotation, dual -> translation]\n */\n\nexport function create() {\n  var dq = new glMatrix.ARRAY_TYPE(8);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    dq[0] = 0;\n    dq[1] = 0;\n    dq[2] = 0;\n    dq[4] = 0;\n    dq[5] = 0;\n    dq[6] = 0;\n    dq[7] = 0;\n  }\n\n  dq[3] = 1;\n  return dq;\n}\n/**\n * Creates a new quat initialized with values from an existing quaternion\n *\n * @param {ReadonlyQuat2} a dual quaternion to clone\n * @returns {quat2} new dual quaternion\n * @function\n */\n\nexport function clone(a) {\n  var dq = new glMatrix.ARRAY_TYPE(8);\n  dq[0] = a[0];\n  dq[1] = a[1];\n  dq[2] = a[2];\n  dq[3] = a[3];\n  dq[4] = a[4];\n  dq[5] = a[5];\n  dq[6] = a[6];\n  dq[7] = a[7];\n  return dq;\n}\n/**\n * Creates a new dual quat initialized with the given values\n *\n * @param {Number} x1 X component\n * @param {Number} y1 Y component\n * @param {Number} z1 Z component\n * @param {Number} w1 W component\n * @param {Number} x2 X component\n * @param {Number} y2 Y component\n * @param {Number} z2 Z component\n * @param {Number} w2 W component\n * @returns {quat2} new dual quaternion\n * @function\n */\n\nexport function fromValues(x1, y1, z1, w1, x2, y2, z2, w2) {\n  var dq = new glMatrix.ARRAY_TYPE(8);\n  dq[0] = x1;\n  dq[1] = y1;\n  dq[2] = z1;\n  dq[3] = w1;\n  dq[4] = x2;\n  dq[5] = y2;\n  dq[6] = z2;\n  dq[7] = w2;\n  return dq;\n}\n/**\n * Creates a new dual quat from the given values (quat and translation)\n *\n * @param {Number} x1 X component\n * @param {Number} y1 Y component\n * @param {Number} z1 Z component\n * @param {Number} w1 W component\n * @param {Number} x2 X component (translation)\n * @param {Number} y2 Y component (translation)\n * @param {Number} z2 Z component (translation)\n * @returns {quat2} new dual quaternion\n * @function\n */\n\nexport function fromRotationTranslationValues(x1, y1, z1, w1, x2, y2, z2) {\n  var dq = new glMatrix.ARRAY_TYPE(8);\n  dq[0] = x1;\n  dq[1] = y1;\n  dq[2] = z1;\n  dq[3] = w1;\n  var ax = x2 * 0.5,\n      ay = y2 * 0.5,\n      az = z2 * 0.5;\n  dq[4] = ax * w1 + ay * z1 - az * y1;\n  dq[5] = ay * w1 + az * x1 - ax * z1;\n  dq[6] = az * w1 + ax * y1 - ay * x1;\n  dq[7] = -ax * x1 - ay * y1 - az * z1;\n  return dq;\n}\n/**\n * Creates a dual quat from a quaternion and a translation\n *\n * @param {ReadonlyQuat2} dual quaternion receiving operation result\n * @param {ReadonlyQuat} q a normalized quaternion\n * @param {ReadonlyVec3} t tranlation vector\n * @returns {quat2} dual quaternion receiving operation result\n * @function\n */\n\nexport function fromRotationTranslation(out, q, t) {\n  var ax = t[0] * 0.5,\n      ay = t[1] * 0.5,\n      az = t[2] * 0.5,\n      bx = q[0],\n      by = q[1],\n      bz = q[2],\n      bw = q[3];\n  out[0] = bx;\n  out[1] = by;\n  out[2] = bz;\n  out[3] = bw;\n  out[4] = ax * bw + ay * bz - az * by;\n  out[5] = ay * bw + az * bx - ax * bz;\n  out[6] = az * bw + ax * by - ay * bx;\n  out[7] = -ax * bx - ay * by - az * bz;\n  return out;\n}\n/**\n * Creates a dual quat from a translation\n *\n * @param {ReadonlyQuat2} dual quaternion receiving operation result\n * @param {ReadonlyVec3} t translation vector\n * @returns {quat2} dual quaternion receiving operation result\n * @function\n */\n\nexport function fromTranslation(out, t) {\n  out[0] = 0;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = t[0] * 0.5;\n  out[5] = t[1] * 0.5;\n  out[6] = t[2] * 0.5;\n  out[7] = 0;\n  return out;\n}\n/**\n * Creates a dual quat from a quaternion\n *\n * @param {ReadonlyQuat2} dual quaternion receiving operation result\n * @param {ReadonlyQuat} q the quaternion\n * @returns {quat2} dual quaternion receiving operation result\n * @function\n */\n\nexport function fromRotation(out, q) {\n  out[0] = q[0];\n  out[1] = q[1];\n  out[2] = q[2];\n  out[3] = q[3];\n  out[4] = 0;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  return out;\n}\n/**\n * Creates a new dual quat from a matrix (4x4)\n *\n * @param {quat2} out the dual quaternion\n * @param {ReadonlyMat4} a the matrix\n * @returns {quat2} dual quat receiving operation result\n * @function\n */\n\nexport function fromMat4(out, a) {\n  //TODO Optimize this\n  var outer = quat.create();\n  mat4.getRotation(outer, a);\n  var t = new glMatrix.ARRAY_TYPE(3);\n  mat4.getTranslation(t, a);\n  fromRotationTranslation(out, outer, t);\n  return out;\n}\n/**\n * Copy the values from one dual quat to another\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the source dual quaternion\n * @returns {quat2} out\n * @function\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  return out;\n}\n/**\n * Set a dual quat to the identity dual quaternion\n *\n * @param {quat2} out the receiving quaternion\n * @returns {quat2} out\n */\n\nexport function identity(out) {\n  out[0] = 0;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = 0;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  return out;\n}\n/**\n * Set the components of a dual quat to the given values\n *\n * @param {quat2} out the receiving quaternion\n * @param {Number} x1 X component\n * @param {Number} y1 Y component\n * @param {Number} z1 Z component\n * @param {Number} w1 W component\n * @param {Number} x2 X component\n * @param {Number} y2 Y component\n * @param {Number} z2 Z component\n * @param {Number} w2 W component\n * @returns {quat2} out\n * @function\n */\n\nexport function set(out, x1, y1, z1, w1, x2, y2, z2, w2) {\n  out[0] = x1;\n  out[1] = y1;\n  out[2] = z1;\n  out[3] = w1;\n  out[4] = x2;\n  out[5] = y2;\n  out[6] = z2;\n  out[7] = w2;\n  return out;\n}\n/**\n * Gets the real part of a dual quat\n * @param  {quat} out real part\n * @param  {ReadonlyQuat2} a Dual Quaternion\n * @return {quat} real part\n */\n\nexport var getReal = quat.copy;\n/**\n * Gets the dual part of a dual quat\n * @param  {quat} out dual part\n * @param  {ReadonlyQuat2} a Dual Quaternion\n * @return {quat} dual part\n */\n\nexport function getDual(out, a) {\n  out[0] = a[4];\n  out[1] = a[5];\n  out[2] = a[6];\n  out[3] = a[7];\n  return out;\n}\n/**\n * Set the real component of a dual quat to the given quaternion\n *\n * @param {quat2} out the receiving quaternion\n * @param {ReadonlyQuat} q a quaternion representing the real part\n * @returns {quat2} out\n * @function\n */\n\nexport var setReal = quat.copy;\n/**\n * Set the dual component of a dual quat to the given quaternion\n *\n * @param {quat2} out the receiving quaternion\n * @param {ReadonlyQuat} q a quaternion representing the dual part\n * @returns {quat2} out\n * @function\n */\n\nexport function setDual(out, q) {\n  out[4] = q[0];\n  out[5] = q[1];\n  out[6] = q[2];\n  out[7] = q[3];\n  return out;\n}\n/**\n * Gets the translation of a normalized dual quat\n * @param  {vec3} out translation\n * @param  {ReadonlyQuat2} a Dual Quaternion to be decomposed\n * @return {vec3} translation\n */\n\nexport function getTranslation(out, a) {\n  var ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7],\n      bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3];\n  out[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;\n  out[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;\n  out[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;\n  return out;\n}\n/**\n * Translates a dual quat by the given vector\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the dual quaternion to translate\n * @param {ReadonlyVec3} v vector to translate by\n * @returns {quat2} out\n */\n\nexport function translate(out, a, v) {\n  var ax1 = a[0],\n      ay1 = a[1],\n      az1 = a[2],\n      aw1 = a[3],\n      bx1 = v[0] * 0.5,\n      by1 = v[1] * 0.5,\n      bz1 = v[2] * 0.5,\n      ax2 = a[4],\n      ay2 = a[5],\n      az2 = a[6],\n      aw2 = a[7];\n  out[0] = ax1;\n  out[1] = ay1;\n  out[2] = az1;\n  out[3] = aw1;\n  out[4] = aw1 * bx1 + ay1 * bz1 - az1 * by1 + ax2;\n  out[5] = aw1 * by1 + az1 * bx1 - ax1 * bz1 + ay2;\n  out[6] = aw1 * bz1 + ax1 * by1 - ay1 * bx1 + az2;\n  out[7] = -ax1 * bx1 - ay1 * by1 - az1 * bz1 + aw2;\n  return out;\n}\n/**\n * Rotates a dual quat around the X axis\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\n * @param {number} rad how far should the rotation be\n * @returns {quat2} out\n */\n\nexport function rotateX(out, a, rad) {\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7],\n      ax1 = ax * bw + aw * bx + ay * bz - az * by,\n      ay1 = ay * bw + aw * by + az * bx - ax * bz,\n      az1 = az * bw + aw * bz + ax * by - ay * bx,\n      aw1 = aw * bw - ax * bx - ay * by - az * bz;\n  quat.rotateX(out, a, rad);\n  bx = out[0];\n  by = out[1];\n  bz = out[2];\n  bw = out[3];\n  out[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n  out[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n  out[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n  out[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n  return out;\n}\n/**\n * Rotates a dual quat around the Y axis\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\n * @param {number} rad how far should the rotation be\n * @returns {quat2} out\n */\n\nexport function rotateY(out, a, rad) {\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7],\n      ax1 = ax * bw + aw * bx + ay * bz - az * by,\n      ay1 = ay * bw + aw * by + az * bx - ax * bz,\n      az1 = az * bw + aw * bz + ax * by - ay * bx,\n      aw1 = aw * bw - ax * bx - ay * by - az * bz;\n  quat.rotateY(out, a, rad);\n  bx = out[0];\n  by = out[1];\n  bz = out[2];\n  bw = out[3];\n  out[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n  out[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n  out[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n  out[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n  return out;\n}\n/**\n * Rotates a dual quat around the Z axis\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\n * @param {number} rad how far should the rotation be\n * @returns {quat2} out\n */\n\nexport function rotateZ(out, a, rad) {\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7],\n      ax1 = ax * bw + aw * bx + ay * bz - az * by,\n      ay1 = ay * bw + aw * by + az * bx - ax * bz,\n      az1 = az * bw + aw * bz + ax * by - ay * bx,\n      aw1 = aw * bw - ax * bx - ay * by - az * bz;\n  quat.rotateZ(out, a, rad);\n  bx = out[0];\n  by = out[1];\n  bz = out[2];\n  bw = out[3];\n  out[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n  out[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n  out[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n  out[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n  return out;\n}\n/**\n * Rotates a dual quat by a given quaternion (a * q)\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\n * @param {ReadonlyQuat} q quaternion to rotate by\n * @returns {quat2} out\n */\n\nexport function rotateByQuatAppend(out, a, q) {\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3],\n      ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  out[0] = ax * qw + aw * qx + ay * qz - az * qy;\n  out[1] = ay * qw + aw * qy + az * qx - ax * qz;\n  out[2] = az * qw + aw * qz + ax * qy - ay * qx;\n  out[3] = aw * qw - ax * qx - ay * qy - az * qz;\n  ax = a[4];\n  ay = a[5];\n  az = a[6];\n  aw = a[7];\n  out[4] = ax * qw + aw * qx + ay * qz - az * qy;\n  out[5] = ay * qw + aw * qy + az * qx - ax * qz;\n  out[6] = az * qw + aw * qz + ax * qy - ay * qx;\n  out[7] = aw * qw - ax * qx - ay * qy - az * qz;\n  return out;\n}\n/**\n * Rotates a dual quat by a given quaternion (q * a)\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat} q quaternion to rotate by\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\n * @returns {quat2} out\n */\n\nexport function rotateByQuatPrepend(out, q, a) {\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3],\n      bx = a[0],\n      by = a[1],\n      bz = a[2],\n      bw = a[3];\n  out[0] = qx * bw + qw * bx + qy * bz - qz * by;\n  out[1] = qy * bw + qw * by + qz * bx - qx * bz;\n  out[2] = qz * bw + qw * bz + qx * by - qy * bx;\n  out[3] = qw * bw - qx * bx - qy * by - qz * bz;\n  bx = a[4];\n  by = a[5];\n  bz = a[6];\n  bw = a[7];\n  out[4] = qx * bw + qw * bx + qy * bz - qz * by;\n  out[5] = qy * bw + qw * by + qz * bx - qx * bz;\n  out[6] = qz * bw + qw * bz + qx * by - qy * bx;\n  out[7] = qw * bw - qx * bx - qy * by - qz * bz;\n  return out;\n}\n/**\n * Rotates a dual quat around a given axis. Does the normalisation automatically\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\n * @param {ReadonlyVec3} axis the axis to rotate around\n * @param {Number} rad how far the rotation should be\n * @returns {quat2} out\n */\n\nexport function rotateAroundAxis(out, a, axis, rad) {\n  //Special case for rad = 0\n  if (Math.abs(rad) < glMatrix.EPSILON) {\n    return copy(out, a);\n  }\n\n  var axisLength = Math.hypot(axis[0], axis[1], axis[2]);\n  rad = rad * 0.5;\n  var s = Math.sin(rad);\n  var bx = s * axis[0] / axisLength;\n  var by = s * axis[1] / axisLength;\n  var bz = s * axis[2] / axisLength;\n  var bw = Math.cos(rad);\n  var ax1 = a[0],\n      ay1 = a[1],\n      az1 = a[2],\n      aw1 = a[3];\n  out[0] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n  out[1] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n  out[2] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n  out[3] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n  var ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7];\n  out[4] = ax * bw + aw * bx + ay * bz - az * by;\n  out[5] = ay * bw + aw * by + az * bx - ax * bz;\n  out[6] = az * bw + aw * bz + ax * by - ay * bx;\n  out[7] = aw * bw - ax * bx - ay * by - az * bz;\n  return out;\n}\n/**\n * Adds two dual quat's\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the first operand\n * @param {ReadonlyQuat2} b the second operand\n * @returns {quat2} out\n * @function\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  return out;\n}\n/**\n * Multiplies two dual quat's\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the first operand\n * @param {ReadonlyQuat2} b the second operand\n * @returns {quat2} out\n */\n\nexport function multiply(out, a, b) {\n  var ax0 = a[0],\n      ay0 = a[1],\n      az0 = a[2],\n      aw0 = a[3],\n      bx1 = b[4],\n      by1 = b[5],\n      bz1 = b[6],\n      bw1 = b[7],\n      ax1 = a[4],\n      ay1 = a[5],\n      az1 = a[6],\n      aw1 = a[7],\n      bx0 = b[0],\n      by0 = b[1],\n      bz0 = b[2],\n      bw0 = b[3];\n  out[0] = ax0 * bw0 + aw0 * bx0 + ay0 * bz0 - az0 * by0;\n  out[1] = ay0 * bw0 + aw0 * by0 + az0 * bx0 - ax0 * bz0;\n  out[2] = az0 * bw0 + aw0 * bz0 + ax0 * by0 - ay0 * bx0;\n  out[3] = aw0 * bw0 - ax0 * bx0 - ay0 * by0 - az0 * bz0;\n  out[4] = ax0 * bw1 + aw0 * bx1 + ay0 * bz1 - az0 * by1 + ax1 * bw0 + aw1 * bx0 + ay1 * bz0 - az1 * by0;\n  out[5] = ay0 * bw1 + aw0 * by1 + az0 * bx1 - ax0 * bz1 + ay1 * bw0 + aw1 * by0 + az1 * bx0 - ax1 * bz0;\n  out[6] = az0 * bw1 + aw0 * bz1 + ax0 * by1 - ay0 * bx1 + az1 * bw0 + aw1 * bz0 + ax1 * by0 - ay1 * bx0;\n  out[7] = aw0 * bw1 - ax0 * bx1 - ay0 * by1 - az0 * bz1 + aw1 * bw0 - ax1 * bx0 - ay1 * by0 - az1 * bz0;\n  return out;\n}\n/**\n * Alias for {@link quat2.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Scales a dual quat by a scalar number\n *\n * @param {quat2} out the receiving dual quat\n * @param {ReadonlyQuat2} a the dual quat to scale\n * @param {Number} b amount to scale the dual quat by\n * @returns {quat2} out\n * @function\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  return out;\n}\n/**\n * Calculates the dot product of two dual quat's (The dot product of the real parts)\n *\n * @param {ReadonlyQuat2} a the first operand\n * @param {ReadonlyQuat2} b the second operand\n * @returns {Number} dot product of a and b\n * @function\n */\n\nexport var dot = quat.dot;\n/**\n * Performs a linear interpolation between two dual quats's\n * NOTE: The resulting dual quaternions won't always be normalized (The error is most noticeable when t = 0.5)\n *\n * @param {quat2} out the receiving dual quat\n * @param {ReadonlyQuat2} a the first operand\n * @param {ReadonlyQuat2} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {quat2} out\n */\n\nexport function lerp(out, a, b, t) {\n  var mt = 1 - t;\n  if (dot(a, b) < 0) t = -t;\n  out[0] = a[0] * mt + b[0] * t;\n  out[1] = a[1] * mt + b[1] * t;\n  out[2] = a[2] * mt + b[2] * t;\n  out[3] = a[3] * mt + b[3] * t;\n  out[4] = a[4] * mt + b[4] * t;\n  out[5] = a[5] * mt + b[5] * t;\n  out[6] = a[6] * mt + b[6] * t;\n  out[7] = a[7] * mt + b[7] * t;\n  return out;\n}\n/**\n * Calculates the inverse of a dual quat. If they are normalized, conjugate is cheaper\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a dual quat to calculate inverse of\n * @returns {quat2} out\n */\n\nexport function invert(out, a) {\n  var sqlen = squaredLength(a);\n  out[0] = -a[0] / sqlen;\n  out[1] = -a[1] / sqlen;\n  out[2] = -a[2] / sqlen;\n  out[3] = a[3] / sqlen;\n  out[4] = -a[4] / sqlen;\n  out[5] = -a[5] / sqlen;\n  out[6] = -a[6] / sqlen;\n  out[7] = a[7] / sqlen;\n  return out;\n}\n/**\n * Calculates the conjugate of a dual quat\n * If the dual quaternion is normalized, this function is faster than quat2.inverse and produces the same result.\n *\n * @param {quat2} out the receiving quaternion\n * @param {ReadonlyQuat2} a quat to calculate conjugate of\n * @returns {quat2} out\n */\n\nexport function conjugate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = a[3];\n  out[4] = -a[4];\n  out[5] = -a[5];\n  out[6] = -a[6];\n  out[7] = a[7];\n  return out;\n}\n/**\n * Calculates the length of a dual quat\n *\n * @param {ReadonlyQuat2} a dual quat to calculate length of\n * @returns {Number} length of a\n * @function\n */\n\nexport var length = quat.length;\n/**\n * Alias for {@link quat2.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Calculates the squared length of a dual quat\n *\n * @param {ReadonlyQuat2} a dual quat to calculate squared length of\n * @returns {Number} squared length of a\n * @function\n */\n\nexport var squaredLength = quat.squaredLength;\n/**\n * Alias for {@link quat2.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Normalize a dual quat\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a dual quaternion to normalize\n * @returns {quat2} out\n * @function\n */\n\nexport function normalize(out, a) {\n  var magnitude = squaredLength(a);\n\n  if (magnitude > 0) {\n    magnitude = Math.sqrt(magnitude);\n    var a0 = a[0] / magnitude;\n    var a1 = a[1] / magnitude;\n    var a2 = a[2] / magnitude;\n    var a3 = a[3] / magnitude;\n    var b0 = a[4];\n    var b1 = a[5];\n    var b2 = a[6];\n    var b3 = a[7];\n    var a_dot_b = a0 * b0 + a1 * b1 + a2 * b2 + a3 * b3;\n    out[0] = a0;\n    out[1] = a1;\n    out[2] = a2;\n    out[3] = a3;\n    out[4] = (b0 - a0 * a_dot_b) / magnitude;\n    out[5] = (b1 - a1 * a_dot_b) / magnitude;\n    out[6] = (b2 - a2 * a_dot_b) / magnitude;\n    out[7] = (b3 - a3 * a_dot_b) / magnitude;\n  }\n\n  return out;\n}\n/**\n * Returns a string representation of a dual quatenion\n *\n * @param {ReadonlyQuat2} a dual quaternion to represent as a string\n * @returns {String} string representation of the dual quat\n */\n\nexport function str(a) {\n  return \"quat2(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \")\";\n}\n/**\n * Returns whether or not the dual quaternions have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyQuat2} a the first dual quaternion.\n * @param {ReadonlyQuat2} b the second dual quaternion.\n * @returns {Boolean} true if the dual quaternions are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7];\n}\n/**\n * Returns whether or not the dual quaternions have approximately the same elements in the same position.\n *\n * @param {ReadonlyQuat2} a the first dual quat.\n * @param {ReadonlyQuat2} b the second dual quat.\n * @returns {Boolean} true if the dual quats are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7));\n}", "import { Component, Type, ViewComponent, } from '@wonderlandengine/api';\nimport { vec3, mat4 } from 'gl-matrix';\nimport { CursorTarget } from './cursor-target.js';\n/**\n * 3D cursor for desktop/mobile/VR.\n *\n * Implements a ray-casting cursor into the scene. To react to\n * clicking/hover/unhover/cursor down/cursor up/move use a\n * [cursor-target](#cursor-target).\n *\n * For VR, the ray is cast in direction of\n * [this.object.getForward()](/jsapi/object/#getforward). For desktop and mobile, the\n * forward vector is inverse-projected to account for where on screen the user clicked.\n *\n * `.globalTarget` can be used to call callbacks for all objects, even those that\n * do not have a cursor target attached, but match the collision group.\n *\n * See [Animation Example](/showcase/animation).\n */\nclass Cursor extends Component {\n    static TypeName = 'cursor';\n    static Properties = {\n        /** Collision group for the ray cast. Only objects in this group will be affected by this cursor. */\n        collisionGroup: { type: Type.Int, default: 1 },\n        /** (optional) Object that visualizes the cursor's ray. */\n        cursorRayObject: { type: Type.Object },\n        /** Axis along which to scale the `cursorRayObject`. */\n        cursorRayScalingAxis: {\n            type: Type.Enum,\n            values: ['x', 'y', 'z', 'none'],\n            default: 'z',\n        },\n        /** (optional) Object that visualizes the cursor's hit location. */\n        cursorObject: { type: Type.Object },\n        /** Handedness for VR cursors to accept trigger events only from respective controller. */\n        handedness: {\n            type: Type.Enum,\n            values: ['input component', 'left', 'right', 'none'],\n            default: 'input component',\n        },\n        /** Mode for raycasting, whether to use PhysX or simple collision components */\n        rayCastMode: {\n            type: Type.Enum,\n            values: ['collision', 'physx'],\n            default: 'collision',\n        },\n        /** Whether to set the CSS style of the mouse cursor on desktop */\n        styleCursor: { type: Type.Bool, default: true },\n    };\n    collisionMask = 0;\n    maxDistance = 100;\n    onDestroyCallbacks = [];\n    input = null;\n    origin = new Float32Array(3);\n    cursorObjScale = new Float32Array(3);\n    direction = new Float32Array(3);\n    tempVec = new Float32Array(3);\n    projectionMatrix = new Float32Array(16);\n    viewComponent = null;\n    visible = true;\n    isDown = false;\n    lastIsDown = false;\n    arTouchDown = false;\n    cursorPos = new Float32Array(3);\n    lastCursorPosOnTarget = new Float32Array(3);\n    hoveringObject = null;\n    hoveringObjectTarget = null;\n    cursorRayScale = new Float32Array(3);\n    globalTarget = null;\n    /* TODO: Move to decorators, once available */\n    collisionGroup = 1;\n    cursorRayObject = null;\n    cursorRayScalingAxis = 2;\n    cursorObject = null;\n    handedness = 0;\n    rayCastMode = 0;\n    styleCursor = true;\n    start() {\n        this.collisionMask = 1 << this.collisionGroup;\n        if (this.handedness == 0) {\n            const inputComp = this.object.getComponent('input');\n            if (!inputComp) {\n                console.warn('cursor component on object', this.object.name, 'was configured with handedness \"input component\", ' +\n                    'but object has no input component.');\n            }\n            else {\n                this.handedness = inputComp.handedness || 'none';\n                this.input = inputComp;\n            }\n        }\n        else {\n            this.handedness = ['left', 'right', 'none'][this.handedness - 1];\n        }\n        this.globalTarget = this.object.addComponent(CursorTarget);\n        this.viewComponent = this.object.getComponent(ViewComponent);\n        /* If this object also has a view component, we will enable inverse-projected mouse clicks,\n         * otherwise just use the objects transformation */\n        if (this.viewComponent != null) {\n            const onClick = this.onClick.bind(this);\n            this.engine.canvas.addEventListener('click', onClick);\n            const onPointerMove = this.onPointerMove.bind(this);\n            this.engine.canvas.addEventListener('pointermove', onPointerMove);\n            const onPointerDown = this.onPointerDown.bind(this);\n            this.engine.canvas.addEventListener('pointerdown', onPointerDown);\n            const onPointerUp = this.onPointerUp.bind(this);\n            this.engine.canvas.addEventListener('pointerup', onPointerUp);\n            mat4.invert(this.projectionMatrix, this.viewComponent.projectionMatrix);\n            const onViewportResize = this.onViewportResize.bind(this);\n            window.addEventListener('resize', onViewportResize);\n            this.onDestroyCallbacks.push(() => {\n                this.engine.canvas.removeEventListener('click', onClick);\n                this.engine.canvas.removeEventListener('pointermove', onPointerMove);\n                this.engine.canvas.removeEventListener('pointerdown', onPointerDown);\n                this.engine.canvas.removeEventListener('pointerup', onPointerUp);\n                window.removeEventListener('resize', onViewportResize);\n            });\n        }\n        const onXRSessionStart = this.setupVREvents.bind(this);\n        this.engine.onXRSessionStart.add(onXRSessionStart);\n        this.onDestroyCallbacks.push(() => {\n            this.engine.onXRSessionStart.remove(onXRSessionStart);\n        });\n        if (this.cursorRayObject) {\n            this.cursorRayScale.set(this.cursorRayObject.scalingLocal);\n            /* Set ray to a good default distance of the cursor of 1m */\n            this.object.getTranslationWorld(this.origin);\n            this.object.getForward(this.direction);\n            this._setCursorRayTransform(vec3.add(this.tempVec, this.origin, this.direction));\n        }\n    }\n    onViewportResize() {\n        if (!this.viewComponent)\n            return;\n        /* Projection matrix will change if the viewport is resized, which will affect the\n         * projection matrix because of the aspect ratio. */\n        mat4.invert(this.projectionMatrix, this.viewComponent.projectionMatrix);\n    }\n    _setCursorRayTransform(hitPosition) {\n        if (!this.cursorRayObject)\n            return;\n        const dist = vec3.dist(this.origin, hitPosition);\n        this.cursorRayObject.setTranslationLocal([0.0, 0.0, -dist / 2]);\n        if (this.cursorRayScalingAxis != 4) {\n            this.cursorRayObject.resetScaling();\n            this.cursorRayScale[this.cursorRayScalingAxis] = dist / 2;\n            this.cursorRayObject.scale(this.cursorRayScale);\n        }\n    }\n    _setCursorVisibility(visible) {\n        if (this.visible == visible)\n            return;\n        this.visible = visible;\n        if (!this.cursorObject)\n            return;\n        if (visible) {\n            this.cursorObject.resetScaling();\n            this.cursorObject.scale(this.cursorObjScale);\n        }\n        else {\n            this.cursorObjScale.set(this.cursorObject.scalingLocal);\n            this.cursorObject.scale([0, 0, 0]);\n        }\n    }\n    update() {\n        this.doUpdate(false);\n    }\n    doUpdate(doClick) {\n        /* If in VR, set the cursor ray based on object transform */\n        if (this.engine.xrSession) {\n            /* Since Google Cardboard tap is registered as arTouchDown without a gamepad, we need to check for gamepad presence */\n            if (this.arTouchDown &&\n                this.input &&\n                this.engine.xrSession.inputSources[0].handedness === 'none' &&\n                this.engine.xrSession.inputSources[0].gamepad) {\n                const p = this.engine.xrSession.inputSources[0].gamepad.axes;\n                /* Screenspace Y is inverted */\n                this.direction[0] = p[0];\n                this.direction[1] = -p[1];\n                this.direction[2] = -1.0;\n                this.updateDirection();\n            }\n            else {\n                this.object.getTranslationWorld(this.origin);\n                this.object.getForward(this.direction);\n            }\n        }\n        const rayHit = this.rayCastMode == 0\n            ? this.engine.scene.rayCast(this.origin, this.direction, this.collisionMask)\n            : this.engine.physics.rayCast(this.origin, this.direction, this.collisionMask, this.maxDistance);\n        if (rayHit.hitCount > 0) {\n            this.cursorPos.set(rayHit.locations[0]);\n        }\n        else {\n            this.cursorPos.fill(0);\n        }\n        this.hoverBehaviour(rayHit, doClick);\n        if (this.cursorObject) {\n            if (this.hoveringObject &&\n                (this.cursorPos[0] != 0 || this.cursorPos[1] != 0 || this.cursorPos[2] != 0)) {\n                this._setCursorVisibility(true);\n                this.cursorObject.setTranslationWorld(this.cursorPos);\n                this._setCursorRayTransform(this.cursorPos);\n            }\n            else {\n                this._setCursorVisibility(false);\n            }\n        }\n    }\n    hoverBehaviour(rayHit, doClick) {\n        if (rayHit.hitCount > 0) {\n            if (!this.hoveringObject || !this.hoveringObject.equals(rayHit.objects[0])) {\n                /* Unhover previous, if exists */\n                if (this.hoveringObject) {\n                    const cursorTarget = this.hoveringObject.getComponent(CursorTarget);\n                    if (cursorTarget)\n                        cursorTarget.onUnhover.notify(this.hoveringObject, this);\n                    this.globalTarget.onUnhover.notify(this.hoveringObject, this);\n                }\n                /* Hover new object */\n                this.hoveringObject = rayHit.objects[0];\n                if (this.styleCursor)\n                    this.engine.canvas.style.cursor = 'pointer';\n                let cursorTarget = this.hoveringObject.getComponent(CursorTarget);\n                if (cursorTarget) {\n                    this.hoveringObjectTarget = cursorTarget;\n                    cursorTarget.onHover.notify(this.hoveringObject, this);\n                }\n                this.globalTarget.onHover.notify(this.hoveringObject, this);\n            }\n            if (this.hoveringObjectTarget) {\n                this.hoveringObject.toLocalSpaceTransform(this.tempVec, this.cursorPos);\n                if (this.lastCursorPosOnTarget[0] != this.tempVec[0] ||\n                    this.lastCursorPosOnTarget[1] != this.tempVec[1] ||\n                    this.lastCursorPosOnTarget[2] != this.tempVec[2]) {\n                    this.hoveringObjectTarget.onMove.notify(this.hoveringObject, this);\n                    this.lastCursorPosOnTarget.set(this.tempVec);\n                }\n            }\n            /* Cursor up/down */\n            const cursorTarget = this.hoveringObject.getComponent(CursorTarget);\n            if (this.isDown !== this.lastIsDown) {\n                if (this.isDown) {\n                    /* Down */\n                    if (cursorTarget)\n                        cursorTarget.onDown.notify(this.hoveringObject, this);\n                    this.globalTarget.onDown.notify(this.hoveringObject, this);\n                }\n                else {\n                    /* Up */\n                    if (cursorTarget)\n                        cursorTarget.onUp.notify(this.hoveringObject, this);\n                    this.globalTarget.onUp.notify(this.hoveringObject, this);\n                }\n            }\n            /* Click */\n            if (doClick) {\n                if (cursorTarget)\n                    cursorTarget.onClick.notify(this.hoveringObject, this);\n                this.globalTarget.onClick.notify(this.hoveringObject, this);\n            }\n        }\n        else if (this.hoveringObject && rayHit.hitCount == 0) {\n            const cursorTarget = this.hoveringObject.getComponent(CursorTarget);\n            if (cursorTarget)\n                cursorTarget.onUnhover.notify(this.hoveringObject, this);\n            this.globalTarget.onUnhover.notify(this.hoveringObject, this);\n            this.hoveringObject = null;\n            this.hoveringObjectTarget = null;\n            if (this.styleCursor)\n                this.engine.canvas.style.cursor = 'default';\n        }\n        this.lastIsDown = this.isDown;\n    }\n    /**\n     * Setup event listeners on session object\n     * @param s WebXR session\n     *\n     * Sets up 'select' and 'end' events and caches the session to avoid\n     * Module object access.\n     */\n    setupVREvents(s) {\n        /* If in VR, one-time bind the listener */\n        const onSelect = this.onSelect.bind(this);\n        s.addEventListener('select', onSelect);\n        const onSelectStart = this.onSelectStart.bind(this);\n        s.addEventListener('selectstart', onSelectStart);\n        const onSelectEnd = this.onSelectEnd.bind(this);\n        s.addEventListener('selectend', onSelectEnd);\n        this.onDestroyCallbacks.push(() => {\n            if (!this.engine.xrSession)\n                return;\n            s.removeEventListener('select', onSelect);\n            s.removeEventListener('selectstart', onSelectStart);\n            s.removeEventListener('selectend', onSelectEnd);\n        });\n        /* After AR session was entered, the projection matrix changed */\n        this.onViewportResize();\n    }\n    /** 'select' event listener */\n    onSelect(e) {\n        if (e.inputSource.handedness != this.handedness)\n            return;\n        this.doUpdate(true);\n    }\n    /** 'selectstart' event listener */\n    onSelectStart(e) {\n        this.arTouchDown = true;\n        if (e.inputSource.handedness == this.handedness)\n            this.isDown = true;\n    }\n    /** 'selectend' event listener */\n    onSelectEnd(e) {\n        this.arTouchDown = false;\n        if (e.inputSource.handedness == this.handedness)\n            this.isDown = false;\n    }\n    /** 'pointermove' event listener */\n    onPointerMove(e) {\n        /* Don't care about secondary pointers */\n        if (!e.isPrimary)\n            return;\n        const bounds = this.engine.canvas.getBoundingClientRect();\n        const rayHit = this.updateMousePos(e.clientX, e.clientY, bounds.width, bounds.height);\n        this.hoverBehaviour(rayHit, false);\n    }\n    /** 'click' event listener */\n    onClick(e) {\n        const bounds = this.engine.canvas.getBoundingClientRect();\n        const rayHit = this.updateMousePos(e.clientX, e.clientY, bounds.width, bounds.height);\n        this.hoverBehaviour(rayHit, true);\n    }\n    /** 'pointerdown' event listener */\n    onPointerDown(e) {\n        /* Don't care about secondary pointers or non-left clicks */\n        if (!e.isPrimary || e.button !== 0)\n            return;\n        const bounds = this.engine.canvas.getBoundingClientRect();\n        const rayHit = this.updateMousePos(e.clientX, e.clientY, bounds.width, bounds.height);\n        this.isDown = true;\n        this.hoverBehaviour(rayHit, false);\n    }\n    /** 'pointerup' event listener */\n    onPointerUp(e) {\n        /* Don't care about secondary pointers or non-left clicks */\n        if (!e.isPrimary || e.button !== 0)\n            return;\n        const bounds = this.engine.canvas.getBoundingClientRect();\n        const rayHit = this.updateMousePos(e.clientX, e.clientY, bounds.width, bounds.height);\n        this.isDown = false;\n        this.hoverBehaviour(rayHit, false);\n    }\n    /**\n     * Update mouse position in non-VR mode and raycast for new position\n     * @returns @ref WL.RayHit for new position.\n     */\n    updateMousePos(clientX, clientY, w, h) {\n        /* Get direction in normalized device coordinate space from mouse position */\n        const left = clientX / w;\n        const top = clientY / h;\n        this.direction[0] = left * 2 - 1;\n        this.direction[1] = -top * 2 + 1;\n        this.direction[2] = -1.0;\n        return this.updateDirection();\n    }\n    updateDirection() {\n        this.object.getTranslationWorld(this.origin);\n        /* Reverse-project the direction into view space */\n        vec3.transformMat4(this.direction, this.direction, this.projectionMatrix);\n        vec3.normalize(this.direction, this.direction);\n        vec3.transformQuat(this.direction, this.direction, this.object.transformWorld);\n        const rayHit = this.rayCastMode == 0\n            ? this.engine.scene.rayCast(this.origin, this.direction, this.collisionMask)\n            : this.engine.physics.rayCast(this.origin, this.direction, this.collisionMask, this.maxDistance);\n        if (rayHit.hitCount > 0) {\n            this.cursorPos.set(rayHit.locations[0]);\n        }\n        else {\n            this.cursorPos.fill(0);\n        }\n        return rayHit;\n    }\n    onDeactivate() {\n        this._setCursorVisibility(false);\n        if (this.hoveringObject) {\n            const target = this.hoveringObject.getComponent(CursorTarget);\n            if (target)\n                target.onUnhover.notify(this.hoveringObject, this);\n            this.globalTarget.onUnhover.notify(this.hoveringObject, this);\n        }\n        if (this.cursorRayObject)\n            this.cursorRayObject.scale([0, 0, 0]);\n    }\n    onActivate() {\n        this._setCursorVisibility(true);\n    }\n    onDestroy() {\n        for (const f of this.onDestroyCallbacks)\n            f();\n    }\n}\nexport { Cursor };\n", "var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component } from '@wonderlandengine/api';\nimport { property } from '@wonderlandengine/api/decorators.js';\nimport { quat2 } from 'gl-matrix';\n/**\n * Prints some limited debug information about the object.\n *\n * Information consists of: This object's name, an object parameter's name,\n * the object's world translation, world transform and local transform.\n *\n * Mainly used by engine developers for debug purposes or as example code.\n */\nclass DebugObject extends Component {\n    static TypeName = 'debug-object';\n    /** A second object to print the name of */\n    obj = null;\n    start() {\n        let origin = new Float32Array(3);\n        quat2.getTranslation(origin, this.object.transformWorld);\n        console.log('Debug object:', this.object.name);\n        console.log('Other object:', this.obj?.name);\n        console.log('\\ttranslation', origin);\n        console.log('\\ttransformWorld', this.object.transformWorld);\n        console.log('\\ttransformLocal', this.object.transformLocal);\n    }\n}\n__decorate([\n    property.object()\n], DebugObject.prototype, \"obj\", void 0);\nexport { DebugObject };\n", "import { Component, Type } from '@wonderlandengine/api';\n/**\n * Applies [fixed foveation](https://www.w3.org/TR/webxrlayers-1/#dom-xrcompositionlayer-fixedfoveation)\n * once a WebXR session is started\n *\n * Fixed foveation reduces shading cost at the periphery by rendering at lower resolutions at the\n * edges of the users vision.\n */\nclass FixedFoveation extends Component {\n    static TypeName = 'fixed-foveation';\n    static Properties = {\n        /** Amount to apply from 0 (none) to 1 (full) */\n        fixedFoveation: { type: Type.Float, default: 0.5 },\n    };\n    start() {\n        if (this.engine.xr) {\n            this.setFixedFoveation();\n        }\n        else {\n            this.engine.onXRSessionStart.push(this.setFixedFoveation.bind(this));\n        }\n    }\n    setFixedFoveation() {\n        this.engine.xr.baseLayer.fixedFoveation = this.fixedFoveation;\n    }\n}\nexport { FixedFoveation };\n", "const tempVec = new Float32Array(3);\nconst tempQuat = new Float32Array(4);\nexport function setXRRigidTransformLocal(o, transform) {\n    const r = transform.orientation;\n    tempQuat[0] = r.x;\n    tempQuat[1] = r.y;\n    tempQuat[2] = r.z;\n    tempQuat[3] = r.w;\n    const t = transform.position;\n    tempVec[0] = t.x;\n    tempVec[1] = t.y;\n    tempVec[2] = t.z;\n    o.resetTranslationRotation();\n    o.transformLocal.set(tempQuat);\n    o.translate(tempVec);\n}\n", "import { Component, Type } from '@wonderlandengine/api';\nimport { vec3, quat, quat2 } from 'gl-matrix';\nimport { setXRRigidTransformLocal } from './utils/webxr.js';\nconst ORDERED_JOINTS = [\n    'wrist',\n    'thumb-metacarpal',\n    'thumb-phalanx-proximal',\n    'thumb-phalanx-distal',\n    'thumb-tip',\n    'index-finger-metacarpal',\n    'index-finger-phalanx-proximal',\n    'index-finger-phalanx-intermediate',\n    'index-finger-phalanx-distal',\n    'index-finger-tip',\n    'middle-finger-metacarpal',\n    'middle-finger-phalanx-proximal',\n    'middle-finger-phalanx-intermediate',\n    'middle-finger-phalanx-distal',\n    'middle-finger-tip',\n    'ring-finger-metacarpal',\n    'ring-finger-phalanx-proximal',\n    'ring-finger-phalanx-intermediate',\n    'ring-finger-phalanx-distal',\n    'ring-finger-tip',\n    'pinky-finger-metacarpal',\n    'pinky-finger-phalanx-proximal',\n    'pinky-finger-phalanx-intermediate',\n    'pinky-finger-phalanx-distal',\n    'pinky-finger-tip',\n];\n/**\n * Easy hand tracking through the WebXR Device API\n * [\"Hand Input\" API](https://immersive-web.github.io/webxr-hand-input/).\n *\n * Allows displaying hands either as sphere-joints or skinned mesh.\n *\n * To react to grabbing, use `this.isGrabbing()`. For other gestures, refer\n * to `this.joints` - an array of [WL.Object](/jsapi/object) and use the joint\n * indices listed [in the WebXR Hand Input specification](https://immersive-web.github.io/webxr-hand-input/#skeleton-joints-section).\n *\n * It is often desired to use either hand tracking or controllers, not both.\n * This component provides `deactivateChildrenWithoutPose` to hide the hand\n * tracking visualization if no pose is available and `controllerToDeactivate`\n * for disabling another object once a hand tracking pose *is* available.\n * Outside of XR sessions, tracking or controllers are neither enabled nor disabled\n * to play well with the [vr-mode-active-switch](#vr-mode-active-switch) component.\n *\n * **Requirements:**\n *  - To use hand-tracking, enable \"joint tracking\" in `chrome://flags` on\n *    Oculus Browser for Oculus Quest/Oculus Quest 2.\n *\n * See [Hand Tracking Example](/showcase/hand-tracking).\n */\nclass HandTracking extends Component {\n    static TypeName = 'hand-tracking';\n    static Properties = {\n        /** Handedness determining whether to receive tracking input from right or left hand */\n        handedness: { type: Type.Enum, default: 'left', values: ['left', 'right'] },\n        /** (optional) Mesh to use to visualize joints */\n        jointMesh: { type: Type.Mesh, default: null },\n        /** Material to use for display. Applied to either the spawned skinned mesh or the joint spheres. */\n        jointMaterial: { type: Type.Material, default: null },\n        /** (optional) Skin to apply tracked joint poses to. If not present, joint spheres will be used for display instead. */\n        handSkin: { type: Type.Skin, default: null },\n        /** Deactivate children if no pose was tracked */\n        deactivateChildrenWithoutPose: { type: Type.Bool, default: true },\n        /** Controller objects to activate including children if no pose is available */\n        controllerToDeactivate: { type: Type.Object },\n    };\n    init() {\n        this.handedness = ['left', 'right'][this.handedness];\n    }\n    start() {\n        this.joints = [];\n        this.session = null;\n        /* Whether last update had a hand pose */\n        this.hasPose = false;\n        this._childrenActive = true;\n        if (!('XRHand' in window)) {\n            console.warn('WebXR Hand Tracking not supported by this browser.');\n            this.active = false;\n            return;\n        }\n        if (this.handSkin) {\n            let skin = this.handSkin;\n            let jointIds = skin.jointIds;\n            /* Map the wrist */\n            this.joints[ORDERED_JOINTS[0]] = this.engine.wrapObject(jointIds[0]);\n            /* Index in ORDERED_JOINTS that we are mapping to our joints */\n            /* Skip thumb0 joint, start at thumb1 */\n            for (let j = 0; j < jointIds.length; ++j) {\n                let joint = this.engine.wrapObject(jointIds[j]);\n                /* tip joints are only needed for joint rendering, so we skip those while mapping */\n                this.joints[joint.name] = joint;\n            }\n            /* If we have a hand skin, no need to spawn the joints-based one */\n            return;\n        }\n        /* Spawn joints */\n        for (let j = 0; j <= ORDERED_JOINTS.length; ++j) {\n            let joint = this.engine.scene.addObject(this.object.parent);\n            let mesh = joint.addComponent('mesh');\n            mesh.mesh = this.jointMesh;\n            mesh.material = this.jointMaterial;\n            this.joints[ORDERED_JOINTS[j]] = joint;\n        }\n    }\n    update(dt) {\n        if (!this.session) {\n            if (this.engine.xr)\n                this.setupVREvents(this.engine.xr.session);\n        }\n        if (!this.session)\n            return;\n        this.hasPose = false;\n        if (this.session && this.session.inputSources) {\n            for (let i = 0; i <= this.session.inputSources.length; ++i) {\n                const inputSource = this.session.inputSources[i];\n                if (!inputSource ||\n                    !inputSource.hand ||\n                    inputSource.handedness != this.handedness)\n                    continue;\n                this.hasPose = true;\n                if (inputSource.hand.get('wrist') !== null) {\n                    const p = Module['webxr_frame'].getJointPose(inputSource.hand.get('wrist'), this.engine.xr.currentReferenceSpace);\n                    if (p) {\n                        setXRRigidTransformLocal(this.object, p.transform);\n                    }\n                }\n                let invTranslation = new Float32Array(3);\n                let invRotation = new Float32Array(4);\n                quat.invert(invRotation, this.object.transformLocal);\n                this.object.getTranslationLocal(invTranslation);\n                for (let j = 0; j < ORDERED_JOINTS.length; ++j) {\n                    const jointName = ORDERED_JOINTS[j];\n                    const joint = this.joints[jointName];\n                    if (joint == null)\n                        continue;\n                    let jointPose = null;\n                    if (inputSource.hand.get(jointName) !== null) {\n                        jointPose = this.engine.xr.frame.getJointPose(inputSource.hand.get(jointName), this.engine.xr.currentReferenceSpace);\n                    }\n                    if (jointPose !== null) {\n                        if (this.handSkin) {\n                            joint.resetTranslationRotation();\n                            joint.translate([\n                                jointPose.transform.position.x - invTranslation[0],\n                                jointPose.transform.position.y - invTranslation[1],\n                                jointPose.transform.position.z - invTranslation[2],\n                            ]);\n                            joint.rotate(invRotation);\n                            joint.rotateObject([\n                                jointPose.transform.orientation.x,\n                                jointPose.transform.orientation.y,\n                                jointPose.transform.orientation.z,\n                                jointPose.transform.orientation.w,\n                            ]);\n                        }\n                        else {\n                            setXRRigidTransformLocal(this.object, p.transform);\n                            /* Last joint radius of each finger is null */\n                            const r = jointPose.radius || 0.007;\n                            joint.scale([r, r, r]);\n                        }\n                    }\n                    else {\n                        /* Hack to hide the object */\n                        if (!this.handSkin)\n                            joint.scale([0, 0, 0]);\n                    }\n                }\n            }\n        }\n        if (!this.hasPose && this._childrenActive) {\n            this._childrenActive = false;\n            if (this.deactivateChildrenWithoutPose) {\n                this.setChildrenActive(false);\n            }\n            if (this.controllerToDeactivate) {\n                this.controllerToDeactivate.active = true;\n                this.setChildrenActive(true, this.controllerToDeactivate);\n            }\n        }\n        else if (this.hasPose && !this._childrenActive) {\n            this._childrenActive = true;\n            if (this.deactivateChildrenWithoutPose) {\n                this.setChildrenActive(true);\n            }\n            if (this.controllerToDeactivate) {\n                this.controllerToDeactivate.active = false;\n                this.setChildrenActive(false, this.controllerToDeactivate);\n            }\n        }\n    }\n    setChildrenActive(active, object) {\n        object = object || this.object;\n        const children = object.children;\n        for (const o of children) {\n            o.active = active;\n            this.setChildrenActive(active, o);\n        }\n    }\n    isGrabbing() {\n        const indexTipPos = [0, 0, 0];\n        quat2.getTranslation(indexTipPos, this.joints['index-finger-tip'].transformLocal);\n        const thumbTipPos = [0, 0, 0];\n        quat2.getTranslation(thumbTipPos, this.joints['thumb-tip'].transformLocal);\n        return vec3.sqrDist(thumbTipPos, indexTipPos) < 0.001;\n    }\n    setupVREvents(s) {\n        this.session = s;\n    }\n}\nexport { HandTracking };\n", "import { Component, Type } from '@wonderlandengine/api';\nimport 'howler';\n/**\n * (Spatial) audio listener based on [Howler.js](https://howlerjs.com/).\n *\n * Retrieves the location and orientation of the object and passes it\n * to [Howler.pos()](https://github.com/goldfire/howler.js#posx-y-z-id)\n * and [Howler.orientation()](https://github.com/goldfire/howler.js#orientationx-y-z-id).\n */\nclass HowlerAudioListener extends Component {\n    static TypeName = 'howler-audio-listener';\n    static Properties = {\n        /** Whether audio should be spatialized/positional. */\n        spatial: { type: Type.Bool, default: true },\n    };\n    init() {\n        this.origin = new Float32Array(3);\n        this.fwd = new Float32Array(3);\n        this.up = new Float32Array(3);\n    }\n    update() {\n        if (!this.spatial)\n            return;\n        this.object.getTranslationWorld(this.origin);\n        this.object.getForward(this.fwd);\n        this.object.getUp(this.up);\n        Howler.pos(this.origin[0], this.origin[1], this.origin[2]);\n        Howler.orientation(this.fwd[0], this.fwd[1], this.fwd[2], this.up[0], this.up[1], this.up[2]);\n    }\n}\nexport { HowlerAudioListener };\n", "import { Component, Type } from '@wonderlandengine/api';\nimport { Howl } from 'howler';\n/**\n * (Spatial) audio source based on [Howler.js](https://howlerjs.com/).\n *\n * Creates a Howler audio source, plays an audio file on it and updates\n * its position.\n *\n * Optimizes the position update to only update if the difference to last\n * position is larger than half a centimeter. To force updates (e.g. if\n * the sound source is _very_ close to the listener),\n * use `.updatePosition()`.\n */\nclass HowlerAudioSource extends Component {\n    static TypeName = 'howler-audio-source';\n    static Properties = {\n        /** Volume */\n        volume: { type: Type.Float, default: 1.0 },\n        /** Whether audio should be spatialized/positional */\n        spatial: { type: Type.Bool, default: true },\n        /** Whether to loop the sound */\n        loop: { type: Type.Bool, default: false },\n        /** Whether to start playing automatically */\n        autoplay: { type: Type.Bool, default: false },\n        /** URL to a sound file to play */\n        src: { type: Type.String, default: '' },\n    };\n    start() {\n        this.audio = new Howl({\n            src: [this.src],\n            loop: this.loop,\n            volume: this.volume,\n            autoplay: this.autoplay,\n        });\n        this.lastPlayedAudioId = null;\n        this.origin = new Float32Array(3);\n        this.lastOrigin = new Float32Array(3);\n        if (this.spatial && this.autoplay) {\n            this.updatePosition();\n            this.play();\n        }\n    }\n    update() {\n        if (!this.spatial || !this.lastPlayedAudioId)\n            return;\n        this.object.getTranslationWorld(this.origin);\n        /* Only call pos() if the position moved more than half a centimeter\n         * otherwise this gets very performance heavy.\n         * Smaller movement should only be perceivable if close to the\n         * ear anyway. */\n        if (Math.abs(this.lastOrigin[0] - this.origin[0]) > 0.005 ||\n            Math.abs(this.lastOrigin[1] - this.origin[1]) > 0.005 ||\n            Math.abs(this.lastOrigin[2] - this.origin[2]) > 0.005) {\n            this.updatePosition();\n        }\n    }\n    updatePosition() {\n        this.audio.pos(this.origin[0], this.origin[1], this.origin[2], this.lastPlayedAudioId);\n        this.lastOrigin.set(this.origin);\n    }\n    play() {\n        if (this.lastPlayedAudioId)\n            this.audio.stop(this.lastPlayedAudioId);\n        this.lastPlayedAudioId = this.audio.play();\n        if (this.spatial)\n            this.updatePosition();\n    }\n    stop() {\n        if (!this.lastPlayedAudioId)\n            return;\n        this.audio.stop(this.lastPlayedAudioId);\n        this.lastPlayedAudioId = null;\n    }\n    onDeactivate() {\n        /* Stop sound when component is deactivated or destroyed, e.g.\n         * when switching scenes */\n        this.stop();\n    }\n}\nexport { HowlerAudioSource };\n", "import { Component, Type } from '@wonderlandengine/api';\n/**\n * Downloads an image from URL and applies it as `diffuseTexture` or `flatTexture`\n * to an attached mesh component.\n *\n * Materials from the following shaders are supported:\n *  - \"Phong Opaque Textured\"\n *  - \"Flat Opaque Textured\"\n *  - \"Background\"\n *  - \"Physical Opaque Textured\"\n *  - \"Foliage\"\n */\nclass ImageTexture extends Component {\n    static TypeName = 'image-texture';\n    static Properties = {\n        /** URL to download the image from */\n        url: { type: Type.String },\n        /** Material to apply the video texture to */\n        material: { type: Type.Material },\n    };\n    start() {\n        if (!this.material) {\n            throw Error('image-texture: material property not set');\n        }\n        this.engine.textures\n            .load(this.url, 'anonymous')\n            .then((texture) => {\n            const mat = this.material;\n            const shader = mat.shader;\n            if (shader === 'Flat Opaque Textured') {\n                mat.flatTexture = texture;\n            }\n            else if (shader === 'Phong Opaque Textured' || shader === 'Foliage') {\n                mat.diffuseTexture = texture;\n            }\n            else if (shader === 'Background') {\n                mat.texture = texture;\n            }\n            else if (shader === 'Physical Opaque Textured') {\n                mat.albedoTexture = texture;\n            }\n            else {\n                console.error('Shader', shader, 'not supported by image-texture');\n            }\n        })\n            .catch(console.err);\n    }\n}\nexport { ImageTexture };\n", "import { Component, Type } from '@wonderlandengine/api';\nimport { vec3 } from 'gl-matrix';\n/**\n * Controls the camera through mouse movement.\n *\n * Efficiently implemented to affect object orientation only\n * when the mouse moves.\n */\nclass MouseLookComponent extends Component {\n    static TypeName = 'mouse-look';\n    static Properties = {\n        /** Mouse look sensitivity */\n        sensitity: { type: Type.Float, default: 0.25 },\n        /** Require a mouse button to be pressed to control view.\n         * Otherwise view will allways follow mouse movement */\n        requireMouseDown: { type: Type.Bool, default: true },\n        /** If \"moveOnClick\" is enabled, mouse button which should\n         * be held down to control view */\n        mouseButtonIndex: { type: Type.Int },\n        /** Enables pointer lock on \"mousedown\" event on canvas */\n        pointerLockOnClick: { type: Type.Bool, default: false },\n    };\n    init() {\n        this.currentRotationY = 0;\n        this.currentRotationX = 0;\n        this.origin = new Float32Array(3);\n        this.parentOrigin = new Float32Array(3);\n        this.rotationX = 0;\n        this.rotationY = 0;\n    }\n    start() {\n        document.addEventListener('mousemove', (e) => {\n            if (this.active && (this.mouseDown || !this.requireMouseDown)) {\n                this.rotationY = (-this.sensitity * e.movementX) / 100;\n                this.rotationX = (-this.sensitity * e.movementY) / 100;\n                this.currentRotationX += this.rotationX;\n                this.currentRotationY += this.rotationY;\n                /* 1.507 = PI/2 = 90\u00B0 */\n                this.currentRotationX = Math.min(1.507, this.currentRotationX);\n                this.currentRotationX = Math.max(-1.507, this.currentRotationX);\n                this.object.getTranslationWorld(this.origin);\n                const parent = this.object.parent;\n                if (parent !== null) {\n                    parent.getTranslationWorld(this.parentOrigin);\n                    vec3.sub(this.origin, this.origin, this.parentOrigin);\n                }\n                this.object.resetTranslationRotation();\n                this.object.rotateAxisAngleRad([1, 0, 0], this.currentRotationX);\n                this.object.rotateAxisAngleRad([0, 1, 0], this.currentRotationY);\n                this.object.translate(this.origin);\n            }\n        });\n        const canvas = this.engine.canvas;\n        if (this.pointerLockOnClick) {\n            canvas.addEventListener('mousedown', () => {\n                canvas.requestPointerLock =\n                    canvas.requestPointerLock ||\n                        canvas.mozRequestPointerLock ||\n                        canvas.webkitRequestPointerLock;\n                canvas.requestPointerLock();\n            });\n        }\n        if (this.requireMouseDown) {\n            if (this.mouseButtonIndex == 2) {\n                canvas.addEventListener('contextmenu', (e) => {\n                    e.preventDefault();\n                }, false);\n            }\n            canvas.addEventListener('mousedown', (e) => {\n                if (e.button == this.mouseButtonIndex) {\n                    this.mouseDown = true;\n                    document.body.style.cursor = 'grabbing';\n                    if (e.button == 1) {\n                        e.preventDefault();\n                        /* Prevent scrolling */\n                        return false;\n                    }\n                }\n            });\n            canvas.addEventListener('mouseup', (e) => {\n                if (e.button == this.mouseButtonIndex) {\n                    this.mouseDown = false;\n                    document.body.style.cursor = 'initial';\n                }\n            });\n        }\n    }\n}\nexport { MouseLookComponent };\n", "import { Component, Type } from '@wonderlandengine/api';\n/**\n * Set player height for a Y-offset above the ground for\n * 'local' and 'viewer' reference spaces.\n */\nclass PlayerHeight extends Component {\n    static TypeName = 'player-height';\n    static Properties = {\n        height: { type: Type.Float, default: 1.75 },\n    };\n    start() {\n        this.object.resetTranslationRotation();\n        this.object.translate([0.0, this.height, 0.0]);\n        this.onSessionStartCallback = this.onXRSessionStart.bind(this);\n        this.onSessionEndCallback = this.onXRSessionEnd.bind(this);\n    }\n    onActivate() {\n        this.engine.onXRSessionStart.add(this.onSessionStartCallback);\n        this.engine.onXRSessionEnd.add(this.onSessionStartCallback);\n    }\n    onDeactivate() {\n        this.engine.onXRSessionStart.remove(this.onSessionEndCallback);\n        this.engine.onXRSessionEnd.remove(this.onSessionEndCallback);\n    }\n    onXRSessionStart() {\n        if (!['local', 'viewer'].includes(this.engine.xr.currentReferenceSpace)) {\n            this.object.resetTranslationRotation();\n        }\n    }\n    onXRSessionEnd() {\n        if (!['local', 'viewer'].includes(this.engine.xr.currentReferenceSpace)) {\n            this.object.resetTranslationRotation();\n            this.object.translate([0.0, this.height, 0.0]);\n        }\n    }\n}\nexport { PlayerHeight };\n", "import { Component, Type } from '@wonderlandengine/api';\n/**\n * Sets the target framerate\n *\n * [Updates the target framerate](https://immersive-web.github.io/webxr/#dom-xrsession-updatetargetframerate)\n * to the closest [supported target framerate](https://immersive-web.github.io/webxr/#dom-xrsession-supportedFrameRates)\n * to the given `framerate`.\n *\n * The target framerate is used for the device's VR compositor as an indication of how often to refresh the\n * screen with new images. This means the app will be asked to produce frames in more regular intervals,\n * potentially spending less time on frames that are likely to be dropped.\n *\n * For apps with heavy load, setting a well matching target framerate can improve the apps rendering stability\n * and reduce stutter.\n *\n * Likewise, the target framerate can be used to enable 120Hz refresh rates on Oculus Quest 2 on simpler apps.\n */\nclass TargetFramerate extends Component {\n    static TypeName = 'target-framerate';\n    static Properties = {\n        framerate: { type: Type.Float, default: 90.0 },\n    };\n    start() {\n        if (this.engine.xrSession) {\n            this.setTargetFramerate(this.engine.xrSession);\n        }\n        else {\n            this.engine.onXRSessionStart.push(this.setTargetFramerate.bind(this));\n        }\n    }\n    setTargetFramerate(s) {\n        if (s.supportedFrameRates && s.updateTargetFrameRate) {\n            const a = this.engine.xrSession.supportedFrameRates;\n            a.sort((a, b) => Math.abs(a - this.framerate) - Math.abs(b - this.framerate));\n            this.engine.xrSession.updateTargetFrameRate(a[0]);\n        }\n    }\n}\nexport { TargetFramerate };\n", "import { vec3, quat2 } from 'gl-matrix';\nimport { Component, Type } from '@wonderlandengine/api';\n/**\n * Teleport VR locomotion.\n *\n * See [Teleport Example](/showcase/teleport).\n */\nclass TeleportComponent extends Component {\n    static TypeName = 'teleport';\n    static Properties = {\n        /** Object that will be placed as indiciation forwhere the player will teleport to. */\n        teleportIndicatorMeshObject: { type: Type.Object },\n        /** Root of the player, the object that will be positioned on teleportation. */\n        camRoot: { type: Type.Object },\n        /** Non-vr camera for use outside of VR */\n        cam: { type: Type.Object },\n        /** Left eye for use in VR*/\n        eyeLeft: { type: Type.Object },\n        /** Right eye for use in VR*/\n        eyeRight: { type: Type.Object },\n        /** Handedness for VR cursors to accept trigger events only from respective controller. */\n        handedness: {\n            type: Type.Enum,\n            values: ['input component', 'left', 'right', 'none'],\n            default: 'input component',\n        },\n        /** Collision group of valid \"floor\" objects that can be teleported on */\n        floorGroup: { type: Type.Int, default: 1 },\n        /** How far the thumbstick needs to be pushed to have the teleport target indicator show up */\n        thumbstickActivationThreshhold: { type: Type.Float, default: -0.7 },\n        /** How far the thumbstick needs to be released to execute the teleport */\n        thumbstickDeactivationThreshhold: { type: Type.Float, default: 0.3 },\n        /** Offset to apply to the indicator object, e.g. to avoid it from Z-fighting with the floor */\n        indicatorYOffset: { type: Type.Float, default: 0.01 },\n        /** Mode for raycasting, whether to use PhysX or simple collision components */\n        rayCastMode: {\n            type: Type.Enum,\n            values: ['collision', 'physx'],\n            default: 'collision',\n        },\n        /** Max distance for PhysX raycast */\n        maxDistance: { type: Type.Float, default: 100.0 },\n    };\n    init() {\n        this._prevThumbstickAxis = new Float32Array(2);\n        this._tempVec = new Float32Array(3);\n        this._tempVec0 = new Float32Array(3);\n        this._currentIndicatorRotation = 0;\n        this.input = this.object.getComponent('input');\n        if (!this.input) {\n            console.error(this.object.name, 'generic-teleport-component.js: input component is required on the object');\n            return;\n        }\n        if (!this.teleportIndicatorMeshObject) {\n            console.error(this.object.name, 'generic-teleport-component.js: Teleport indicator mesh is missing');\n            return;\n        }\n        if (!this.camRoot) {\n            console.error(this.object.name, 'generic-teleport-component.js: camRoot not set');\n            return;\n        }\n        this.isIndicating = false;\n        this.indicatorHidden = true;\n        this.hitSpot = new Float32Array(3);\n        this._hasHit = false;\n        this._extraRotation = 0;\n        this._currentStickAxes = new Float32Array(2);\n    }\n    start() {\n        if (this.cam) {\n            this.isMouseIndicating = false;\n            canvas.addEventListener('mousedown', this.onMouseDown.bind(this));\n            canvas.addEventListener('mouseup', this.onMouseUp.bind(this));\n        }\n        if (this.handedness == 0) {\n            const inputComp = this.object.getComponent('input');\n            if (!inputComp) {\n                console.warn('teleport component on object', this.object.name, 'was configured with handedness \"input component\", ' +\n                    'but object has no input component.');\n            }\n            else {\n                this.handedness = inputComp.handedness;\n                this.input = inputComp;\n            }\n        }\n        else {\n            this.handedness = ['left', 'right'][this.handedness - 1];\n        }\n        this.engine.onXRSessionStart.push(this.setupVREvents.bind(this));\n        this.teleportIndicatorMeshObject.active = false;\n    }\n    /* Get current camera Y rotation */\n    _getCamRotation() {\n        this.eyeLeft.getForward(this._tempVec);\n        this._tempVec[1] = 0;\n        vec3.normalize(this._tempVec, this._tempVec);\n        return Math.atan2(this._tempVec[0], this._tempVec[2]);\n    }\n    update() {\n        let inputLength = 0;\n        if (this.gamepad && this.gamepad.axes) {\n            this._currentStickAxes[0] = this.gamepad.axes[2];\n            this._currentStickAxes[1] = this.gamepad.axes[3];\n            inputLength =\n                Math.abs(this._currentStickAxes[0]) + Math.abs(this._currentStickAxes[1]);\n        }\n        if (!this.isIndicating &&\n            this._prevThumbstickAxis[1] >= this.thumbstickActivationThreshhold &&\n            this._currentStickAxes[1] < this.thumbstickActivationThreshhold) {\n            this.isIndicating = true;\n        }\n        else if (this.isIndicating &&\n            inputLength < this.thumbstickDeactivationThreshhold) {\n            this.isIndicating = false;\n            this.teleportIndicatorMeshObject.active = false;\n            if (this._hasHit) {\n                this._teleportPlayer(this.hitSpot, this._extraRotation);\n            }\n        }\n        if (this.isIndicating && this.teleportIndicatorMeshObject && this.input) {\n            const origin = this._tempVec0;\n            quat2.getTranslation(origin, this.object.transformWorld);\n            const direction = this.object.getForward(this._tempVec);\n            let rayHit = (this.rayHit =\n                this.rayCastMode == 0\n                    ? this.engine.scene.rayCast(origin, direction, 1 << this.floorGroup)\n                    : this.engine.physics.rayCast(origin, direction, 1 << this.floorGroup, this.maxDistance));\n            if (rayHit.hitCount > 0) {\n                this.indicatorHidden = false;\n                this._extraRotation =\n                    Math.PI +\n                        Math.atan2(this._currentStickAxes[0], this._currentStickAxes[1]);\n                this._currentIndicatorRotation =\n                    this._getCamRotation() + (this._extraRotation - Math.PI);\n                this.teleportIndicatorMeshObject.resetTranslationRotation();\n                this.teleportIndicatorMeshObject.rotateAxisAngleRad([0, 1, 0], this._currentIndicatorRotation);\n                this.teleportIndicatorMeshObject.translate(rayHit.locations[0]);\n                this.teleportIndicatorMeshObject.translate([\n                    0.0,\n                    this.indicatorYOffset,\n                    0.0,\n                ]);\n                this.teleportIndicatorMeshObject.active = true;\n                this.hitSpot.set(rayHit.locations[0]);\n                this._hasHit = true;\n            }\n            else {\n                if (!this.indicatorHidden) {\n                    this.teleportIndicatorMeshObject.active = false;\n                    this.indicatorHidden = true;\n                }\n                this._hasHit = false;\n            }\n        }\n        else if (this.teleportIndicatorMeshObject && this.isMouseIndicating) {\n            this.onMousePressed();\n        }\n        this._prevThumbstickAxis.set(this._currentStickAxes);\n    }\n    setupVREvents(s) {\n        /* If in VR, one-time bind the listener */\n        this.session = s;\n        s.addEventListener('end', function () {\n            /* Reset cache once the session ends to rebind select etc, in case\n             * it starts again */\n            this.gamepad = null;\n            this.session = null;\n        }.bind(this));\n        if (s.inputSources && s.inputSources.length) {\n            for (let i = 0; i < s.inputSources.length; i++) {\n                let inputSource = s.inputSources[i];\n                if (inputSource.handedness == this.handedness) {\n                    this.gamepad = inputSource.gamepad;\n                }\n            }\n        }\n        s.addEventListener('inputsourceschange', function (e) {\n            if (e.added && e.added.length) {\n                for (let i = 0; i < e.added.length; i++) {\n                    let inputSource = e.added[i];\n                    if (inputSource.handedness == this.handedness) {\n                        this.gamepad = inputSource.gamepad;\n                    }\n                }\n            }\n        }.bind(this));\n    }\n    onMouseDown() {\n        this.isMouseIndicating = true;\n    }\n    onMouseUp() {\n        this.isMouseIndicating = false;\n        this.teleportIndicatorMeshObject.active = false;\n        if (this._hasHit) {\n            this._teleportPlayer(this.hitSpot, 0.0);\n        }\n    }\n    onMousePressed() {\n        let origin = [0, 0, 0];\n        quat2.getTranslation(origin, this.cam.transformWorld);\n        const direction = this.cam.getForward(this._tempVec);\n        let rayHit = (this.rayHit =\n            this.rayCastMode == 0\n                ? this.engine.scene.rayCast(origin, direction, 1 << this.floorGroup)\n                : this.engine.physics.rayCast(origin, direction, 1 << this.floorGroup, this.maxDistance));\n        if (rayHit.hitCount > 0) {\n            this.indicatorHidden = false;\n            direction[1] = 0;\n            vec3.normalize(direction, direction);\n            this._currentIndicatorRotation =\n                -Math.sign(direction[2]) * Math.acos(direction[0]) - Math.PI * 0.5;\n            this.teleportIndicatorMeshObject.resetTranslationRotation();\n            this.teleportIndicatorMeshObject.rotateAxisAngleRad([0, 1, 0], this._currentIndicatorRotation);\n            this.teleportIndicatorMeshObject.translate(rayHit.locations[0]);\n            this.teleportIndicatorMeshObject.active = true;\n            this.hitSpot = rayHit.locations[0];\n            this._hasHit = true;\n        }\n        else {\n            if (!this.indicatorHidden) {\n                this.teleportIndicatorMeshObject.active = false;\n                this.indicatorHidden = true;\n            }\n            this._hasHit = false;\n        }\n    }\n    _teleportPlayer(newPosition, rotationToAdd) {\n        this.camRoot.rotateAxisAngleRad([0, 1, 0], rotationToAdd);\n        const p = this._tempVec;\n        const p1 = this._tempVec0;\n        if (this.session) {\n            this.eyeLeft.getTranslationWorld(p);\n            this.eyeRight.getTranslationWorld(p1);\n            vec3.add(p, p, p1);\n            vec3.scale(p, p, 0.5);\n        }\n        else {\n            this.cam.getTranslationWorld(p);\n        }\n        this.camRoot.getTranslationWorld(p1);\n        vec3.sub(p, p1, p);\n        p[0] += newPosition[0];\n        p[1] = newPosition[1];\n        p[2] += newPosition[2];\n        this.camRoot.setTranslationWorld(p);\n    }\n}\nexport { TeleportComponent };\n", "import { Component, Type, Mesh, MeshIndexType, MeshAttribute } from '@wonderlandengine/api';\nimport { vec3 } from 'gl-matrix';\nconst direction = vec3.create();\nconst offset = vec3.create();\nconst normal = vec3.create();\n/**\n * Dynamic mesh-based trail\n *\n * This component keeps track of the world position of the object it's added to.\n * At a fixed interval the world position is stored as start and end points of the trail segments.\n *\n * The trail tapers off along its length. UV texture coordinates are setup such that the\n * U-axis covers the width of the trail and the V-axis covers the length of the trail.\n * This allows the trail's appearance to be defined using a texture.\n */\nclass Trail extends Component {\n    static TypeName = 'trail';\n    static Properties = {\n        /** The material to apply to the trail mesh */\n        material: { type: Type.Material },\n        /** The number of segments in the trail mesh */\n        segments: { type: Type.Int, default: 50 },\n        /** The time interval before recording a new point */\n        interval: { type: Type.Float, default: 0.1 },\n        /** The width of the trail (in world space) */\n        width: { type: Type.Float, default: 1.0 },\n        /** Whether or not the trail should taper off */\n        taper: { type: Type.Bool, default: true },\n        /**\n         * The maximum delta time in seconds, above which the trail resets.\n         * This prevents the trail from jumping around when updates happen\n         * infrequently (e.g. when the tab doesn't have focus).\n         */\n        resetThreshold: { type: Type.Float, default: 0.5 },\n    };\n    init() {\n        this.points = new Array(this.segments + 1);\n        for (let i = 0; i < this.points.length; ++i) {\n            this.points[i] = vec3.create();\n        }\n        /* The points array is circular, so keep track of its head */\n        this.currentPointOffset = 0;\n        this.up = [0, 1, 0];\n        this.timeTillNext = this.interval;\n    }\n    start() {\n        this.trailContainer = this.engine.scene.addObject();\n        this.meshComp = this.trailContainer.addComponent('mesh');\n        this.meshComp.material = this.material;\n        /* Each point will have two vertices; one on either side */\n        const vertexCount = 2 * this.points.length;\n        /* Each segment consists of two triangles */\n        this.indexData = new Uint32Array(6 * this.segments);\n        for (let i = 0, v = 0; i < vertexCount - 2; i += 2, v += 6) {\n            this.indexData\n                .subarray(v, v + 6)\n                .set([i + 1, i + 0, i + 2, i + 2, i + 3, i + 1]);\n        }\n        this.mesh = new Mesh(this.engine, {\n            vertexCount: vertexCount,\n            indexData: this.indexData,\n            indexType: MeshIndexType.UnsignedInt,\n        });\n        this.meshComp.mesh = this.mesh;\n    }\n    updateVertices() {\n        const positions = this.mesh.attribute(MeshAttribute.Position);\n        const texCoords = this.mesh.attribute(MeshAttribute.TextureCoordinate);\n        const normals = this.mesh.attribute(MeshAttribute.Normal);\n        vec3.set(direction, 0, 0, 0);\n        for (let i = 0; i < this.points.length; ++i) {\n            const curr = this.points[(this.currentPointIndex + i + 1) % this.points.length];\n            const next = this.points[(this.currentPointIndex + i + 2) % this.points.length];\n            /* The last point has no next, so re-use the direction of the previous segment */\n            if (i !== this.points.length - 1) {\n                vec3.sub(direction, next, curr);\n            }\n            vec3.cross(offset, this.up, direction);\n            vec3.normalize(offset, offset);\n            const timeFraction = 1.0 - this.timeTillNext / this.interval;\n            const fraction = (i - timeFraction) / this.segments;\n            vec3.scale(offset, offset, ((this.taper ? fraction : 1.0) * this.width) / 2.0);\n            positions.set(i * 2, [\n                curr[0] - offset[0],\n                curr[1] - offset[1],\n                curr[2] - offset[2],\n            ]);\n            positions.set(i * 2 + 1, [\n                curr[0] + offset[0],\n                curr[1] + offset[1],\n                curr[2] + offset[2],\n            ]);\n            if (normals) {\n                vec3.cross(normal, direction, offset);\n                vec3.normalize(normal, normal);\n                normals.set(i * 2, normal);\n                normals.set(i * 2 + 1, normal);\n            }\n            if (texCoords) {\n                texCoords.set(i * 2, [0, fraction]);\n                texCoords.set(i * 2 + 1, [1, fraction]);\n            }\n        }\n        /* Notify WLE that the mesh has changed */\n        this.mesh.update();\n    }\n    resetTrail() {\n        this.object.getTranslationWorld(this.points[0]);\n        for (let i = 1; i < this.points.length; ++i) {\n            vec3.copy(this.points[i], this.points[0]);\n        }\n        this.currentPointIndex = 0;\n        this.timeTillNext = this.interval;\n    }\n    update(dt) {\n        this.timeTillNext -= dt;\n        if (dt > this.resetThreshold) {\n            this.resetTrail();\n        }\n        if (this.timeTillNext < 0) {\n            this.currentPointIndex = (this.currentPointIndex + 1) % this.points.length;\n            this.timeTillNext = (this.timeTillNext % this.interval) + this.interval;\n        }\n        this.object.getTranslationWorld(this.points[this.currentPointIndex]);\n        this.updateVertices();\n    }\n    onActivate() {\n        this.resetTrail();\n    }\n    onDestroy() {\n        this.trailContainer.destroy();\n        this.mesh.destroy();\n    }\n}\nexport { Trail };\n", "import { Component, Type } from '@wonderlandengine/api';\nimport { vec3, quat } from 'gl-matrix';\nMath.clamp = function (v, a, b) {\n    return Math.max(a, Math.min(v, b));\n};\n// From http://theorangeduck.com/page/simple-two-joint\nconst twoJointIK = (function () {\n    let ta = new Float32Array(3);\n    let ca = new Float32Array(3);\n    let ba = new Float32Array(3);\n    let ab = new Float32Array(3);\n    let cb = new Float32Array(3);\n    let axis0 = new Float32Array(3);\n    let axis1 = new Float32Array(3);\n    let temp = new Float32Array(4);\n    let r0 = new Float32Array(4);\n    let r1 = new Float32Array(4);\n    let r2 = new Float32Array(4);\n    return function (a_lr, b_lr, a, b, c, t, eps, a_gr, b_gr, helper) {\n        vec3.sub(ba, b, a);\n        const lab = vec3.length(ba);\n        vec3.sub(ta, b, c);\n        const lcb = vec3.length(ta);\n        vec3.sub(ta, t, a);\n        const lat = Math.clamp(vec3.length(ta), eps, lab + lcb - eps);\n        vec3.sub(ca, c, a);\n        vec3.sub(ab, a, b);\n        vec3.sub(cb, c, b);\n        vec3.normalize(ca, ca);\n        vec3.normalize(ba, ba);\n        vec3.normalize(ab, ab);\n        vec3.normalize(cb, cb);\n        vec3.normalize(ta, ta);\n        const ac_ab_0 = Math.acos(Math.clamp(vec3.dot(ca, ba), -1, 1));\n        const ba_bc_0 = Math.acos(Math.clamp(vec3.dot(ab, cb), -1, 1));\n        const ac_at_0 = Math.acos(Math.clamp(vec3.dot(ca, ta), -1, 1));\n        const ac_ab_1 = Math.acos(Math.clamp((lcb * lcb - lab * lab - lat * lat) / (-2 * lab * lat), -1, 1));\n        const ba_bc_1 = Math.acos(Math.clamp((lat * lat - lab * lab - lcb * lcb) / (-2 * lab * lcb), -1, 1));\n        vec3.sub(ca, c, a);\n        vec3.sub(ba, b, a);\n        vec3.sub(ta, t, a);\n        vec3.cross(axis0, ca, ba);\n        vec3.cross(axis1, ca, ta);\n        if (helper) {\n            vec3.sub(ba, helper, b);\n            vec3.transformQuat(ba, [0, 0, -1], b_gr);\n        }\n        else {\n            vec3.sub(ba, b, a);\n        }\n        const l = vec3.length(axis0);\n        if (l == 0) {\n            axis0.set([1, 0, 0]);\n        }\n        else {\n            vec3.scale(axis0, axis0, 1 / l);\n        }\n        vec3.normalize(axis1, axis1);\n        quat.conjugate(a_gr, a_gr);\n        quat.setAxisAngle(r0, vec3.transformQuat(temp, axis0, a_gr), ac_ab_1 - ac_ab_0);\n        quat.setAxisAngle(r2, vec3.transformQuat(temp, axis1, a_gr), ac_at_0);\n        quat.mul(a_lr, a_lr, quat.mul(temp, r0, r2));\n        quat.normalize(a_lr, a_lr);\n        quat.conjugate(b_gr, b_gr);\n        quat.setAxisAngle(r1, vec3.transformQuat(temp, axis0, b_gr), ba_bc_1 - ba_bc_0);\n        quat.mul(b_lr, b_lr, r1);\n        quat.normalize(b_lr, b_lr);\n    };\n})();\n/**\n * Inverse Kinematics for two-joint chains (e.g. knees or ellbows)\n */\nclass TwoJointIkSolver extends Component {\n    static TypeName = 'two-joint-ik-solver';\n    static Properties = {\n        /** Root bone, never moves */\n        root: { type: Type.Object },\n        /** Bone attached to the root */\n        middle: { type: Type.Object },\n        /** Bone attached to the middle */\n        end: { type: Type.Object },\n        /** Target the joins should reach for */\n        target: { type: Type.Object },\n        /** Helper object to use to determine joint rotation axis */\n        helper: { type: Type.Object },\n    };\n    init() {\n        this.pos = new Float32Array(3 * 7);\n        this.p = [\n            this.pos.subarray(0, 3),\n            this.pos.subarray(3, 6),\n            this.pos.subarray(6, 9),\n            this.pos.subarray(9, 12),\n            this.pos.subarray(12, 15),\n            this.pos.subarray(15, 18),\n            this.pos.subarray(18, 21),\n        ];\n    }\n    update() {\n        const p = this.p;\n        this.root.getTranslationWorld(p[0]);\n        this.middle.getTranslationWorld(p[1]);\n        this.end.getTranslationWorld(p[2]);\n        this.target.getTranslationWorld(p[3]);\n        const tla = p[4];\n        const tlb = p[5];\n        this.root.getTranslationLocal(tla);\n        this.middle.getTranslationLocal(tlb);\n        if (this.helper)\n            this.helper.getTranslationWorld(p[6]);\n        twoJointIK(this.root.transformLocal, this.middle.transformLocal, p[0], p[1], p[2], p[3], 0.01, this.root.transformWorld.subarray(0, 4), this.middle.transformWorld.subarray(0, 4), this.helper ? p[6] : null);\n        this.root.setTranslationLocal(tla);\n        this.middle.setTranslationLocal(tlb);\n        this.root.setDirty();\n        this.middle.setDirty();\n    }\n}\nexport { TwoJointIkSolver };\n", "import { Component, Texture, Type } from '@wonderlandengine/api';\n/**\n * Downloads a video from URL and applies it as `diffuseTexture` or `flatTexture`\n * on given material.\n *\n * Video textures need to be updated regularly whenever\n * a new frame is available. This component handles the\n * detection of a new frame and updates the texture to\n * reflect the video's current frame.\n *\n * Materials from the following shaders are supported:\n *  - \"Phong Opaque Textured\"\n *  - \"Flat Opaque Textured\"\n *  - \"Background\"\n *  - \"Physical Opaque Textured\"\n *  - \"Foliage\"\n *\n * The video can be accessed through `this.video`:\n *\n * ```js\n *   let videoTexture = this.object.getComponent('video-texture');\n *   videoTexture.video.play();\n *   videoTexture.video.pause();\n * ```\n *\n * See [Video Example](/showcase/video).\n */\nclass VideoTexture extends Component {\n    static TypeName = 'video-texture';\n    static Properties = {\n        /** URL to download video from */\n        url: { type: Type.String },\n        /** Material to apply the video texture to */\n        material: { type: Type.Material },\n        /** Whether to loop the video */\n        loop: { type: Type.Bool, default: true },\n        /** Whether to automatically start playing the video */\n        autoplay: { type: Type.Bool, default: true },\n        /** Whether to mute sound */\n        muted: { type: Type.Bool, default: true },\n    };\n    init() {\n        if (!this.material) {\n            throw Error('video-texture: material property not set');\n        }\n        this.loaded = false;\n        this.frameUpdateRequested = true;\n    }\n    start() {\n        this.video = document.createElement('video');\n        this.video.src = this.url;\n        this.video.crossOrigin = 'anonymous';\n        this.video.playsInline = true;\n        this.video.loop = this.loop;\n        this.video.muted = this.muted;\n        this.video.addEventListener('playing', () => {\n            this.loaded = true;\n        });\n        if (this.autoplay) {\n            const playAfterUserGesture = () => {\n                this.video.play();\n                window.removeEventListener('click', playAfterUserGesture);\n                window.removeEventListener('touchstart', playAfterUserGesture);\n            };\n            window.addEventListener('click', playAfterUserGesture);\n            window.addEventListener('touchstart', playAfterUserGesture);\n        }\n    }\n    applyTexture() {\n        const mat = this.material;\n        const shader = mat.shader;\n        const texture = (this.texture = new Texture(this.engine, this.video));\n        if (shader === 'Flat Opaque Textured') {\n            mat.flatTexture = texture;\n        }\n        else if (shader === 'Phong Opaque Textured' || shader === 'Foliage') {\n            mat.diffuseTexture = texture;\n        }\n        else if (shader === 'Background') {\n            mat.texture = texture;\n        }\n        else if (shader === 'Physical Opaque Textured') {\n            mat.albedoTexture = texture;\n        }\n        else {\n            console.error('Shader', shader, 'not supported by video-texture');\n        }\n        if ('requestVideoFrameCallback' in this.video) {\n            this.video.requestVideoFrameCallback(this.updateVideo.bind(this));\n        }\n        else {\n            this.video.addEventListener('timeupdate', () => {\n                this.frameUpdateRequested = true;\n            });\n        }\n    }\n    update(dt) {\n        if (this.loaded && this.frameUpdateRequested) {\n            if (this.texture) {\n                this.texture.update();\n            }\n            else {\n                /* Apply texture on first frame update request */\n                this.applyTexture();\n            }\n            this.frameUpdateRequested = false;\n        }\n    }\n    updateVideo() {\n        this.frameUpdateRequested = true;\n        this.video.requestVideoFrameCallback(this.updateVideo.bind(this));\n    }\n}\nexport { VideoTexture };\n", "import { Component, Type } from '@wonderlandengine/api';\n/**\n * Allows switching all other components on an object to active/inactive\n * depending on whether a VR/AR session is active.\n *\n * Useful for hiding controllers until the user enters VR for example.\n */\nclass VrModeActiveSwitch extends Component {\n    static TypeName = 'vr-mode-active-switch';\n    static Properties = {\n        /** When components should be active: In VR or when not in VR */\n        activateComponents: {\n            type: Type.Enum,\n            values: ['in VR', 'in non-VR'],\n            default: 'in VR',\n        },\n        /** Whether child object's components should be affected */\n        affectChildren: { type: Type.Bool, default: true },\n    };\n    start() {\n        this.components = [];\n        this.getComponents(this.object);\n        /* Initial activation/deactivation */\n        this.onXRSessionEnd();\n        this.engine.onXRSessionStart.push(this.onXRSessionStart.bind(this));\n        this.engine.onXRSessionEnd.push(this.onXRSessionEnd.bind(this));\n    }\n    getComponents(obj) {\n        const comps = obj.getComponents().filter((c) => c.type !== 'vr-mode-active-switch');\n        this.components = this.components.concat(comps);\n        if (this.affectChildren) {\n            let children = obj.children;\n            for (let i = 0; i < children.length; ++i) {\n                this.getComponents(children[i]);\n            }\n        }\n    }\n    setComponentsActive(active) {\n        const comps = this.components;\n        for (let i = 0; i < comps.length; ++i) {\n            comps[i].active = active;\n        }\n    }\n    onXRSessionStart() {\n        if (!this.active)\n            return;\n        this.setComponentsActive(this.activateComponents == 0);\n    }\n    onXRSessionEnd() {\n        if (!this.active)\n            return;\n        this.setComponentsActive(this.activateComponents != 0);\n    }\n}\nexport { VrModeActiveSwitch };\n", "import { Component, Type } from '@wonderlandengine/api';\nimport { vec3, mat4, quat, quat2 } from 'gl-matrix';\nconst VRM_ROLL_AXES = {\n    X: [1.0, 0.0, 0.0],\n    Y: [0.0, 1.0, 0.0],\n    Z: [0.0, 0.0, 1.0],\n};\nconst VRM_AIM_AXES = {\n    PositiveX: [1.0, 0.0, 0.0],\n    NegativeX: [-1.0, 0.0, 0.0],\n    PositiveY: [0.0, 1.0, 0.0],\n    NegativeY: [0.0, -1.0, 0.0],\n    PositiveZ: [0.0, 0.0, 1.0],\n    NegativeZ: [0.0, 0.0, -1.0],\n};\n/**\n * Component for loading and handling VRM 1.0 models.\n *\n * Posing of the model should be done exclusively by rotating the bones. These can be\n * accessed using the `.bones` property and follow the VRM bone naming. Note that not\n * all VRM models will have all possible bones. The rest pose (T-pose) is captured in\n * the `.restPose` property. Resetting a bone to its rest pose can be done as follows:\n * ```js\n * vrmComponent.bones[vrmBoneName].rotationLocal = vrmComponent.restPose[vrmBoneName];\n * ```\n *\n * Moving the model through the world should be done by moving the object this component\n * is attached to. In other words, by moving the root of the VRM model. The bones and any\n * descendant objects should *not* be used to move the VRM model.\n *\n * The core extension `VRMC_vrm` as well as the`VRMC_springBone` and `VRMC_node_constraint`\n * extensions are supported.\n *\n * **Limitations:**\n * - No support for `VRMC_material_mtoon`\n * - Expressions aren't supported\n * - Expression based lookAt isn't supported\n * - Mesh annotation mode `auto` is not supported (first person mode)\n */\nclass Vrm extends Component {\n    static TypeName = 'vrm';\n    static Properties = {\n        /** URL to a VRM file to load */\n        src: { type: Type.String },\n        /** Object the VRM is looking at */\n        lookAtTarget: { type: Type.Object },\n    };\n    /** Meta information about the VRM model */\n    meta = null;\n    /** The humanoid bones of the VRM model */\n    bones = {\n        /* Torso */\n        hips: null,\n        spine: null,\n        chest: null,\n        upperChest: null,\n        neck: null,\n        /* Head */\n        head: null,\n        leftEye: null,\n        rightEye: null,\n        jaw: null,\n        /* Legs */\n        leftUpperLeg: null,\n        leftLowerLeg: null,\n        leftFoot: null,\n        leftToes: null,\n        rightUpperLeg: null,\n        rightLowerLeg: null,\n        rightFoot: null,\n        rightToes: null,\n        /* Arms */\n        leftShoulder: null,\n        leftUpperArm: null,\n        leftLowerArm: null,\n        leftHand: null,\n        rightShoulder: null,\n        rightUpperArm: null,\n        rightLowerArm: null,\n        rightHand: null,\n        /* Fingers */\n        leftThumbMetacarpal: null,\n        leftThumbProximal: null,\n        leftThumbDistal: null,\n        leftIndexProximal: null,\n        leftIndexIntermediate: null,\n        leftIndexDistal: null,\n        leftMiddleProximal: null,\n        leftMiddleIntermediate: null,\n        leftMiddleDistal: null,\n        leftRingProximal: null,\n        leftRingIntermediate: null,\n        leftRingDistal: null,\n        leftLittleProximal: null,\n        leftLittleIntermediate: null,\n        leftLittleDistal: null,\n        rightThumbMetacarpal: null,\n        rightThumbProximal: null,\n        rightThumbDistal: null,\n        rightIndexProximal: null,\n        rightIndexIntermediate: null,\n        rightIndexDistal: null,\n        rightMiddleProximal: null,\n        rightMiddleIntermediate: null,\n        rightMiddleDistal: null,\n        rightRingProximal: null,\n        rightRingIntermediate: null,\n        rightRingDistal: null,\n        rightLittleProximal: null,\n        rightLittleIntermediate: null,\n        rightLittleDistal: null,\n    };\n    /** Rotations of the bones in the rest pose (T-pose) */\n    restPose = {};\n    /* All node constraints, ordered to deal with dependencies */\n    _nodeConstraints = [];\n    /* VRMC_springBone chains */\n    _springChains = [];\n    /* Spherical colliders for spring bones */\n    _sphereColliders = [];\n    /* Capsule shaped colliders for spring bones */\n    _capsuleColliders = [];\n    /* Indicates which meshes are rendered in first/third person views */\n    _firstPersonAnnotations = [];\n    /* Contains details for (bone type) lookAt behaviour */\n    _lookAt = null;\n    /* Whether or not the VRM component has been initialized with `initializeVrm` */\n    _initialized = false;\n    init() {\n        this._tempV3 = vec3.create();\n        this._tempV3A = vec3.create();\n        this._tempV3B = vec3.create();\n        this._tempQuat = quat.create();\n        this._tempQuatA = quat.create();\n        this._tempQuatB = quat.create();\n        this._tempMat4A = mat4.create();\n        this._tempQuat2 = quat2.create();\n        this._tailToShape = vec3.create();\n        this._headToTail = vec3.create();\n        this._inertia = vec3.create();\n        this._stiffness = vec3.create();\n        this._external = vec3.create();\n        this._rightVector = vec3.set(vec3.create(), 1, 0, 0);\n        this._upVector = vec3.set(vec3.create(), 0, 1, 0);\n        this._forwardVector = vec3.set(vec3.create(), 0, 0, 1);\n        this._identityQuat = quat.identity(quat.create());\n        this._rad2deg = 180.0 / Math.PI;\n    }\n    start() {\n        if (!this.src) {\n            console.error('vrm: src property not set');\n            return;\n        }\n        this.engine.scene\n            .append(this.src, { loadGltfExtensions: true })\n            .then(({ root, extensions }) => {\n            root.children.forEach((child) => (child.parent = this.object));\n            this._initializeVrm(extensions);\n            root.destroy();\n        });\n    }\n    /**\n     * Parses the VRM glTF extensions and initializes the vrm component.\n     * @param {GLTFExtensions} extensions The glTF extensions for the VRM model\n     */\n    _initializeVrm(extensions) {\n        if (this._initialized) {\n            throw Error('VRM component has already been initialized');\n        }\n        const VRMC_vrm = extensions.root['VRMC_vrm'];\n        if (!VRMC_vrm) {\n            throw Error('Missing VRM extensions');\n        }\n        if (VRMC_vrm.specVersion !== '1.0') {\n            throw Error(`Unsupported VRM version, only 1.0 is supported, but encountered '${VRMC_vrm.specVersion}'`);\n        }\n        this.meta = VRMC_vrm.meta;\n        this._parseHumanoid(VRMC_vrm.humanoid, extensions);\n        if (VRMC_vrm.firstPerson) {\n            this._parseFirstPerson(VRMC_vrm.firstPerson, extensions);\n        }\n        if (VRMC_vrm.lookAt) {\n            this._parseLookAt(VRMC_vrm.lookAt);\n        }\n        this._findAndParseNodeConstraints(extensions);\n        const springBone = extensions.root['VRMC_springBone'];\n        if (springBone) {\n            this._parseAndInitializeSpringBones(springBone, extensions);\n        }\n        this._initialized = true;\n    }\n    _parseHumanoid(humanoid, extensions) {\n        for (const boneName in humanoid.humanBones) {\n            if (!(boneName in this.bones)) {\n                console.warn(`Unrecognized bone '${boneName}'`);\n                continue;\n            }\n            const node = humanoid.humanBones[boneName].node;\n            const objectId = extensions.idMapping[node];\n            this.bones[boneName] = this.engine.wrapObject(objectId);\n            this.restPose[boneName] = quat.copy(quat.create(), this.bones[boneName].rotationLocal);\n        }\n    }\n    _parseFirstPerson(firstPerson, extensions) {\n        for (const meshAnnotation of firstPerson.meshAnnotations) {\n            const annotation = {\n                node: this.engine.wrapObject(extensions.idMapping[meshAnnotation.node]),\n                firstPerson: true,\n                thirdPerson: true,\n            };\n            switch (meshAnnotation.type) {\n                case 'firstPersonOnly':\n                    annotation.thirdPerson = false;\n                    break;\n                case 'thirdPersonOnly':\n                    annotation.firstPerson = false;\n                    break;\n                case 'both':\n                    break;\n                case 'auto':\n                    console.warn(\"First person mesh annotation type 'auto' is not supported, treating as 'both'!\");\n                    break;\n                default:\n                    console.error(`Invalid mesh annotation type '${meshAnnotation.type}'`);\n                    break;\n            }\n            this._firstPersonAnnotations.push(annotation);\n        }\n    }\n    _parseLookAt(lookAt) {\n        if (lookAt.type !== 'bone') {\n            console.warn(`Unsupported lookAt type '${lookAt.type}', only 'bone' is supported`);\n            return;\n        }\n        const parseRangeMap = (rangeMap) => {\n            return {\n                inputMaxValue: rangeMap.inputMaxValue,\n                outputScale: rangeMap.outputScale,\n            };\n        };\n        this._lookAt = {\n            offsetFromHeadBone: lookAt.offsetFromHeadBone || [0, 0, 0],\n            horizontalInner: parseRangeMap(lookAt.rangeMapHorizontalInner),\n            horizontalOuter: parseRangeMap(lookAt.rangeMapHorizontalOuter),\n            verticalDown: parseRangeMap(lookAt.rangeMapVerticalDown),\n            verticalUp: parseRangeMap(lookAt.rangeMapVerticalUp),\n        };\n    }\n    _findAndParseNodeConstraints(extensions) {\n        const traverse = (object) => {\n            const nodeExtensions = extensions.node[object.objectId];\n            if (nodeExtensions && 'VRMC_node_constraint' in nodeExtensions) {\n                const nodeConstraintExtension = nodeExtensions['VRMC_node_constraint'];\n                const constraint = nodeConstraintExtension.constraint;\n                let type, axis;\n                if ('roll' in constraint) {\n                    type = 'roll';\n                    axis = VRM_ROLL_AXES[constraint.roll.rollAxis];\n                }\n                else if ('aim' in constraint) {\n                    type = 'aim';\n                    axis = VRM_AIM_AXES[constraint.aim.aimAxis];\n                }\n                else if ('rotation' in constraint) {\n                    type = 'rotation';\n                }\n                if (type) {\n                    const source = this.engine.wrapObject(extensions.idMapping[constraint[type].source]);\n                    this._nodeConstraints.push({\n                        type,\n                        source,\n                        destination: object,\n                        axis: axis,\n                        weight: constraint[type].weight,\n                        /* Rest pose */\n                        destinationRestLocalRotation: quat.copy(quat.create(), object.rotationLocal),\n                        sourceRestLocalRotation: quat.copy(quat.create(), source.rotationLocal),\n                        sourceRestLocalRotationInv: quat.invert(quat.create(), source.rotationLocal),\n                    });\n                }\n                else {\n                    console.warn('Unrecognized or invalid VRMC_node_constraint, ignoring it');\n                }\n            }\n            for (const child of object.children) {\n                traverse(child);\n            }\n        };\n        traverse(this.object);\n    }\n    _parseAndInitializeSpringBones(springBone, extensions) {\n        const colliders = (springBone.colliders || []).map((collider, i) => {\n            const shapeType = 'capsule' in collider.shape ? 'capsule' : 'sphere';\n            return {\n                id: i,\n                object: this.engine.wrapObject(extensions.idMapping[collider.node]),\n                shape: {\n                    isCapsule: shapeType === 'capsule',\n                    radius: collider.shape[shapeType].radius,\n                    offset: collider.shape[shapeType].offset,\n                    tail: collider.shape[shapeType].tail,\n                },\n                cache: {\n                    head: vec3.create(),\n                    tail: vec3.create(),\n                },\n            };\n        });\n        this._sphereColliders = colliders.filter((c) => !c.shape.isCapsule);\n        this._capsuleColliders = colliders.filter((c) => c.shape.isCapsule);\n        const colliderGroups = (springBone.colliderGroups || []).map((group) => ({\n            name: group.name,\n            colliders: group.colliders.map((c) => colliders[c]),\n        }));\n        for (const spring of springBone.springs) {\n            const joints = [];\n            for (const joint of spring.joints) {\n                const springJoint = {\n                    hitRadius: 0.0,\n                    stiffness: 1.0,\n                    gravityPower: 0.0,\n                    gravityDir: [0.0, -1.0, 0.0],\n                    dragForce: 0.5,\n                    node: null,\n                    state: null,\n                };\n                Object.assign(springJoint, joint);\n                springJoint.node = this.engine.wrapObject(extensions.idMapping[springJoint.node]);\n                joints.push(springJoint);\n            }\n            const springChainColliders = (spring.colliderGroups || []).flatMap((cg) => colliderGroups[cg].colliders);\n            this._springChains.push({\n                name: spring.name,\n                center: spring.center\n                    ? this.engine.wrapObject(extensions.idMapping[spring.center])\n                    : null,\n                joints,\n                sphereColliders: springChainColliders.filter((c) => !c.shape.isCapsule),\n                capsuleColliders: springChainColliders.filter((c) => c.shape.isCapsule),\n            });\n        }\n        /* Initialize spring bone joint state */\n        for (const springChain of this._springChains) {\n            for (let i = 0; i < springChain.joints.length - 1; ++i) {\n                const springBoneJoint = springChain.joints[i];\n                const childSpringBoneJoint = springChain.joints[i + 1];\n                const springBonePosition = springBoneJoint.node.getTranslationWorld(vec3.create());\n                const childSpringBonePosition = childSpringBoneJoint.node.getTranslationWorld(vec3.create());\n                const boneDirection = vec3.subtract(this._tempV3A, springBonePosition, childSpringBonePosition);\n                const state = {\n                    prevTail: childSpringBonePosition,\n                    currentTail: vec3.copy(vec3.create(), childSpringBonePosition),\n                    initialLocalRotation: quat.copy(quat.create(), springBoneJoint.node.rotationLocal),\n                    initialLocalTransformInvert: quat2.invert(quat2.create(), springBoneJoint.node.transformLocal),\n                    boneAxis: vec3.normalize(vec3.create(), childSpringBoneJoint.node.getTranslationLocal(this._tempV3)),\n                    /* Ensure bone length is at least 1cm to avoid jittery behaviour from zero-length bones */\n                    boneLength: Math.max(0.01, vec3.length(boneDirection)),\n                    /* Tail positions in center space, if needed */\n                    prevTailCenter: null,\n                    currentTailCenter: null,\n                };\n                if (springChain.center) {\n                    state.prevTailCenter = springChain.center.transformPointInverseWorld(vec3.create(), childSpringBonePosition);\n                    state.currentTailCenter = vec3.copy(vec3.create(), childSpringBonePosition);\n                }\n                springBoneJoint.state = state;\n            }\n        }\n    }\n    update(dt) {\n        if (!this._initialized) {\n            return;\n        }\n        /* 1. Resolve humanoid bones (performed by user) */\n        /* 2. Resolve LookAt (bone type) as the position of the head is determined */\n        this._resolveLookAt();\n        /* 3. Expression update (TODO) */\n        /* 4. Apply Expression (TODO) */\n        /* 5. Resolve constraints */\n        this._resolveConstraints();\n        /* 6. Resolve Spring Bone */\n        this._updateSpringBones(dt);\n    }\n    _rangeMap(rangeMap, input) {\n        const maxValue = rangeMap.inputMaxValue;\n        const outputScale = rangeMap.outputScale;\n        return (Math.min(input, maxValue) / maxValue) * outputScale;\n    }\n    _resolveLookAt() {\n        if (!this._lookAt || !this.lookAtTarget) {\n            return;\n        }\n        const lookAtSource = this.bones.head.transformPointWorld(this._tempV3A, this._lookAt.offsetFromHeadBone);\n        const lookAtTarget = this.lookAtTarget.getTranslationWorld(this._tempV3B);\n        const lookAtDirection = vec3.sub(this._tempV3A, lookAtTarget, lookAtSource);\n        vec3.normalize(lookAtDirection, lookAtDirection);\n        /* Convert the direction into LookAt space */\n        this.bones.head.parent.transformVectorInverseWorld(lookAtDirection);\n        const z = vec3.dot(lookAtDirection, this._forwardVector);\n        const x = vec3.dot(lookAtDirection, this._rightVector);\n        const yaw = Math.atan2(x, z) * this._rad2deg;\n        const xz = Math.sqrt(x * x + z * z);\n        const y = vec3.dot(lookAtDirection, this._upVector);\n        let pitch = Math.atan2(-y, xz) * this._rad2deg;\n        /* Limit pitch */\n        if (pitch > 0) {\n            pitch = this._rangeMap(this._lookAt.verticalDown, pitch);\n        }\n        else {\n            pitch = -this._rangeMap(this._lookAt.verticalUp, -pitch);\n        }\n        /* Left eye (limit yaw) */\n        if (this.bones.leftEye) {\n            let yawLeft = yaw;\n            if (yawLeft > 0) {\n                yawLeft = this._rangeMap(this._lookAt.horizontalInner, yawLeft);\n            }\n            else {\n                yawLeft = -this._rangeMap(this._lookAt.horizontalOuter, -yawLeft);\n            }\n            const eyeRotation = quat.fromEuler(this._tempQuatA, pitch, yawLeft, 0);\n            this.bones.leftEye.rotationLocal = quat.multiply(eyeRotation, this.restPose.leftEye, eyeRotation);\n        }\n        /* Right eye (limit yaw) */\n        if (this.bones.rightEye) {\n            let yawRight = yaw;\n            if (yawRight > 0) {\n                yawRight = this._rangeMap(this._lookAt.horizontalOuter, yawRight);\n            }\n            else {\n                yawRight = -this._rangeMap(this._lookAt.horizontalInner, -yawRight);\n            }\n            const eyeRotation = quat.fromEuler(this._tempQuatA, pitch, yawRight, 0);\n            this.bones.rightEye.rotationLocal = quat.multiply(eyeRotation, this.restPose.rightEye, eyeRotation);\n        }\n    }\n    _resolveConstraints() {\n        for (const nodeConstraint of this._nodeConstraints) {\n            this._resolveConstraint(nodeConstraint);\n        }\n    }\n    _resolveConstraint(nodeConstraint) {\n        const dstRestQuat = nodeConstraint.destinationRestLocalRotation;\n        const srcRestQuatInv = nodeConstraint.sourceRestLocalRotationInv;\n        const targetQuat = quat.identity(this._tempQuatA);\n        switch (nodeConstraint.type) {\n            case 'roll':\n                {\n                    const deltaSrcQuat = quat.multiply(this._tempQuatA, srcRestQuatInv, nodeConstraint.source.rotationLocal);\n                    /* source to parent */\n                    const deltaSrcQuatInParent = quat.multiply(this._tempQuatA, nodeConstraint.sourceRestLocalRotation, deltaSrcQuat);\n                    quat.mul(deltaSrcQuatInParent, deltaSrcQuatInParent, srcRestQuatInv);\n                    /* parent to destination */\n                    const dstRestQuatInv = quat.invert(this._tempQuatB, dstRestQuat);\n                    const deltaSrcQuatInDst = quat.multiply(this._tempQuatB, dstRestQuatInv, deltaSrcQuatInParent);\n                    quat.multiply(deltaSrcQuatInDst, deltaSrcQuatInDst, dstRestQuat);\n                    const toVec = vec3.transformQuat(this._tempV3A, nodeConstraint.axis, deltaSrcQuatInDst);\n                    const fromToQuat = quat.rotationTo(this._tempQuatA, nodeConstraint.axis, toVec);\n                    quat.mul(targetQuat, dstRestQuat, quat.invert(this._tempQuat, fromToQuat));\n                    quat.mul(targetQuat, targetQuat, deltaSrcQuatInDst);\n                }\n                break;\n            case 'aim':\n                {\n                    const dstParentWorldQuat = nodeConstraint.destination.parent.rotationWorld;\n                    /* fromVec = aimAxis.applyQuaternion( dstParentWorldQuat * dstRestQuat ) */\n                    const fromVec = vec3.transformQuat(this._tempV3A, nodeConstraint.axis, dstRestQuat);\n                    vec3.transformQuat(fromVec, fromVec, dstParentWorldQuat);\n                    /* toVec = ( srcWorldPos - dstWorldPos ).normalized */\n                    const toVec = nodeConstraint.source.getTranslationWorld(this._tempV3B);\n                    vec3.sub(toVec, toVec, nodeConstraint.destination.getTranslationWorld(this._tempV3));\n                    vec3.normalize(toVec, toVec);\n                    /* fromToQuat = Quaternion.fromToRotation( fromVec, toVec ) */\n                    const fromToQuat = quat.rotationTo(this._tempQuatA, fromVec, toVec);\n                    quat.mul(targetQuat, quat.invert(this._tempQuat, dstParentWorldQuat), fromToQuat);\n                    quat.mul(targetQuat, targetQuat, dstParentWorldQuat);\n                    quat.mul(targetQuat, targetQuat, dstRestQuat);\n                }\n                break;\n            case 'rotation':\n                {\n                    const srcDeltaQuat = quat.mul(targetQuat, srcRestQuatInv, nodeConstraint.source.rotationLocal);\n                    quat.mul(targetQuat, dstRestQuat, srcDeltaQuat);\n                }\n                break;\n        }\n        /* Apply constraint */\n        quat.slerp(targetQuat, dstRestQuat, targetQuat, nodeConstraint.weight);\n        nodeConstraint.destination.rotationLocal = targetQuat;\n    }\n    _updateSpringBones(dt) {\n        /* Pre-compute collider positions */\n        this._sphereColliders.forEach(({ object, shape, cache }) => {\n            const offset = vec3.copy(cache.head, shape.offset);\n            object.transformVectorWorld(offset);\n            vec3.add(cache.head, object.getTranslationWorld(this._tempV3), offset);\n        });\n        this._capsuleColliders.forEach(({ object, shape, cache }) => {\n            const shapeCenter = object.getTranslationWorld(this._tempV3A);\n            const headOffset = vec3.copy(cache.head, shape.offset);\n            object.transformVectorWorld(headOffset);\n            vec3.add(cache.head, shapeCenter, headOffset);\n            const tailOffset = vec3.copy(cache.tail, shape.tail);\n            object.transformVectorWorld(tailOffset);\n            vec3.add(cache.tail, shapeCenter, tailOffset);\n        });\n        /* Update spring chains */\n        this._springChains.forEach((springChain) => {\n            for (let i = 0; i < springChain.joints.length - 1; ++i) {\n                const joint = springChain.joints[i];\n                const parentWorldRotation = joint.node.parent\n                    ? joint.node.parent.rotationWorld\n                    : this._identityQuat;\n                /* 1. Forces */\n                /* inertia = (currentTail - prevTail) * (1.0f - dragForce); */\n                const inertia = this._inertia;\n                if (springChain.center) {\n                    vec3.sub(inertia, joint.state.currentTailCenter, joint.state.prevTailCenter);\n                    springChain.center.transformVectorWorld(inertia);\n                }\n                else {\n                    vec3.sub(inertia, joint.state.currentTail, joint.state.prevTail);\n                }\n                vec3.scale(inertia, inertia, 1.0 - joint.dragForce);\n                /* stiffness = deltaTime * parentWorldRotation * localRotation * boneAxis * stiffnessForce; */\n                const stiffness = vec3.copy(this._stiffness, joint.state.boneAxis);\n                vec3.transformQuat(stiffness, stiffness, joint.state.initialLocalRotation);\n                vec3.transformQuat(stiffness, stiffness, parentWorldRotation);\n                vec3.scale(stiffness, stiffness, dt * joint.stiffness);\n                /* external = deltaTime * gravityDir * gravityPower; */\n                const external = vec3.scale(this._external, joint.gravityDir, dt * joint.gravityPower);\n                /* nextTail = currentTail + inertia + stiffness + external; */\n                const nextTail = vec3.copy(this._tempV3A, joint.state.currentTail);\n                vec3.add(nextTail, nextTail, inertia);\n                vec3.add(nextTail, nextTail, stiffness);\n                vec3.add(nextTail, nextTail, external);\n                /* constrain the length */\n                /* nextTail = worldPosition + (nextTail - worldPosition).normalized * boneLength; */\n                const worldPosition = joint.node.getTranslationWorld(this._tempV3B);\n                vec3.sub(nextTail, nextTail, worldPosition);\n                vec3.normalize(nextTail, nextTail);\n                vec3.scaleAndAdd(nextTail, worldPosition, nextTail, joint.state.boneLength);\n                /* 2. Collision with colliders */\n                /* Sphere colliders */\n                for (const { shape, cache } of springChain.sphereColliders) {\n                    let tailToShape = this._tailToShape;\n                    const sphereCenter = cache.head;\n                    tailToShape = vec3.sub(tailToShape, nextTail, sphereCenter);\n                    const radius = shape.radius + joint.hitRadius;\n                    const dist = vec3.length(tailToShape) - radius;\n                    if (dist < 0.0) {\n                        vec3.normalize(tailToShape, tailToShape);\n                        vec3.scaleAndAdd(nextTail, nextTail, tailToShape, -dist);\n                        /* constraint the length */\n                        vec3.sub(nextTail, nextTail, worldPosition);\n                        vec3.normalize(nextTail, nextTail);\n                        vec3.scaleAndAdd(nextTail, worldPosition, nextTail, joint.state.boneLength);\n                    }\n                }\n                /* Capsule colliders */\n                for (const { shape, cache } of springChain.capsuleColliders) {\n                    let tailToShape = this._tailToShape;\n                    const head = cache.head;\n                    const tail = cache.tail;\n                    /* Naively start with distance to the head */\n                    tailToShape = vec3.sub(tailToShape, nextTail, head);\n                    const headToTail = vec3.sub(this._headToTail, tail, head);\n                    const dot = vec3.dot(headToTail, tailToShape);\n                    if (vec3.squaredLength(headToTail) <= dot) {\n                        /* Closest to tail */\n                        vec3.sub(tailToShape, nextTail, tail);\n                    }\n                    else if (dot > 0.0) {\n                        /* Closest to middle */\n                        vec3.scale(headToTail, headToTail, dot / vec3.squaredLength(headToTail));\n                        vec3.sub(tailToShape, tailToShape, headToTail);\n                    }\n                    const radius = shape.radius + joint.hitRadius;\n                    const dist = vec3.length(tailToShape) - radius;\n                    if (dist < 0.0) {\n                        vec3.normalize(tailToShape, tailToShape);\n                        vec3.scaleAndAdd(nextTail, nextTail, tailToShape, -dist);\n                        /* constraint the length */\n                        vec3.sub(nextTail, nextTail, worldPosition);\n                        vec3.normalize(nextTail, nextTail);\n                        vec3.scaleAndAdd(nextTail, worldPosition, nextTail, joint.state.boneLength);\n                    }\n                }\n                /* 3. Applying rotation */\n                vec3.copy(joint.state.prevTail, joint.state.currentTail);\n                vec3.copy(joint.state.currentTail, nextTail);\n                if (springChain.center) {\n                    vec3.copy(joint.state.prevTailCenter, joint.state.currentTailCenter);\n                    vec3.copy(joint.state.currentTailCenter, nextTail);\n                    springChain.center.transformPointInverseWorld(joint.state.currentTailCenter);\n                }\n                /* to = (nextTail * (node.parent.worldMatrix * initialLocalMatrix).inverse).normalized */\n                joint.node.parent.transformPointInverseWorld(nextTail);\n                const nextTailDualQuat = quat2.fromTranslation(this._tempQuat2, nextTail);\n                quat2.multiply(nextTailDualQuat, joint.state.initialLocalTransformInvert, nextTailDualQuat);\n                quat2.getTranslation(nextTail, nextTailDualQuat);\n                vec3.normalize(nextTail, nextTail);\n                /* node.rotation = initialLocalRotation * Quaternion.fromToQuaternion(boneAxis, to); */\n                const jointRotation = quat.rotationTo(this._tempQuatA, joint.state.boneAxis, nextTail);\n                joint.node.rotationLocal = quat.mul(this._tempQuatA, joint.state.initialLocalRotation, jointRotation);\n            }\n        });\n    }\n    /**\n     * @param {boolean} firstPerson Whether the model should render for first person or third person views\n     */\n    set firstPerson(firstPerson) {\n        this._firstPersonAnnotations.forEach((annotation) => {\n            const visible = firstPerson == annotation.firstPerson ||\n                firstPerson != annotation.thirdPerson;\n            annotation.node.getComponents('mesh').forEach((mesh) => {\n                mesh.active = visible;\n            });\n        });\n    }\n}\nexport { Vrm };\n", "import { vec3 } from 'gl-matrix';\nimport { Component, Type } from '@wonderlandengine/api';\n/**\n * Basic movement with W/A/S/D keys.\n */\nclass WasdControlsComponent extends Component {\n    static TypeName = 'wasd-controls';\n    static Properties = {\n        /** Movement speed in m/s. */\n        speed: { type: Type.Float, default: 0.1 },\n        /** Object of which the orientation is used to determine forward direction */\n        headObject: { type: Type.Object },\n    };\n    init() {\n        this.up = false;\n        this.right = false;\n        this.down = false;\n        this.left = false;\n        window.addEventListener('keydown', this.press.bind(this));\n        window.addEventListener('keyup', this.release.bind(this));\n    }\n    start() {\n        this.headObject = this.headObject || this.object;\n    }\n    update() {\n        let direction = [0, 0, 0];\n        if (this.up)\n            direction[2] -= 1.0;\n        if (this.down)\n            direction[2] += 1.0;\n        if (this.left)\n            direction[0] -= 1.0;\n        if (this.right)\n            direction[0] += 1.0;\n        vec3.normalize(direction, direction);\n        direction[0] *= this.speed;\n        direction[2] *= this.speed;\n        vec3.transformQuat(direction, direction, this.headObject.transformWorld);\n        this.object.translate(direction);\n    }\n    press(e) {\n        if (e.keyCode === 38 /* up */ ||\n            e.keyCode === 87 /* w */ ||\n            e.keyCode === 90 /* z */) {\n            this.up = true;\n        }\n        else if (e.keyCode === 39 /* right */ || e.keyCode === 68 /* d */) {\n            this.right = true;\n        }\n        else if (e.keyCode === 40 /* down */ || e.keyCode === 83 /* s */) {\n            this.down = true;\n        }\n        else if (e.keyCode === 37 /* left */ ||\n            e.keyCode === 65 /* a */ ||\n            e.keyCode === 81 /* q */) {\n            this.left = true;\n        }\n    }\n    release(e) {\n        if (e.keyCode === 38 /* up */ ||\n            e.keyCode === 87 /* w */ ||\n            e.keyCode === 90 /* z */) {\n            this.up = false;\n        }\n        else if (e.keyCode === 39 /* right */ || e.keyCode === 68 /* d */) {\n            this.right = false;\n        }\n        else if (e.keyCode === 40 /* down */ || e.keyCode === 83 /* s */) {\n            this.down = false;\n        }\n        else if (e.keyCode === 37 /* left */ ||\n            e.keyCode === 65 /* a */ ||\n            e.keyCode === 81 /* q */) {\n            this.left = false;\n        }\n    }\n}\nexport { WasdControlsComponent };\n", "/* global WL */\r\n\r\nimport { fetchCampaignAd, sendOnLoadMetric, sendOnClickMetric } from '../../utils/networking';\r\nimport { formats, defaultFormat } from '../../utils/formats';\r\nimport { openURL } from '../../utils/helpers';\r\nimport { version } from '../package.json';\r\nimport {\r\n  Component,\r\n  Collider,\r\n  MeshComponent,\r\n  CollisionComponent,\r\n  Property\r\n} from '@wonderlandengine/api';\r\nimport { CursorTarget } from '@wonderlandengine/components';\r\n\r\nconsole.log('Zesty SDK Version: ', version);\r\n\r\n/**\r\n * [Zesty Market](https://zesty.market) banner space\r\n *\r\n * Fetches a banner and applies it to a texture. If no `cursor-target` and `collision`\r\n * is found on the object, they will be created automatically (with box shape in group 1).\r\n *\r\n * Make sure that you set up a cursor to enable clicking.\r\n */\r\nexport class ZestyBanner extends Component {\r\n  static TypeName = 'zesty-banner';\r\n  static Properties = {\r\n    /* Your banner space index */\r\n    space: Property.int(),\r\n    /* The default banner format, determines aspect ratio */\r\n    format: Property.enum(['tall', 'wide', 'square'], 'square'),\r\n    /* The default banner visual style */\r\n    style: Property.enum(['standard', 'minimal', 'transparent'], 'transparent'),\r\n    /* Scale width of the object to banner ratio (see format) and set the collider */\r\n    scaleToRatio: Property.bool(true),\r\n    /* Texture property to set after banner is loaded. Leave \"auto\" to detect from\r\n    * known pipelines (Phong Opaque Textured, Flat Opaque Textured) */\r\n    textureProperty: Property.string('auto'),\r\n    /* Whether to assign the banner to the alphaMaskTexture property of the material */\r\n    assignAlphaMaskTexture: Property.bool(true),\r\n    beacon: Property.bool(true),\r\n    /* Load IPFS gateways and default image uris at runtime, if false at build time */\r\n    dynamicFormats: Property.bool(true),\r\n    /* Automatically creates a collision and cursor-target components, if there isn't one */\r\n    createAutomaticCollision: Property.bool(true)\r\n  };\r\n\r\n  init() {\r\n    this.formats = Object.values(formats);\r\n    this.formatKeys = Object.keys(formats);\r\n    this.styleKeys = ['standard', 'minimal', 'transparent'];\r\n  }\r\n\r\n  start() {\r\n    this.mesh = this.object.getComponent(MeshComponent);\r\n    if (!this.mesh) {\r\n      throw new Error(\"'zesty-banner ' missing mesh component\");\r\n    }\r\n\r\n    if (this.createAutomaticCollision) {\r\n      this.collision =\r\n        this.object.getComponent(CollisionComponent) ||\r\n        this.object.addComponent(CollisionComponent, {\r\n          collider: Collider.Box,\r\n          group: 0x2\r\n        });\r\n\r\n      this.cursorTarget =\r\n        this.object.getComponent(CursorTarget) || this.object.addComponent(CursorTarget);\r\n      this.cursorTarget.addClickFunction(this.onClick.bind(this));\r\n    }\r\n\r\n    if (this.dynamicFormats) {\r\n      let formatsScript = document.createElement('script');\r\n\r\n      formatsScript.onload = () => {\r\n        this.formatsOverride = zestyFormats.formats;\r\n        this.startLoading();\r\n      };\r\n      formatsScript.setAttribute('src', 'https://ipfs.io/ipns/lib.zesty.market/zesty-formats.js');\r\n      formatsScript.setAttribute('crossorigin', 'anonymous');\r\n      document.body.appendChild(formatsScript);\r\n    } else {\r\n      this.startLoading();\r\n    }\r\n  }\r\n\r\n  startLoading() {\r\n    this.loadBanner(\r\n      this.space,\r\n      this.formatKeys[this.format],\r\n      this.styleKeys[this.style]\r\n    ).then(banner => {\r\n      this.banner = banner;\r\n      if (this.scaleToRatio) {\r\n        /* Make banner always 1 meter height, adjust width according to banner aspect ratio */\r\n        this.height = this.object.scalingLocal[1];\r\n        this.object.resetScaling();\r\n        if (this.createAutomaticCollision) {\r\n          this.collision.extents = [\r\n            this.formats[this.format].width * this.height,\r\n            this.height,\r\n            0.1\r\n          ];\r\n        }\r\n        this.object.scale([this.formats[this.format].width * this.height, this.height, 1.0]);\r\n      }\r\n      const m = this.mesh.material.clone();\r\n      if (this.textureProperty === 'auto') {\r\n        const pipeline = m.shader;\r\n        if (pipeline === 'Phong Opaque Textured') {\r\n          m.diffuseTexture = banner.texture;\r\n          m.alphaMaskThreshold = 0.3;\r\n        } else if (pipeline === 'Flat Opaque Textured') {\r\n          m.flatTexture = banner.texture;\r\n          m.alphaMaskThreshold = 0.8;\r\n        } else {\r\n          throw Error(\r\n            \"'zesty-banner' unable to apply banner texture: unsupported pipeline \" + pipeline\r\n          );\r\n        }\r\n        this.mesh.material = m;\r\n        this.mesh.material.alphaMaskTexture = banner.texture;\r\n      } else {\r\n        this.mesh.material[this.textureProperty] = banner.texture;\r\n        this.mesh.material.alphaMaskTexture = banner.texture;\r\n      }\r\n      if (this.beacon) {\r\n        sendOnLoadMetric(this.space);\r\n      }\r\n    });\r\n  }\r\n\r\n  onClick() {\r\n    if (this.banner?.url) {\r\n      if (this.engine.xrSession) {\r\n        this.engine.xrSession.end().then(this.executeClick.bind(this));\r\n      } else {\r\n        this.executeClick();\r\n      }\r\n    }\r\n  }\r\n\r\n  executeClick() {\r\n    openURL(this.banner.url);\r\n    if (this.beacon) {\r\n      sendOnClickMetric(this.space);\r\n    }\r\n  }\r\n\r\n  async loadBanner(space, format, style) {\r\n    const activeCampaign = await fetchCampaignAd(space, format, style)\r\n\r\n    const { asset_url: image, cta_url: url } = activeCampaign.Ads[0];\r\n\r\n    return this.engine.textures.load(image, '').then(texture => {\r\n      return { texture, imageSrc: image, url, campaignId: activeCampaign.CampaignId };\r\n    });\r\n  }\r\n}\r\n", "/**\n * /!\\ This file is auto-generated.\n *\n * This is the entry point of your standalone application.\n *\n * You should register the component you need here, e.g.,\n *\n * ```\n * import { MyComponent } from './my-component.js';\n *\n * WL.registerComponent(MyComponent);\n * ```\n *\n * The `wle:auto-imports:start` and `wle:auto-imports:end` comments are\n * used by the editor as a target for the import list.\n */\n\n/* wle:auto-imports:start */\nimport {ARCamera8thwall, Cursor, CursorTarget, DebugObject, DeviceOrientationLook, FingerCursor, FixedFoveation, HandTracking, HitTestLocation, HowlerAudioListener, HowlerAudioSource, ImageTexture, MouseLookComponent, PlayerHeight, TargetFramerate, TeleportComponent, Trail, TwoJointIkSolver, VideoTexture, VrModeActiveSwitch, Vrm, WasdControlsComponent} from '@wonderlandengine/components';\nWL.registerComponent(ARCamera8thwall, Cursor, CursorTarget, DebugObject, DeviceOrientationLook, FingerCursor, FixedFoveation, HandTracking, HitTestLocation, HowlerAudioListener, HowlerAudioSource, ImageTexture, MouseLookComponent, PlayerHeight, TargetFramerate, TeleportComponent, Trail, TwoJointIkSolver, VideoTexture, VrModeActiveSwitch, Vrm, WasdControlsComponent);\nimport './expose-banners.js';\nimport {ZestyBanner} from './../../../wonderland/src/index.js';\nWL.registerComponent(ZestyBanner);\n/* wle:auto-imports:end */\n"],
  "mappings": "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",
  "names": ["require_howler", "__commonJSMin", "exports", "HowlerGlobal", "self", "Howler", "vol", "setupAudioContext", "i", "ids", "j", "sound", "muted", "ext", "test", "audioTest", "mpegTest", "ua", "checkOpera", "isOldOpera", "checkSafari", "safariVersion", "isOldSafari", "unlock", "e", "audioNode", "source", "testPlay", "audio", "handleSuspension", "Howl", "o", "url", "str", "Sound", "loadBuffer", "sprite", "internal", "id", "num", "soundId", "seek", "duration", "timeout", "start", "stop", "setParams", "node", "playWebAudio", "playHtml5", "play", "err", "loadedNoReadyState", "listener", "args", "index", "from", "to", "len", "currentTime", "end", "isGroup", "diff", "steps", "stepLen", "lastTick", "tick", "loop", "rate", "playing", "seekAndEmit", "emitSeek", "realTime", "rateSeek", "sounds", "remCache", "cache", "event", "fn", "once", "events", "isId", "keys", "msg", "task", "limit", "cnt", "isIOS", "checkIE", "howl", "parent", "volume", "loadSound", "data", "dataView", "decodeAudioData", "xhr", "key", "code", "safeXhrSend", "arraybuffer", "error", "success", "buffer", "iOS", "appVersion", "version", "safari", "pan", "x", "y", "z", "xUp", "yUp", "zUp", "or", "_super", "pannerType", "setupPanner", "pa", "panner", "type", "require_bind", "__commonJSMin", "exports", "module", "fn", "thisArg", "args", "i", "require_utils", "__commonJSMin", "exports", "module", "bind", "toString", "kindOf", "cache", "thing", "str", "kindOfTest", "type", "isArray", "val", "isUndefined", "isBuffer", "isArrayBuffer", "isArrayBufferView", "result", "isString", "isNumber", "isObject", "isPlainObject", "prototype", "isDate", "isFile", "isBlob", "isFileList", "isFunction", "isStream", "isFormData", "pattern", "isURLSearchParams", "trim", "isStandardBrowserEnv", "forEach", "obj", "fn", "i", "l", "key", "merge", "assignValue", "extend", "a", "b", "thisArg", "stripBOM", "content", "inherits", "constructor", "superConstructor", "props", "descriptors", "toFlatObject", "sourceObj", "destObj", "filter", "prop", "merged", "endsWith", "searchString", "position", "lastIndex", "toArray", "arr", "isTypedArray", "TypedArray", "require_buildURL", "__commonJSMin", "exports", "module", "utils", "encode", "val", "url", "params", "paramsSerializer", "serializedParams", "parts", "key", "v", "hashmarkIndex", "require_InterceptorManager", "__commonJSMin", "exports", "module", "utils", "InterceptorManager", "fulfilled", "rejected", "options", "id", "fn", "h", "require_normalizeHeaderName", "__commonJSMin", "exports", "module", "utils", "headers", "normalizedName", "value", "name", "require_AxiosError", "__commonJSMin", "exports", "module", "utils", "AxiosError", "message", "code", "config", "request", "response", "prototype", "descriptors", "error", "customProps", "axiosError", "obj", "require_transitional", "__commonJSMin", "exports", "module", "require_toFormData", "__commonJSMin", "exports", "module", "utils", "toFormData", "obj", "formData", "stack", "convertValue", "value", "build", "data", "parentKey", "key", "fullKey", "arr", "el", "require_settle", "__commonJSMin", "exports", "module", "AxiosError", "resolve", "reject", "response", "validateStatus", "require_cookies", "__commonJSMin", "exports", "module", "utils", "name", "value", "expires", "path", "domain", "secure", "cookie", "match", "require_isAbsoluteURL", "__commonJSMin", "exports", "module", "url", "require_combineURLs", "__commonJSMin", "exports", "module", "baseURL", "relativeURL", "require_buildFullPath", "__commonJSMin", "exports", "module", "isAbsoluteURL", "combineURLs", "baseURL", "requestedURL", "require_parseHeaders", "__commonJSMin", "exports", "module", "utils", "ignoreDuplicateOf", "headers", "parsed", "key", "val", "i", "line", "require_isURLSameOrigin", "__commonJSMin", "exports", "module", "utils", "msie", "urlParsingNode", "originURL", "resolveURL", "url", "href", "requestURL", "parsed", "require_CanceledError", "__commonJSMin", "exports", "module", "AxiosError", "utils", "CanceledError", "message", "require_parseProtocol", "__commonJSMin", "exports", "module", "url", "match", "require_xhr", "__commonJSMin", "exports", "module", "utils", "settle", "cookies", "buildURL", "buildFullPath", "parseHeaders", "isURLSameOrigin", "transitionalDefaults", "AxiosError", "CanceledError", "parseProtocol", "config", "resolve", "reject", "requestData", "requestHeaders", "responseType", "onCanceled", "done", "request", "username", "password", "fullPath", "onloadend", "responseHeaders", "responseData", "response", "value", "err", "timeoutErrorMessage", "transitional", "xsrfValue", "val", "key", "cancel", "protocol", "require_null", "__commonJSMin", "exports", "module", "require_defaults", "__commonJSMin", "exports", "module", "utils", "normalizeHeaderName", "AxiosError", "transitionalDefaults", "toFormData", "DEFAULT_CONTENT_TYPE", "setContentTypeIfUnset", "headers", "value", "getDefaultAdapter", "adapter", "stringifySafely", "rawValue", "parser", "encoder", "e", "defaults", "data", "isObjectPayload", "contentType", "isFileList", "_FormData", "transitional", "silentJSONParsing", "forcedJSONParsing", "strictJSONParsing", "status", "method", "require_transformData", "__commonJSMin", "exports", "module", "utils", "defaults", "data", "headers", "fns", "context", "fn", "require_isCancel", "__commonJSMin", "exports", "module", "value", "require_dispatchRequest", "__commonJSMin", "exports", "module", "utils", "transformData", "isCancel", "defaults", "CanceledError", "throwIfCancellationRequested", "config", "method", "adapter", "response", "reason", "require_mergeConfig", "__commonJSMin", "exports", "module", "utils", "config1", "config2", "config", "getMergedValue", "target", "source", "mergeDeepProperties", "prop", "valueFromConfig2", "defaultToConfig2", "mergeDirectKeys", "mergeMap", "merge", "configValue", "require_data", "__commonJSMin", "exports", "module", "require_validator", "__commonJSMin", "exports", "module", "VERSION", "AxiosError", "validators", "type", "i", "thing", "deprecatedWarnings", "validator", "version", "message", "formatMessage", "opt", "desc", "value", "opts", "assertOptions", "options", "schema", "allowUnknown", "keys", "result", "require_Axios", "__commonJSMin", "exports", "module", "utils", "buildURL", "InterceptorManager", "dispatchRequest", "mergeConfig", "buildFullPath", "validator", "validators", "Axios", "instanceConfig", "configOrUrl", "config", "transitional", "requestInterceptorChain", "synchronousRequestInterceptors", "interceptor", "responseInterceptorChain", "promise", "chain", "newConfig", "onFulfilled", "onRejected", "error", "fullPath", "method", "url", "generateHTTPMethod", "isForm", "data", "require_CancelToken", "__commonJSMin", "exports", "module", "CanceledError", "CancelToken", "executor", "resolvePromise", "resolve", "token", "cancel", "i", "l", "onfulfilled", "_resolve", "promise", "message", "listener", "index", "c", "require_spread", "__commonJSMin", "exports", "module", "callback", "arr", "require_isAxiosError", "__commonJSMin", "exports", "module", "utils", "payload", "require_axios", "__commonJSMin", "exports", "module", "utils", "bind", "Axios", "mergeConfig", "defaults", "createInstance", "defaultConfig", "context", "instance", "instanceConfig", "axios", "promises", "require_axios", "__commonJSMin", "exports", "module", "require_howler", "__commonJSMin", "exports", "HowlerGlobal", "self", "Howler", "vol", "setupAudioContext", "i", "ids", "j", "sound", "muted", "ext", "test", "audioTest", "mpegTest", "ua", "checkOpera", "isOldOpera", "checkSafari", "safariVersion", "isOldSafari", "unlock", "e", "audioNode", "source", "testPlay", "audio", "handleSuspension", "Howl", "o", "url", "str", "Sound", "loadBuffer", "sprite", "internal", "id", "num", "soundId", "seek", "duration", "timeout", "start", "stop", "setParams", "node", "playWebAudio", "playHtml5", "play", "err", "loadedNoReadyState", "listener", "args", "index", "from", "to", "len", "currentTime", "end", "isGroup", "diff", "steps", "stepLen", "lastTick", "tick", "loop", "rate", "playing", "seekAndEmit", "emitSeek", "realTime", "rateSeek", "sounds", "remCache", "cache", "event", "fn", "once", "events", "isId", "keys", "msg", "task", "limit", "cnt", "isIOS", "checkIE", "howl", "parent", "volume", "loadSound", "data", "dataView", "decodeAudioData", "xhr", "key", "code", "safeXhrSend", "arraybuffer", "error", "success", "buffer", "iOS", "appVersion", "version", "safari", "pan", "x", "y", "z", "xUp", "yUp", "zUp", "or", "_super", "pannerType", "setupPanner", "pa", "panner", "type", "Type", "Property", "defaultValue", "values", "r", "g", "b", "a", "propertyDecorator", "data", "target", "propertyKey", "ctor", "enumerable", "_", "__", "descriptor", "nativeProperty", "Type", "property", "name", "Property", "args", "functor", "isString", "value", "isNumber", "Emitter", "autoResolve", "listener", "opts", "once", "id", "listeners", "cb", "index", "data", "i", "e", "res", "_", "args", "isString", "__decorate", "decorators", "target", "key", "desc", "c", "r", "d", "i", "Collider", "Alignment", "Justification", "TextEffect", "InputType", "LightType", "AnimationState", "ForceMode", "CollisionEventType", "Shape", "MeshAttribute", "MaterialParamType", "isMeshShape", "shape", "Component", "engine", "manager", "id", "objectId", "active", "otherComponent", "__publicField", "_CollisionComponent", "collider", "wasm", "extents", "group", "count", "overlaps", "i", "CollisionComponent", "__decorate", "nativeProperty", "TextComponent", "alignment", "justification", "spacing", "effect", "ptr", "text", "material", "matIndex", "Material", "ViewComponent", "near", "far", "fov", "enumerable", "InputComponent", "type", "xrSession", "inputSource", "inputType", "InputType", "LightComponent", "c", "t", "AnimationComponent", "anim", "Animation", "playCount", "speed", "MeshComponent", "Mesh", "mesh", "Skin", "skin", "LockAxis", "PhysXComponent", "b", "s", "d", "isMeshShape", "v", "flags", "lock", "m", "f", "ForceMode", "localForce", "p", "local", "callback", "otherComp", "physics", "callbackId", "MeshIndexType", "Mesh", "engine", "params", "isNumber", "wasm", "indexData", "indexType", "indexDataSize", "skinned", "tempMem", "ptr", "indexCount", "out", "tempMemFloat", "attr", "tempMemUint32", "arraySize", "MeshAttributeAccessor", "MeshAttribute", "otherMesh", "options", "count", "index", "dest", "elementSize", "destSize", "srcFormatSize", "destFormatSize", "i", "v", "srcSize", "Material", "pipeline", "target", "prop", "param", "type", "MaterialParamType", "Texture", "value", "id", "otherMaterial", "temp2d", "x", "y", "w", "h", "canvas", "ctx", "img", "yOffset", "otherTexture", "Animation", "newTargets", "Skin", "animId", "otherAnimation", "Skin", "engine", "index", "wasm", "otherSkin", "_componentDefaults", "Type", "ARCamera8thwall", "Component", "resolve", "reject", "motionEvent", "exception", "track", "OverlaysHandler", "error", "config", "params", "gl", "rot", "pos", "rotation", "position", "intrinsics", "projectionMatrix", "i", "_rej", "__publicField", "Type", "OverlaysHandler", "overlay", "requestPermissionOverlay", "_reason", "failedPermissionOverlay", "_error", "runtimeErrorOverlay", "htmlContent", "CursorTarget", "Component", "Emitter", "f", "__publicField", "EPSILON", "ARRAY_TYPE", "RANDOM", "degree", "y", "i", "create", "out", "ARRAY_TYPE", "mat4_exports", "__export", "add", "adjoint", "clone", "copy", "create", "determinant", "equals", "exactEquals", "frob", "fromQuat", "fromQuat2", "fromRotation", "fromRotationTranslation", "fromRotationTranslationScale", "fromRotationTranslationScaleOrigin", "fromScaling", "fromTranslation", "fromValues", "fromXRotation", "fromYRotation", "fromZRotation", "frustum", "getRotation", "getScaling", "getTranslation", "identity", "invert", "lookAt", "mul", "multiply", "multiplyScalar", "multiplyScalarAndAdd", "ortho", "orthoNO", "orthoZO", "perspective", "perspectiveFromFieldOfView", "perspectiveNO", "perspectiveZO", "rotate", "rotateX", "rotateY", "rotateZ", "scale", "set", "str", "sub", "subtract", "targetTo", "translate", "transpose", "create", "out", "ARRAY_TYPE", "clone", "a", "copy", "fromValues", "m00", "m01", "m02", "m03", "m10", "m11", "m12", "m13", "m20", "m21", "m22", "m23", "m30", "m31", "m32", "m33", "set", "identity", "transpose", "a01", "a02", "a03", "a12", "a13", "a23", "invert", "a00", "a10", "a11", "a20", "a21", "a22", "a30", "a31", "a32", "a33", "b00", "b01", "b02", "b03", "b04", "b05", "b06", "b07", "b08", "b09", "b10", "b11", "det", "adjoint", "determinant", "multiply", "b", "b0", "b1", "b2", "b3", "translate", "v", "x", "y", "z", "scale", "rotate", "rad", "axis", "len", "s", "c", "t", "b12", "b20", "b21", "b22", "EPSILON", "rotateX", "rotateY", "rotateZ", "fromTranslation", "fromScaling", "fromRotation", "fromXRotation", "fromYRotation", "fromZRotation", "fromRotationTranslation", "q", "w", "x2", "y2", "z2", "xx", "xy", "xz", "yy", "yz", "zz", "wx", "wy", "wz", "fromQuat2", "translation", "bx", "by", "bz", "bw", "ax", "ay", "az", "aw", "magnitude", "getTranslation", "mat", "getScaling", "getRotation", "scaling", "is1", "is2", "is3", "sm11", "sm12", "sm13", "sm21", "sm22", "sm23", "sm31", "sm32", "sm33", "trace", "S", "fromRotationTranslationScale", "sx", "sy", "sz", "fromRotationTranslationScaleOrigin", "o", "ox", "oy", "oz", "out0", "out1", "out2", "out4", "out5", "out6", "out8", "out9", "out10", "fromQuat", "yx", "zx", "zy", "frustum", "left", "right", "bottom", "top", "near", "far", "rl", "tb", "nf", "perspectiveNO", "fovy", "aspect", "f", "perspective", "perspectiveZO", "perspectiveFromFieldOfView", "fov", "upTan", "downTan", "leftTan", "rightTan", "xScale", "yScale", "orthoNO", "lr", "bt", "ortho", "orthoZO", "lookAt", "eye", "center", "up", "x0", "x1", "y0", "y1", "z0", "z1", "eyex", "eyey", "eyez", "upx", "upy", "upz", "centerx", "centery", "centerz", "targetTo", "target", "str", "frob", "add", "subtract", "multiplyScalar", "multiplyScalarAndAdd", "exactEquals", "equals", "a0", "a1", "a2", "a3", "a4", "a5", "a6", "a7", "a8", "a9", "a14", "a15", "b4", "b5", "b6", "b7", "b8", "b9", "b13", "b14", "b15", "mul", "sub", "quat_exports", "__export", "add", "calculateW", "clone", "conjugate", "copy", "create", "dot", "equals", "exactEquals", "exp", "fromEuler", "fromMat3", "fromValues", "getAngle", "getAxisAngle", "identity", "invert", "len", "length", "lerp", "ln", "mul", "multiply", "normalize", "pow", "random", "rotateX", "rotateY", "rotateZ", "rotationTo", "scale", "set", "setAxes", "setAxisAngle", "slerp", "sqlerp", "sqrLen", "squaredLength", "str", "vec3_exports", "__export", "add", "angle", "bezier", "ceil", "clone", "copy", "create", "cross", "dist", "distance", "div", "divide", "dot", "equals", "exactEquals", "floor", "forEach", "fromValues", "hermite", "inverse", "len", "length", "lerp", "max", "min", "mul", "multiply", "negate", "normalize", "random", "rotateX", "rotateY", "rotateZ", "round", "scale", "scaleAndAdd", "set", "sqrDist", "sqrLen", "squaredDistance", "squaredLength", "str", "sub", "subtract", "transformMat3", "transformMat4", "transformQuat", "zero", "create", "out", "ARRAY_TYPE", "clone", "a", "length", "x", "y", "z", "fromValues", "copy", "set", "add", "b", "subtract", "multiply", "divide", "ceil", "floor", "min", "max", "round", "scale", "scaleAndAdd", "distance", "squaredDistance", "squaredLength", "negate", "inverse", "normalize", "len", "dot", "cross", "ax", "ay", "az", "bx", "by", "bz", "lerp", "t", "hermite", "c", "d", "factorTimes2", "factor1", "factor2", "factor3", "factor4", "bezier", "inverseFactor", "inverseFactorTimesTwo", "random", "r", "RANDOM", "zScale", "transformMat4", "m", "w", "transformMat3", "transformQuat", "q", "qx", "qy", "qz", "qw", "uvx", "uvy", "uvz", "uuvx", "uuvy", "uuvz", "w2", "rotateX", "rad", "p", "rotateY", "rotateZ", "angle", "mag1", "mag2", "mag", "cosine", "zero", "str", "exactEquals", "equals", "a0", "a1", "a2", "b0", "b1", "b2", "EPSILON", "sub", "mul", "div", "dist", "sqrDist", "sqrLen", "forEach", "vec", "stride", "offset", "count", "fn", "arg", "i", "l", "create", "out", "ARRAY_TYPE", "clone", "a", "fromValues", "x", "y", "z", "w", "copy", "set", "add", "b", "scale", "out", "a", "b", "length", "a", "x", "y", "z", "w", "squaredLength", "normalize", "out", "a", "x", "y", "z", "w", "len", "dot", "b", "lerp", "out", "a", "b", "t", "ax", "ay", "az", "aw", "exactEquals", "a", "b", "equals", "a0", "a1", "a2", "a3", "b0", "b1", "b2", "b3", "EPSILON", "forEach", "vec", "create", "a", "stride", "offset", "count", "fn", "arg", "i", "l", "create", "out", "ARRAY_TYPE", "identity", "setAxisAngle", "axis", "rad", "s", "getAxisAngle", "out_axis", "q", "EPSILON", "getAngle", "a", "b", "dotproduct", "dot", "multiply", "ax", "ay", "az", "aw", "bx", "by", "bz", "bw", "rotateX", "rotateY", "rotateZ", "calculateW", "x", "y", "z", "exp", "w", "r", "et", "ln", "t", "pow", "scale", "slerp", "omega", "cosom", "sinom", "scale0", "scale1", "random", "u1", "RANDOM", "u2", "u3", "sqrt1MinusU1", "sqrtU1", "invert", "a0", "a1", "a2", "a3", "invDot", "conjugate", "fromMat3", "m", "fTrace", "fRoot", "i", "j", "k", "fromEuler", "halfToRad", "sx", "cx", "sy", "cy", "sz", "cz", "str", "clone", "fromValues", "copy", "set", "add", "mul", "lerp", "length", "len", "squaredLength", "sqrLen", "normalize", "exactEquals", "equals", "rotationTo", "tmpvec3", "xUnitVec3", "yUnitVec3", "cross", "sqlerp", "temp1", "temp2", "c", "d", "setAxes", "matr", "view", "right", "up", "quat2_exports", "__export", "add", "clone", "conjugate", "copy", "create", "dot", "equals", "exactEquals", "fromMat4", "fromRotation", "fromRotationTranslation", "fromRotationTranslationValues", "fromTranslation", "fromValues", "getDual", "getReal", "getTranslation", "identity", "invert", "len", "length", "lerp", "mul", "multiply", "normalize", "rotateAroundAxis", "rotateByQuatAppend", "rotateByQuatPrepend", "rotateX", "rotateY", "rotateZ", "scale", "set", "setDual", "setReal", "sqrLen", "squaredLength", "str", "translate", "create", "dq", "ARRAY_TYPE", "clone", "a", "fromValues", "x1", "y1", "z1", "w1", "x2", "y2", "z2", "w2", "fromRotationTranslationValues", "ax", "ay", "az", "fromRotationTranslation", "out", "q", "t", "bx", "by", "bz", "bw", "fromTranslation", "fromRotation", "fromMat4", "outer", "getRotation", "getTranslation", "copy", "identity", "set", "getReal", "getDual", "setReal", "setDual", "aw", "translate", "v", "ax1", "ay1", "az1", "aw1", "bx1", "by1", "bz1", "ax2", "ay2", "az2", "aw2", "rotateX", "rad", "rotateY", "rotateZ", "rotateByQuatAppend", "qx", "qy", "qz", "qw", "rotateByQuatPrepend", "rotateAroundAxis", "axis", "EPSILON", "axisLength", "s", "add", "b", "multiply", "ax0", "ay0", "az0", "aw0", "bw1", "bx0", "by0", "bz0", "bw0", "mul", "scale", "dot", "lerp", "mt", "invert", "sqlen", "squaredLength", "conjugate", "length", "len", "sqrLen", "normalize", "magnitude", "a0", "a1", "a2", "a3", "b0", "b1", "b2", "b3", "a_dot_b", "str", "exactEquals", "equals", "a4", "a5", "a6", "a7", "b4", "b5", "b6", "b7", "Cursor", "Component", "inputComp", "CursorTarget", "ViewComponent", "onClick", "onPointerMove", "onPointerDown", "onPointerUp", "mat4_exports", "onViewportResize", "onXRSessionStart", "vec3_exports", "hitPosition", "dist", "visible", "doClick", "p", "rayHit", "cursorTarget", "s", "onSelect", "onSelectStart", "onSelectEnd", "bounds", "clientX", "clientY", "w", "h", "left", "top", "target", "f", "__publicField", "Type", "__decorate", "decorators", "target", "key", "desc", "c", "r", "d", "i", "DebugObject", "Component", "origin", "quat2_exports", "__publicField", "property", "quatFromEulerYXZ", "out", "x", "y", "z", "c1", "c2", "c3", "s1", "s2", "s3", "DeviceOrientationLook", "Component", "alpha", "beta", "gamma", "toRad", "__publicField", "FingerCursor", "Component", "overlaps", "overlapFound", "i", "o", "target", "__publicField", "FixedFoveation", "Component", "__publicField", "Type", "tempVec", "tempQuat", "setXRRigidTransformLocal", "o", "transform", "r", "t", "ORDERED_JOINTS", "HandTracking", "Component", "jointIds", "j", "joint", "mesh", "dt", "i", "inputSource", "p", "setXRRigidTransformLocal", "invTranslation", "invRotation", "quat_exports", "jointName", "jointPose", "r", "active", "object", "children", "o", "indexTipPos", "quat2_exports", "thumbTipPos", "vec3_exports", "s", "__publicField", "Type", "HitTestLocation", "Component", "wasVisible", "frame", "hitTestResults", "pose", "setXRRigidTransformLocal", "session", "viewerSpace", "hitTestSource", "__publicField", "import_howler", "HowlerAudioListener", "Component", "__publicField", "Type", "import_howler", "HowlerAudioSource", "Component", "__publicField", "Type", "ImageTexture", "Component", "texture", "mat", "shader", "__publicField", "Type", "MouseLookComponent", "Component", "e", "parent", "vec3_exports", "canvas", "__publicField", "Type", "PlayerHeight", "Component", "__publicField", "Type", "TargetFramerate", "Component", "s", "a", "b", "__publicField", "Type", "TeleportComponent", "Component", "inputComp", "vec3_exports", "inputLength", "origin", "quat2_exports", "direction", "rayHit", "s", "i", "inputSource", "e", "newPosition", "rotationToAdd", "p", "p1", "__publicField", "Type", "direction", "vec3_exports", "offset", "normal", "Trail", "Component", "i", "vertexCount", "v", "Mesh", "MeshIndexType", "positions", "MeshAttribute", "texCoords", "normals", "curr", "next", "timeFraction", "fraction", "dt", "__publicField", "Type", "v", "a", "b", "twoJointIK", "ta", "ca", "ba", "ab", "cb", "axis0", "axis1", "temp", "r0", "r1", "r2", "a_lr", "b_lr", "c", "t", "eps", "a_gr", "b_gr", "helper", "vec3_exports", "lab", "lcb", "lat", "ac_ab_0", "ba_bc_0", "ac_at_0", "ac_ab_1", "ba_bc_1", "l", "quat_exports", "TwoJointIkSolver", "Component", "p", "tla", "tlb", "__publicField", "Type", "VideoTexture", "Component", "playAfterUserGesture", "mat", "shader", "texture", "Texture", "dt", "__publicField", "Type", "VrModeActiveSwitch", "Component", "obj", "comps", "c", "children", "i", "active", "__publicField", "Type", "VRM_ROLL_AXES", "VRM_AIM_AXES", "Vrm", "Component", "vec3_exports", "quat_exports", "mat4_exports", "quat2_exports", "root", "extensions", "child", "VRMC_vrm", "springBone", "humanoid", "boneName", "node", "objectId", "firstPerson", "meshAnnotation", "annotation", "lookAt", "parseRangeMap", "rangeMap", "traverse", "object", "nodeExtensions", "constraint", "type", "axis", "source", "colliders", "collider", "i", "shapeType", "c", "colliderGroups", "group", "spring", "joints", "joint", "springJoint", "springChainColliders", "cg", "springChain", "springBoneJoint", "childSpringBoneJoint", "springBonePosition", "childSpringBonePosition", "boneDirection", "state", "dt", "input", "maxValue", "outputScale", "lookAtSource", "lookAtTarget", "lookAtDirection", "z", "x", "yaw", "xz", "y", "pitch", "yawLeft", "eyeRotation", "yawRight", "nodeConstraint", "dstRestQuat", "srcRestQuatInv", "targetQuat", "deltaSrcQuat", "deltaSrcQuatInParent", "dstRestQuatInv", "deltaSrcQuatInDst", "toVec", "fromToQuat", "dstParentWorldQuat", "fromVec", "srcDeltaQuat", "shape", "cache", "offset", "shapeCenter", "headOffset", "tailOffset", "parentWorldRotation", "inertia", "stiffness", "external", "nextTail", "worldPosition", "tailToShape", "sphereCenter", "radius", "dist", "head", "tail", "headToTail", "dot", "nextTailDualQuat", "jointRotation", "visible", "mesh", "__publicField", "Type", "WasdControlsComponent", "Component", "direction", "vec3_exports", "__publicField", "Type", "import_axios", "assetsURL", "formats", "import_axios", "checkOculusBrowser", "featureDetect", "uaCheck", "confidence", "checkWolvicBrowser", "checkPicoBrowser", "checkDesktopBrowser", "checkUserPlatform", "currentMatch", "openURL", "url", "modal", "content", "message", "yes", "no", "BEACON_API_BASE", "BEACON_GRAPHQL_URI", "DB_ENDPOINT", "fetchCampaignAd", "adUnitId", "format", "style", "url", "res", "axios", "DB_ENDPOINT", "formats", "sendOnLoadMetric", "spaceId", "campaignId", "platform", "confidence", "checkUserPlatform", "spaceCounterEndpoint", "BEACON_API_BASE", "BEACON_GRAPHQL_URI", "e", "sendOnClickMetric", "spaceClickEndpoint", "version", "Type", "Property", "defaultValue", "values", "r", "g", "b", "a", "propertyDecorator", "data", "target", "propertyKey", "ctor", "enumerable", "_", "__", "descriptor", "nativeProperty", "Type", "property", "name", "Property", "args", "functor", "isString", "value", "isNumber", "Emitter", "autoResolve", "listener", "opts", "once", "id", "listeners", "cb", "index", "data", "i", "e", "res", "_", "args", "isString", "__decorate", "decorators", "target", "key", "desc", "c", "r", "d", "i", "Collider", "Alignment", "Justification", "TextEffect", "InputType", "LightType", "AnimationState", "ForceMode", "CollisionEventType", "Shape", "MeshAttribute", "MaterialParamType", "isMeshShape", "shape", "Component", "engine", "manager", "id", "objectId", "active", "otherComponent", "__publicField", "_CollisionComponent", "collider", "wasm", "extents", "group", "count", "overlaps", "i", "CollisionComponent", "__decorate", "nativeProperty", "TextComponent", "alignment", "justification", "spacing", "effect", "ptr", "text", "material", "matIndex", "Material", "ViewComponent", "near", "far", "fov", "enumerable", "InputComponent", "type", "xrSession", "inputSource", "inputType", "InputType", "LightComponent", "c", "t", "AnimationComponent", "anim", "Animation", "playCount", "speed", "MeshComponent", "Mesh", "mesh", "Skin", "skin", "LockAxis", "PhysXComponent", "b", "s", "d", "isMeshShape", "v", "flags", "lock", "m", "f", "ForceMode", "localForce", "p", "local", "callback", "otherComp", "physics", "callbackId", "MeshIndexType", "Mesh", "engine", "params", "isNumber", "wasm", "indexData", "indexType", "indexDataSize", "skinned", "tempMem", "ptr", "indexCount", "out", "tempMemFloat", "attr", "tempMemUint32", "arraySize", "MeshAttributeAccessor", "MeshAttribute", "otherMesh", "options", "count", "index", "dest", "elementSize", "destSize", "srcFormatSize", "destFormatSize", "i", "v", "srcSize", "Material", "pipeline", "target", "prop", "param", "type", "MaterialParamType", "Texture", "value", "id", "otherMaterial", "temp2d", "x", "y", "w", "h", "canvas", "ctx", "img", "yOffset", "otherTexture", "Animation", "newTargets", "Skin", "animId", "otherAnimation", "Skin", "engine", "index", "wasm", "otherSkin", "_componentDefaults", "Type", "ARCamera8thwall", "Component", "resolve", "reject", "motionEvent", "exception", "track", "OverlaysHandler", "error", "config", "params", "gl", "rot", "pos", "rotation", "position", "intrinsics", "projectionMatrix", "i", "_rej", "__publicField", "Type", "OverlaysHandler", "overlay", "requestPermissionOverlay", "_reason", "failedPermissionOverlay", "_error", "runtimeErrorOverlay", "htmlContent", "CursorTarget", "Component", "Emitter", "f", "__publicField", "EPSILON", "ARRAY_TYPE", "RANDOM", "degree", "y", "i", "create", "out", "ARRAY_TYPE", "mat4_exports", "__export", "add", "adjoint", "clone", "copy", "create", "determinant", "equals", "exactEquals", "frob", "fromQuat", "fromQuat2", "fromRotation", "fromRotationTranslation", "fromRotationTranslationScale", "fromRotationTranslationScaleOrigin", "fromScaling", "fromTranslation", "fromValues", "fromXRotation", "fromYRotation", "fromZRotation", "frustum", "getRotation", "getScaling", "getTranslation", "identity", "invert", "lookAt", "mul", "multiply", "multiplyScalar", "multiplyScalarAndAdd", "ortho", "orthoNO", "orthoZO", "perspective", "perspectiveFromFieldOfView", "perspectiveNO", "perspectiveZO", "rotate", "rotateX", "rotateY", "rotateZ", "scale", "set", "str", "sub", "subtract", "targetTo", "translate", "transpose", "create", "out", "ARRAY_TYPE", "clone", "a", "copy", "fromValues", "m00", "m01", "m02", "m03", "m10", "m11", "m12", "m13", "m20", "m21", "m22", "m23", "m30", "m31", "m32", "m33", "set", "identity", "transpose", "a01", "a02", "a03", "a12", "a13", "a23", "invert", "a00", "a10", "a11", "a20", "a21", "a22", "a30", "a31", "a32", "a33", "b00", "b01", "b02", "b03", "b04", "b05", "b06", "b07", "b08", "b09", "b10", "b11", "det", "adjoint", "determinant", "multiply", "b", "b0", "b1", "b2", "b3", "translate", "v", "x", "y", "z", "scale", "rotate", "rad", "axis", "len", "s", "c", "t", "b12", "b20", "b21", "b22", "EPSILON", "rotateX", "rotateY", "rotateZ", "fromTranslation", "fromScaling", "fromRotation", "fromXRotation", "fromYRotation", "fromZRotation", "fromRotationTranslation", "q", "w", "x2", "y2", "z2", "xx", "xy", "xz", "yy", "yz", "zz", "wx", "wy", "wz", "fromQuat2", "translation", "bx", "by", "bz", "bw", "ax", "ay", "az", "aw", "magnitude", "getTranslation", "mat", "getScaling", "getRotation", "scaling", "is1", "is2", "is3", "sm11", "sm12", "sm13", "sm21", "sm22", "sm23", "sm31", "sm32", "sm33", "trace", "S", "fromRotationTranslationScale", "sx", "sy", "sz", "fromRotationTranslationScaleOrigin", "o", "ox", "oy", "oz", "out0", "out1", "out2", "out4", "out5", "out6", "out8", "out9", "out10", "fromQuat", "yx", "zx", "zy", "frustum", "left", "right", "bottom", "top", "near", "far", "rl", "tb", "nf", "perspectiveNO", "fovy", "aspect", "f", "perspective", "perspectiveZO", "perspectiveFromFieldOfView", "fov", "upTan", "downTan", "leftTan", "rightTan", "xScale", "yScale", "orthoNO", "lr", "bt", "ortho", "orthoZO", "lookAt", "eye", "center", "up", "x0", "x1", "y0", "y1", "z0", "z1", "eyex", "eyey", "eyez", "upx", "upy", "upz", "centerx", "centery", "centerz", "targetTo", "target", "str", "frob", "add", "subtract", "multiplyScalar", "multiplyScalarAndAdd", "exactEquals", "equals", "a0", "a1", "a2", "a3", "a4", "a5", "a6", "a7", "a8", "a9", "a14", "a15", "b4", "b5", "b6", "b7", "b8", "b9", "b13", "b14", "b15", "mul", "sub", "quat_exports", "__export", "add", "calculateW", "clone", "conjugate", "copy", "create", "dot", "equals", "exactEquals", "exp", "fromEuler", "fromMat3", "fromValues", "getAngle", "getAxisAngle", "identity", "invert", "len", "length", "lerp", "ln", "mul", "multiply", "normalize", "pow", "random", "rotateX", "rotateY", "rotateZ", "rotationTo", "scale", "set", "setAxes", "setAxisAngle", "slerp", "sqlerp", "sqrLen", "squaredLength", "str", "vec3_exports", "__export", "add", "angle", "bezier", "ceil", "clone", "copy", "create", "cross", "dist", "distance", "div", "divide", "dot", "equals", "exactEquals", "floor", "forEach", "fromValues", "hermite", "inverse", "len", "length", "lerp", "max", "min", "mul", "multiply", "negate", "normalize", "random", "rotateX", "rotateY", "rotateZ", "round", "scale", "scaleAndAdd", "set", "sqrDist", "sqrLen", "squaredDistance", "squaredLength", "str", "sub", "subtract", "transformMat3", "transformMat4", "transformQuat", "zero", "create", "out", "ARRAY_TYPE", "clone", "a", "length", "x", "y", "z", "fromValues", "copy", "set", "add", "b", "subtract", "multiply", "divide", "ceil", "floor", "min", "max", "round", "scale", "scaleAndAdd", "distance", "squaredDistance", "squaredLength", "negate", "inverse", "normalize", "len", "dot", "cross", "ax", "ay", "az", "bx", "by", "bz", "lerp", "t", "hermite", "c", "d", "factorTimes2", "factor1", "factor2", "factor3", "factor4", "bezier", "inverseFactor", "inverseFactorTimesTwo", "random", "r", "RANDOM", "zScale", "transformMat4", "m", "w", "transformMat3", "transformQuat", "q", "qx", "qy", "qz", "qw", "uvx", "uvy", "uvz", "uuvx", "uuvy", "uuvz", "w2", "rotateX", "rad", "p", "rotateY", "rotateZ", "angle", "mag1", "mag2", "mag", "cosine", "zero", "str", "exactEquals", "equals", "a0", "a1", "a2", "b0", "b1", "b2", "EPSILON", "sub", "mul", "div", "dist", "sqrDist", "sqrLen", "forEach", "vec", "stride", "offset", "count", "fn", "arg", "i", "l", "create", "out", "ARRAY_TYPE", "clone", "a", "fromValues", "x", "y", "z", "w", "copy", "set", "add", "b", "scale", "out", "a", "b", "length", "a", "x", "y", "z", "w", "squaredLength", "normalize", "out", "a", "x", "y", "z", "w", "len", "dot", "b", "lerp", "out", "a", "b", "t", "ax", "ay", "az", "aw", "exactEquals", "a", "b", "equals", "a0", "a1", "a2", "a3", "b0", "b1", "b2", "b3", "EPSILON", "forEach", "vec", "create", "a", "stride", "offset", "count", "fn", "arg", "i", "l", "create", "out", "ARRAY_TYPE", "identity", "setAxisAngle", "axis", "rad", "s", "getAxisAngle", "out_axis", "q", "EPSILON", "getAngle", "a", "b", "dotproduct", "dot", "multiply", "ax", "ay", "az", "aw", "bx", "by", "bz", "bw", "rotateX", "rotateY", "rotateZ", "calculateW", "x", "y", "z", "exp", "w", "r", "et", "ln", "t", "pow", "scale", "slerp", "omega", "cosom", "sinom", "scale0", "scale1", "random", "u1", "RANDOM", "u2", "u3", "sqrt1MinusU1", "sqrtU1", "invert", "a0", "a1", "a2", "a3", "invDot", "conjugate", "fromMat3", "m", "fTrace", "fRoot", "i", "j", "k", "fromEuler", "halfToRad", "sx", "cx", "sy", "cy", "sz", "cz", "str", "clone", "fromValues", "copy", "set", "add", "mul", "lerp", "length", "len", "squaredLength", "sqrLen", "normalize", "exactEquals", "equals", "rotationTo", "tmpvec3", "xUnitVec3", "yUnitVec3", "cross", "sqlerp", "temp1", "temp2", "c", "d", "setAxes", "matr", "view", "right", "up", "quat2_exports", "__export", "add", "clone", "conjugate", "copy", "create", "dot", "equals", "exactEquals", "fromMat4", "fromRotation", "fromRotationTranslation", "fromRotationTranslationValues", "fromTranslation", "fromValues", "getDual", "getReal", "getTranslation", "identity", "invert", "len", "length", "lerp", "mul", "multiply", "normalize", "rotateAroundAxis", "rotateByQuatAppend", "rotateByQuatPrepend", "rotateX", "rotateY", "rotateZ", "scale", "set", "setDual", "setReal", "sqrLen", "squaredLength", "str", "translate", "create", "dq", "ARRAY_TYPE", "clone", "a", "fromValues", "x1", "y1", "z1", "w1", "x2", "y2", "z2", "w2", "fromRotationTranslationValues", "ax", "ay", "az", "fromRotationTranslation", "out", "q", "t", "bx", "by", "bz", "bw", "fromTranslation", "fromRotation", "fromMat4", "outer", "getRotation", "getTranslation", "copy", "identity", "set", "getReal", "getDual", "setReal", "setDual", "aw", "translate", "v", "ax1", "ay1", "az1", "aw1", "bx1", "by1", "bz1", "ax2", "ay2", "az2", "aw2", "rotateX", "rad", "rotateY", "rotateZ", "rotateByQuatAppend", "qx", "qy", "qz", "qw", "rotateByQuatPrepend", "rotateAroundAxis", "axis", "EPSILON", "axisLength", "s", "add", "b", "multiply", "ax0", "ay0", "az0", "aw0", "bw1", "bx0", "by0", "bz0", "bw0", "mul", "scale", "dot", "lerp", "mt", "invert", "sqlen", "squaredLength", "conjugate", "length", "len", "sqrLen", "normalize", "magnitude", "a0", "a1", "a2", "a3", "b0", "b1", "b2", "b3", "a_dot_b", "str", "exactEquals", "equals", "a4", "a5", "a6", "a7", "b4", "b5", "b6", "b7", "Cursor", "Component", "inputComp", "CursorTarget", "ViewComponent", "onClick", "onPointerMove", "onPointerDown", "onPointerUp", "mat4_exports", "onViewportResize", "onXRSessionStart", "vec3_exports", "hitPosition", "dist", "visible", "doClick", "p", "rayHit", "cursorTarget", "s", "onSelect", "onSelectStart", "onSelectEnd", "bounds", "clientX", "clientY", "w", "h", "left", "top", "target", "f", "__publicField", "Type", "__decorate", "decorators", "target", "key", "desc", "c", "r", "d", "i", "DebugObject", "Component", "origin", "quat2_exports", "__publicField", "property", "FixedFoveation", "Component", "__publicField", "Type", "tempVec", "tempQuat", "setXRRigidTransformLocal", "o", "transform", "r", "t", "ORDERED_JOINTS", "HandTracking", "Component", "jointIds", "j", "joint", "mesh", "dt", "i", "inputSource", "p", "setXRRigidTransformLocal", "invTranslation", "invRotation", "quat_exports", "jointName", "jointPose", "r", "active", "object", "children", "o", "indexTipPos", "quat2_exports", "thumbTipPos", "vec3_exports", "s", "__publicField", "Type", "import_howler", "HowlerAudioListener", "Component", "__publicField", "Type", "import_howler", "HowlerAudioSource", "Component", "__publicField", "Type", "ImageTexture", "Component", "texture", "mat", "shader", "__publicField", "Type", "MouseLookComponent", "Component", "e", "parent", "vec3_exports", "canvas", "__publicField", "Type", "PlayerHeight", "Component", "__publicField", "Type", "TargetFramerate", "Component", "s", "a", "b", "__publicField", "Type", "TeleportComponent", "Component", "inputComp", "vec3_exports", "inputLength", "origin", "quat2_exports", "direction", "rayHit", "s", "i", "inputSource", "e", "newPosition", "rotationToAdd", "p", "p1", "__publicField", "Type", "direction", "vec3_exports", "offset", "normal", "Trail", "Component", "i", "vertexCount", "v", "Mesh", "MeshIndexType", "positions", "MeshAttribute", "texCoords", "normals", "curr", "next", "timeFraction", "fraction", "dt", "__publicField", "Type", "v", "a", "b", "twoJointIK", "ta", "ca", "ba", "ab", "cb", "axis0", "axis1", "temp", "r0", "r1", "r2", "a_lr", "b_lr", "c", "t", "eps", "a_gr", "b_gr", "helper", "vec3_exports", "lab", "lcb", "lat", "ac_ab_0", "ba_bc_0", "ac_at_0", "ac_ab_1", "ba_bc_1", "l", "quat_exports", "TwoJointIkSolver", "Component", "p", "tla", "tlb", "__publicField", "Type", "VideoTexture", "Component", "playAfterUserGesture", "mat", "shader", "texture", "Texture", "dt", "__publicField", "Type", "VrModeActiveSwitch", "Component", "obj", "comps", "c", "children", "i", "active", "__publicField", "Type", "VRM_ROLL_AXES", "VRM_AIM_AXES", "Vrm", "Component", "vec3_exports", "quat_exports", "mat4_exports", "quat2_exports", "root", "extensions", "child", "VRMC_vrm", "springBone", "humanoid", "boneName", "node", "objectId", "firstPerson", "meshAnnotation", "annotation", "lookAt", "parseRangeMap", "rangeMap", "traverse", "object", "nodeExtensions", "constraint", "type", "axis", "source", "colliders", "collider", "i", "shapeType", "c", "colliderGroups", "group", "spring", "joints", "joint", "springJoint", "springChainColliders", "cg", "springChain", "springBoneJoint", "childSpringBoneJoint", "springBonePosition", "childSpringBonePosition", "boneDirection", "state", "dt", "input", "maxValue", "outputScale", "lookAtSource", "lookAtTarget", "lookAtDirection", "z", "x", "yaw", "xz", "y", "pitch", "yawLeft", "eyeRotation", "yawRight", "nodeConstraint", "dstRestQuat", "srcRestQuatInv", "targetQuat", "deltaSrcQuat", "deltaSrcQuatInParent", "dstRestQuatInv", "deltaSrcQuatInDst", "toVec", "fromToQuat", "dstParentWorldQuat", "fromVec", "srcDeltaQuat", "shape", "cache", "offset", "shapeCenter", "headOffset", "tailOffset", "parentWorldRotation", "inertia", "stiffness", "external", "nextTail", "worldPosition", "tailToShape", "sphereCenter", "radius", "dist", "head", "tail", "headToTail", "dot", "nextTailDualQuat", "jointRotation", "visible", "mesh", "__publicField", "Type", "WasdControlsComponent", "Component", "direction", "vec3_exports", "__publicField", "Type", "version", "ZestyBanner", "Component", "formats", "MeshComponent", "CollisionComponent", "Collider", "CursorTarget", "formatsScript", "banner", "m", "pipeline", "sendOnLoadMetric", "openURL", "sendOnClickMetric", "space", "format", "style", "activeCampaign", "fetchCampaignAd", "image", "url", "texture", "__publicField", "Property", "ARCamera8thwall", "Cursor", "CursorTarget", "DebugObject", "DeviceOrientationLook", "FingerCursor", "FixedFoveation", "HandTracking", "HitTestLocation", "HowlerAudioListener", "HowlerAudioSource", "ImageTexture", "MouseLookComponent", "PlayerHeight", "TargetFramerate", "TeleportComponent", "Trail", "TwoJointIkSolver", "VideoTexture", "VrModeActiveSwitch", "Vrm", "WasdControlsComponent", "ZestyBanner"]
}
